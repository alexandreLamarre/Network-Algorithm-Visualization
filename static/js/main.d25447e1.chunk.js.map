{"version":3,"sources":["images/nodeExample.jpg","images/edgeExample.jpg","images/algorithmExample.jpg","images/algorithmHelpExamplejpg.jpg","images/algorithmSelectExample.jpg","images/algorithmSettings.jpg","images/algorithmSettingsHelp.jpg","images/degreeExample.jpg","images/layoutExample.jpg","images/networkExampleHelp.jpg","images/networkLayoutHelp.jpg","images/networkSettings.jpg","images/networkSettingsHelp.jpg","images/randomGenerationExample.jpg","images/resetNetworkExample.jpg","HelpWindow.js","AlgorithmAttributes.js","datatypes/Vertex.js","datatypes/Edge.js","networkgeneration/createRandomNetwork.js","datatypes/Force.js","NetworkAlgorithms/springEmbedding.js","NetworkAlgorithms/FruchtermanReingold.js","NetworkAlgorithms/kamadaKawai.js","NetworkAlgorithms/forceAtlas2.js","NetworkAlgorithms/forceAtlasLinLog.js","datatypes/UnionSets.js","MSTAlgorithms/kruskal.js","MSTAlgorithms/prims.js","TSP/opt2.js","TSP/opt3.js","Coloring/GreedyColoring.js","Network.js","helpInfoFunctions.js","TutorialWindow.js","TutorialInfoHelpers.js","GeneralNetworkSettings.js","NetworkAlgorithmSettings.js","NetworkSideDrawer.js","NetworkNavBar.js","networkgeneration/createRandomNetwork3D.js","NetworkAlgorithms/FruchtermanReingold3D.js","NetworkAlgorithms/springEmbedding3D.js","NetworkAlgorithms/forceAtlasLinLog-3D.js","NetworkAlgorithms/forceAtlas2-3D.js","Network3D.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Modal","setAppElement","HelpWindow","props","state","title","info","details","open","this","setState","v","className","isOpen","onRequestClose","setOpen","overlayClassName","shouldCloseOnOverlayClick","onClick","React","Component","AlgorithmAttributes","layout","parentHelp","delta","app","settings","spring","eps","crep","kr","cspring","ka","C","maxX","maxY","cTemp","fruchterman","tempHeuristic","cPercentage","areascaling","collision","distanceType","forceatlas2","fr","gravity","gravityType","kg","tau","ksmax","overlappingNodes","filtering","filter","help","createRef","waitsetCREP","waitsetCSPRING","waitsetDelta","waitsetEpsilon","waitsetC","waitsetCTEMP","waitsetKr","waitsetGravity","waitsetGravityType","waitsetGravityStrength","waitsetTau","waitsetKsmax","waitsetOverlappingNodes","waitsetTempHeuristic","waitsetCollision","waitsetDistanceType","e","console","log","ref","value","onChange","target","indexOf","toLowerCase","type","min","max","step","event","setCSPRING","disabled","running","setCREP","setEpsilon","setDelta","setC","setDistanceType","setCTEMP","setTempHeuristic","setKr","setGravity","setGravityStrength","setTau","setKsmax","setOverlappingNodes","waitSetSettings","that","a","forceatlaslinlog","parseFloat","parseInt","Vertex","x","y","z","undefined","degree","size","color","other","vector","setX","setY","setZ","Edge","start","end","weight","alpha","createRandomNetwork","maxWidth","maxHeight","numV","numE","conn","randomType","connected","seed","maxDegree","maxEdges","Math","floor","vertices","available_vertices","center","radius","i","point","createRandomPos","createRandomPosCircle","push","edges","already_connected","Map","remainingEdges","unvisited","visited","vIndex1","pickRandomVertex","v1","removeFromArray","visited_num","vIndex2","v2","increment_degree","indexTo","indexFrom","set","length","connectRandomVertices","slice","random1","random2","get","splice","root","initial_path","pick_random_array","remove_from_array","next_node","initial_random_cycle","path","random","randomAngle","PI","cos","sin","array","index","concat","item","Force","CREP","CSPRING","lx","ly","frepulse","dist","distance","unitV","unitVector","sqrt","fattract","pow","new_x","new_y","K","ITERATIONS","unitvector","distX","distY","cool","t","initial_temperature","kamadaKawai","graph_distancex","graph_distancey","iterations","L0","new_vertices","new_edges","j","k","adj","force_list","adj_row","force_list_row","Infinity","max_dij","maxRow","map","row","apply","FloydWarshallAlgo","ideal_length","maxdM","partials_list","dM","dx","dy","d2Ed2x","d2Ed2y","d2Edxdy","d2Edydx","dEdx","dEdy","new_dEdx","new_dEdy","fgravity","dist_center","UnionSets","contents","representative","el","setRepresentative","getRepresentative","VERTICES","kruskal","dimension","make_set","sorted_edges","sort","e1","e2","color_animations","trees","tree_indices","u","add","val","vIndex","eIndex","dim","prim","coloring","vertexQueue","key","parent","vertex","A","pop","poppedValue","I","opt2","better_solution","calculate_distance_path","n","new_path","temp","m","setColor","setAlpha","total_dist","opt3","b","c","values","reverse_segment_if_better","B","D","E","F","d0","d1","d2","d3","d4","reversed_path","reversed_path_three","GreedyColoring","initial_color","end_color","max_degree","assigned_colors","createAdjacencyMatrix","animations","colors","color1","color2","num_colors","uniform_factor","new_colors","new_hue","convertHSLtoRGB","createColorGradient","new_color","convertColor","getAvailableColors","getNeighbors","construct3DacceptableRGB","neighbors","all_colors","available_colors","colorConvert","checkColorIn","toString","arr","split","red","hue","saturation","lightness","abs","X","check_degrees","color_array","NetworkVisualizer","canvas","width","height","sorted","maxtimeouts","algoType","layoutType","TSP","tutorial","w","window","innerHeight","h","current","ctx","getContext","beginPath","fillStyle","arc","fill","closePath","index1","index2","moveTo","lineTo","globalAlpha","strokeStyle","stroke","cancelAnimation","W","L","distType","scaling_factor","f","vert_connected","calcs","addVector","iteration_animation","minX","minY","scale","springEmbedding","animateNetwork","kIter","coolingtype","temperature","temperature_list","ncalcs","iter_animations","origin","unitForce","fruchtermanReingold","previous_forces","repulse_force","attractive_force","attractive_force_opp","center_force","gravity_force","sG","traG","swgG","traN","swgN","sN","forceAtlas2","forceAtlasLinLog","waitSetEdges","animateColoring","animateTSP","generateForceDirectedLayout","generateReingold","generateKamadaKawai","generateForceAtlas2","generateForceAtlasLinLog","generateHall","generateSpectralDrawing","generateRadialFlowDirected","generateKruskal","generatePrim","generate2Opt","generate3Opt","generateGreedyVertex","func","setTimeout","animateEdges","MAX_TIMEOUT","animationSpeed","final_vertices","setVector","setRandomizedType","waitSetRandomizedType","attribute","getHelpInfo","setTitle","setInfo","setDetails","waitSetLayout","innerWidth","id","clearInterval","setAlgoType","label","hidden","runAlgorithm","setLayoutType","resetNetwork","resetColoring","TutorialWindow","pageNumber","maxPageNumber","document","getElementById","page","getPageInfo","innerHTML","network","network3d","GeneralNetworkSettings","ms","waitSetVertices","waitSetConnected","style","setAnimationSpeed","name","setVertices","setEdges","setConnected","disconnected","setDisconnectedSubgraphs","NetworkAlgorithmSettings","attributes","DrawerToggleButton","openSettings","NetworkSideDrawer","generalsettings","algorithmsettings","switchDimension","href","NetworkNavBar","minLength","list","createRandomNetwork3D","maxDepth","createRandomPosSphere","theta","asin","distZ","new_z","NetworkVisualizer3D","depth","scene","camera","renderer","spheres","lines","dragging","previousMouseX","previousMouseY","d","THREE","setSize","pointLight","position","render","geometry","material","sphere","opacity","points","setFromPoints","line","pos","needsUpdate","minZ","maxZ","springEmbedding3D","fruchtermanReingold3D","forceAtlas23D","forceAtlasLinLog3D","sign","clientX","clientY","deltaX","deltaY","onWheel","zoomCamera","onMouseDown","startDrag","onMouseUp","endDrag","onMouseMove","rotateCamera","resetCamera","App","maxE","minE","navbar","Boolean","location","hostname","match","ReactDOM","StrictMode","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.d25447e1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/nodeExample.5fd89714.jpg\";","module.exports = \"data:image/jpeg;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/algorithmExample.f39de4af.jpg\";","module.exports = __webpack_public_path__ + \"static/media/algorithmHelpExamplejpg.b6aa24e0.jpg\";","module.exports = __webpack_public_path__ + \"static/media/algorithmSelectExample.3744c0e4.jpg\";","module.exports = __webpack_public_path__ + \"static/media/algorithmSettings.cec21247.jpg\";","module.exports = __webpack_public_path__ + \"static/media/algorithmSettingsHelp.34c4ed1a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/degreeExample.c4adba84.jpg\";","module.exports = __webpack_public_path__ + \"static/media/layoutExample.95ddca1a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/networkExampleHelp.ca818165.jpg\";","module.exports = __webpack_public_path__ + \"static/media/networkLayoutHelp.5e4c201e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/networkSettings.a8731822.jpg\";","module.exports = __webpack_public_path__ + \"static/media/networkSettingsHelp.ec236d7a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/randomGenerationExample.8fb53753.jpg\";","module.exports = __webpack_public_path__ + \"static/media/resetNetworkExample.6f416974.jpg\";","import React from \"react\";\r\nimport Modal from \"react-modal\";\r\n\r\nimport \"./HelpWindow.css\";\r\nModal.setAppElement(\"#root\");\r\n\r\nclass HelpWindow extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      title: \"HELP\",\r\n      info: \"help window\",\r\n      details: \"details\",\r\n      open: false,\r\n    }\r\n  }\r\n\r\n  setInfo(info){\r\n    this.setState({info: info});\r\n  }\r\n\r\n  setTitle(title){\r\n    this.setState({title:title});\r\n  }\r\n\r\n  setOpen(v){\r\n    this.setState({open: v});\r\n  }\r\n\r\n  setDetails(v){\r\n    this.setState({details: v});\r\n  }\r\n\r\n  render(){\r\n    // const = [modalIsOpen, setModalIsOpen] = useState()\r\n    return <div className = \"helpwindow\">\r\n      <Modal isOpen = {this.state.open} onRequestClose = {() => this.setOpen(false)}\r\n      overlayClassName = \"Overlay\" shouldCloseOnOverlayClick = {true}>\r\n        <button className = \"closeb\" onClick = {() => this.setOpen(false)}> X </button>\r\n        <h2> {this.state.title}</h2>\r\n        <h3> Overview </h3>\r\n        <p> {this.state.info}</p>\r\n        <h3> Details </h3>\r\n        <p> {this.state.details}</p>\r\n      </Modal>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default HelpWindow;\r\n","import React from \"react\";\r\nimport HelpWindow from \"./HelpWindow\";\r\nimport getHelpInfo from \"./helpInfoFunctions\";\r\n\r\nimport \"./AlgorithmAttributes.css\";\r\n\r\nclass AlgorithmAttributes extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      layout : \"spring\",\r\n      parentHelp: null,\r\n      delta: this.props.app.state.settings.spring.delta, //spring\r\n      eps : this.props.app.state.settings.spring.eps, //spring\r\n      crep: this.props.app.state.settings.spring.kr, //spring\r\n      cspring: this.props.app.state.settings.spring.ka, //spring\r\n      C: 2, // spring\r\n      maxX: 0,\r\n      maxY: 0,\r\n      cTemp: this.props.app.state.settings.fruchterman.cTemp, //fruchtermanReingold\r\n      tempHeuristic: this.props.app.state.settings.fruchterman.tempHeuristic,//this.props.app.settings.fruchterman.tempHeuristic, //fruchtermanReingold\r\n      cPercentage: this.props.app.state.settings.spring.areascaling, // spring\r\n      collision: 2, //fruchterman\r\n      distanceType: this.props.app.state.settings.spring.distanceType, // spring\r\n      kr: this.props.app.state.settings.forceatlas2.fr, // forceAtlas2\r\n      gravity: this.props.app.state.settings.forceatlas2.gravity, //forceAtlas2\r\n      gravityType : \"Normal\",//forceAtlas2\r\n      kg: this.props.app.state.settings.forceatlas2.kg, //forceAtlas2\r\n      tau: this.props.app.state.settings.forceatlas2.tau,//forceAtlas2\r\n      ksmax: this.props.app.state.settings.forceatlas2.ksmax, //forceAtlas2\r\n      overlappingNodes: true, //forceAtlas2\r\n      filtering: this.props.filtering,\r\n      filter: this.props.filter,\r\n    }\r\n    this.help = React.createRef();\r\n    this.app= this.props.app;\r\n    this.settings = this.props.settings;\r\n  }\r\n\r\n\r\n  setCREP(v){\r\n    waitsetCREP(v, this);\r\n  }\r\n\r\n  setCSPRING(v){\r\n    waitsetCSPRING(v, this);\r\n  }\r\n\r\n  setDelta(v){\r\n    waitsetDelta(v, this);\r\n  }\r\n\r\n  setEpsilon(v){\r\n    waitsetEpsilon(v, this);\r\n  }\r\n\r\n  setC(v){\r\n    waitsetC(v, this);\r\n  }\r\n\r\n  setCTEMP(v){\r\n    waitsetCTEMP(v, this);\r\n  }\r\n\r\n  setKr(v){\r\n    waitsetKr(v,this);\r\n  }\r\n\r\n  setGravity(v){\r\n    waitsetGravity(v, this);\r\n  }\r\n\r\n  setGravityType(v){\r\n    waitsetGravityType(v, this);\r\n  }\r\n\r\n  setGravityStrength(v){\r\n    waitsetGravityStrength(v, this);\r\n  }\r\n\r\n  setTau(v){\r\n    waitsetTau(v, this);\r\n  }\r\n\r\n  setKsmax(v){\r\n    waitsetKsmax(v, this);\r\n  }\r\n\r\n  setOverlappingNodes(v){\r\n    waitsetOverlappingNodes(v, this);\r\n  }\r\n  setTempHeuristic(v){\r\n    waitsetTempHeuristic(v, this);\r\n  }\r\n\r\n  setCollision(v){\r\n    waitsetCollision(v, this);\r\n  }\r\n\r\n  setDistanceType(v){\r\n    waitsetDistanceType(v, this);\r\n  }\r\n\r\n\r\n  filter(e){\r\n    if(e === \"\") {\r\n      this.setState({filtering: false, filter: e});\r\n      this.settings.setState({filtering: false, filter: e});\r\n      console.log(\"default\");\r\n    }\r\n    else{\r\n      this.settings.setState({filtering: true, filter: e});\r\n      this.setState({filtering: true, filter: e});\r\n    }\r\n  }\r\n  render(){\r\n      return <div className = \"Attributes\">\r\n      <HelpWindow ref = {this.help}></HelpWindow>\r\n      <div className = \"searchbar\">\r\n        <label className = \"attributesearch\"> Search for Algorithm: </label>\r\n        <input value = {this.state.filter} onChange = {(e) => this.filter(e.target.value)}/>\r\n      </div>\r\n      {(this.state.filtering === true && \"spring embedding\".indexOf(this.state.filter.toLowerCase()) !== -1 ) || (this.state.filtering === false)\r\n      ?<div><p> Spring Embedding</p><div className = \"sliders\">\r\n                <input className = \"slider\"\r\n                type = \"range\"\r\n                min = \"0.1\"\r\n                max = \"2\"\r\n                step = \"0.1\"\r\n                value = {this.state.cspring}\r\n                onChange = {(event)=> this.setCSPRING(event.target.value)}\r\n                disabled = {this.state.running}>\r\n                </input>\r\n                <label> Force of Attraction: {this.state.cspring}</label>\r\n                </div>\r\n                <div className = \"sliders\">\r\n                <input className = \"slider\"\r\n                type = \"range\"\r\n                min = \"0.1\"\r\n                max = \"2\"\r\n                step = \"0.1\"\r\n                value ={this.state.crep}\r\n                onChange = {(event)=> this.setCREP(event.target.value)}\r\n                disabled = {this.state.running}>\r\n                </input>\r\n                <label> Force of Repulsion : {this.state.crep}</label>\r\n              </div>\r\n                <div className = \"sliders\">\r\n                <input className = \"slider\"\r\n                type = \"range\"\r\n                min = \"0.001\"\r\n                max = \"3\"\r\n                value = {this.state.eps}\r\n                step = \"0.001\"\r\n                onChange = {(event)=> this.setEpsilon(event.target.value)}\r\n                disabled = {this.state.running}>\r\n                </input>\r\n                <label> Convergence Bound : {this.state.eps}</label>\r\n                </div>\r\n                <div className = \"sliders\">\r\n                <input className = \"slider\"\r\n                type = \"range\"\r\n                min = \"0.1\"\r\n                max = \"2\"\r\n                step = \"0.1\"\r\n                value = {this.state.delta}\r\n                onChange = {(event)=> this.setDelta(event.target.value)}\r\n                disabled = {this.state.running}>\r\n                </input>\r\n                <label> Rate of Convergence: {this.state.delta}</label>\r\n                </div>\r\n                <div className = \"sliders\">\r\n                <input className = \"slider\"\r\n                type = \"range\"\r\n                min = \"0\"\r\n                max = \"100\"\r\n                value = {this.state.cPercentage}\r\n                step = \"0.1\"\r\n                onChange = {(event)=> this.setC(event.target.value)}\r\n                disabled = {this.state.running}>\r\n                </input>\r\n                <label> Force to Area scaling: {this.state.cPercentage}%</label>\r\n                </div>\r\n                <div className = \"sliders\">\r\n                <input className = \"slider\"\r\n                type = \"range\"\r\n                min = \"0\"\r\n                max = \"1\"\r\n                value = {this.state.distanceType}\r\n                step = \"1\"\r\n                onChange = {(event)=> this.setDistanceType(event.target.value)}\r\n                disabled = {this.state.running}>\r\n                </input>\r\n                <label> Distance: {this.state.distanceType === 1? \"Continuous\": \"Graph Theoretic\"}</label>\r\n                </div>\r\n                </div>\r\n                : <></>}\r\n              {(this.state.filtering === true && \"fruchterman-reingold\".indexOf(this.state.filter.toLowerCase()) !== -1 ) || (this.state.filtering === false)\r\n              ?<div><p>Fruchterman-Reingold</p>\r\n              <div className = \"Attributes\">\r\n                <HelpWindow ref = {this.help}></HelpWindow>\r\n                <div className = \"sliders\">\r\n                  <input className = \"slider\"\r\n                  type = \"range\"\r\n                  min = \"0.1\"\r\n                  max = \"3\"\r\n                  step = \"0.1\"\r\n                  value = {this.state.cTemp}\r\n                  onChange = {(event)=> this.setCTEMP(event.target.value)}\r\n                  disabled = {this.state.running}>\r\n                  </input>\r\n                  <label> Initial Temperature Scaling: {this.state.cTemp}</label>\r\n                </div>\r\n                <div className = \"sliders\">\r\n                  <input className = \"slider\"\r\n                  type = \"range\"\r\n                  min = \"1\"\r\n                  max = \"3\"\r\n                  value = {this.state.tempHeuristic === \"Logarithmic\"?1:this.state.tempHeuristic === \"Linear\"?2:3}\r\n                  step = \"1\"\r\n                  onChange = {(event)=> this.setTempHeuristic(event.target.value)}\r\n                  disabled = {this.state.running}>\r\n                  </input>\r\n                  <label> Temperature Cooling: {this.state.tempHeuristic}</label>\r\n                  <input className = \"slider\"\r\n                  type = \"range\"\r\n                  min = \"0.001\"\r\n                  max = \"1\"\r\n                  value = {this.state.eps}\r\n                  step = \"0.001\"\r\n                  onChange = {(event)=> this.setEpsilon(event.target.value)}\r\n                  disabled = {this.state.running}>\r\n                  </input>\r\n                  <label> Convergence Bound : {this.state.eps}</label>\r\n                </div>\r\n              </div>\r\n              </div>\r\n              : <></>}\r\n            {(this.state.filtering === true && \"forceatlas2\".indexOf(this.state.filter.toLowerCase()) !== -1 ) || (this.state.filtering === false)\r\n            ?<div><p> ForceAtlas2 </p>\r\n            <div className = \"Attributes\">\r\n                <HelpWindow ref = {this.help}></HelpWindow>\r\n                <div className = \"sliders\">\r\n                  <input className = \"slider\"\r\n                  type = \"range\"\r\n                  min = \"0.1\"\r\n                  max = \"100\"\r\n                  step = \"0.1\"\r\n                  value = {this.state.kr}\r\n                  onChange = {(event) => this.setKr(event.target.value)}\r\n                  disabled = {this.state.running}>\r\n                  </input>\r\n                  <label> Force of Repulsion: {this.state.kr}</label>\r\n                </div>\r\n                <div className = \"sliders\">\r\n                  <input className = \"slider\"\r\n                  type = \"range\"\r\n                  min = \"0\"\r\n                  max = \"1\"\r\n                  step = \"1\"\r\n                  value = {this.state.gravity === true? 1:0}\r\n                  onChange = {(event) => this.setGravity(event.target.value)}\r\n                  disabled = {this.state.running}>\r\n                  </input>\r\n                  <label> Gravity: {this.state.gravity === true? \"On\": \"Off\"}</label>\r\n                </div>\r\n                <div className = \"sliders\">\r\n                  <input className = \"slider\"\r\n                  type = \"range\"\r\n                  min = \"0\"\r\n                  max = \"20\"\r\n                  step = \"0.1\"\r\n                  value = {this.state.kg}\r\n                  onChange = {(event) => this.setGravityStrength(event.target.value)}\r\n                  disabled = {this.state.running || !(this.state.gravity)}>\r\n                  </input>\r\n                  <label> Gravity Strength: {this.state.kg}</label>\r\n                </div>\r\n                <div className = \"sliders\">\r\n                  <input className = \"slider\"\r\n                  type = \"range\"\r\n                  min = \"0.1\"\r\n                  max = \"2\"\r\n                  step = \"0.1\"\r\n                  value = {this.state.tau}\r\n                  onChange = {(event) => this.setTau(event.target.value)}\r\n                  disabled = {this.state.running}>\r\n                  </input>\r\n                  <label> Tolerance(speed): {this.state.tau}</label>\r\n                </div>\r\n                <div className = \"sliders\">\r\n                  <input className = \"slider\"\r\n                  type = \"range\"\r\n                  min = \"1\"\r\n                  max = \"20\"\r\n                  step = \"0.1\"\r\n                  value = {this.state.ksmax}\r\n                  onChange = {(event) => this.setKsmax(event.target.value)}\r\n                  disabled = {this.state.running}>\r\n                  </input>\r\n                  <label> Temperature Cap: {this.state.ksmax}</label>\r\n                </div>\r\n                <div className = \"sliders\">\r\n                  <input className = \"slider\"\r\n                  type = \"range\"\r\n                  min = \"0\"\r\n                  max = \"1\"\r\n                  step = \"1\"\r\n                  value = {this.state.overlappingNodes === true? \"0\":\"1\"}\r\n                  onChange = {(event) => this.setOverlappingNodes(event.target.value)}\r\n                  disabled = {true}>\r\n                  </input>\r\n                  <label> Overlap Nodes: {this.state.overlappingNodes === true? \"On\": \"Off\"}</label>\r\n                </div>\r\n             </div>\r\n             </div>\r\n             : <> </>}\r\n             {(this.state.filtering === true && \"forceatlaslinlog\".indexOf(this.state.filter.toLowerCase()) !== -1 ) || (this.state.filtering === false)\r\n            ?<div><p>ForceAtlasLinLog</p>\r\n            <div className = \"Attributes\">\r\n                <HelpWindow ref = {this.help}></HelpWindow>\r\n                <div className = \"sliders\">\r\n                  <input className = \"slider\"\r\n                  type = \"range\"\r\n                  min = \"0.1\"\r\n                  max = \"100\"\r\n                  step = \"0.1\"\r\n                  value = {this.state.kr}\r\n                  onChange = {(event) => this.setKr(event.target.value)}\r\n                  disabled = {this.state.running}>\r\n                  </input>\r\n                  <label> Force of Repulsion: {this.state.kr}</label>\r\n                </div>\r\n                <div className = \"sliders\">\r\n                  <input className = \"slider\"\r\n                  type = \"range\"\r\n                  min = \"0\"\r\n                  max = \"1\"\r\n                  step = \"1\"\r\n                  value = {this.state.gravity === true? 1:0}\r\n                  onChange = {(event) => this.setGravity(event.target.value)}\r\n                  disabled = {this.state.running}>\r\n                  </input>\r\n                  <label> Gravity: {this.state.gravity === true? \"On\": \"Off\"}</label>\r\n                </div>\r\n                <div className = \"sliders\">\r\n                  <input className = \"slider\"\r\n                  type = \"range\"\r\n                  min = \"0\"\r\n                  max = \"20\"\r\n                  step = \"0.1\"\r\n                  value = {this.state.kg}\r\n                  onChange = {(event) => this.setGravityStrength(event.target.value)}\r\n                  disabled = {this.state.running || !(this.state.gravity)}>\r\n                  </input>\r\n                  <label> Gravity Strength: {this.state.kg}</label>\r\n                </div>\r\n                <div className = \"sliders\">\r\n                  <input className = \"slider\"\r\n                  type = \"range\"\r\n                  min = \"0.1\"\r\n                  max = \"2\"\r\n                  step = \"0.1\"\r\n                  value = {this.state.tau}\r\n                  onChange = {(event) => this.setTau(event.target.value)}\r\n                  disabled = {this.state.running}>\r\n                  </input>\r\n                  <label> Tolerance(speed): {this.state.tau}</label>\r\n                </div>\r\n                <div className = \"sliders\">\r\n                  <input className = \"slider\"\r\n                  type = \"range\"\r\n                  min = \"1\"\r\n                  max = \"20\"\r\n                  step = \"0.1\"\r\n                  value = {this.state.ksmax}\r\n                  onChange = {(event) => this.setKsmax(event.target.value)}\r\n                  disabled = {this.state.running}>\r\n                  </input>\r\n                  <label> Temperature Cap: {this.state.ksmax}</label>\r\n                </div>\r\n                <div className = \"sliders\">\r\n                  <input className = \"slider\"\r\n                  type = \"range\"\r\n                  min = \"0\"\r\n                  max = \"1\"\r\n                  step = \"1\"\r\n                  value = {this.state.overlappingNodes === true? \"0\":\"1\"}\r\n                  onChange = {(event) => this.setOverlappingNodes(event.target.value)}\r\n                  disabled = {true}>\r\n                  </input>\r\n                  <label> Overlap Nodes: {this.state.overlappingNodes === true? \"On\": \"Off\"}</label>\r\n                </div>\r\n                </div>\r\n\r\n             </div>\r\n             : <></>}\r\n            </div>\r\n  }\r\n}\r\n\r\nexport default AlgorithmAttributes;\r\n\r\n\r\nasync function waitSetSettings(app, that){\r\n  await app.setState({settings: {\r\n    spring: {ka: that.state.cspring, kr: that.state.crep, eps: that.state.eps,\r\n            delta: that.state.delta, areascaling: that.state.cPercentage,\r\n            distanceType: that.state.distanceType},\r\n    fruchterman: {cTemp: that.state.cTemp,\r\n            tempHeuristic: that.state.tempHeuristic, eps: that.state.eps},\r\n    forceatlas2: {fr: that.state.kr, gravity: that.state.gravity,\r\n                  gravityType: that.state.gravityType, kg: that.state.kg,\r\n                  tau: that.state.tau, ksmax: that.state.ksmax,\r\n                  overlappingNodes: that.state.overlappingNodes},\r\n    forceatlaslinlog: {fr: that.state.kr, gravity: that.state.gravity,\r\n                  gravityType: that.state.gravityType, kg: that.state.kg,\r\n                  tau: that.state.tau, ksmax: that.state.ksmax,\r\n                  overlappingNodes: that.state.overlappingNodes}}});\r\n  console.log(app.state.settings);\r\n}\r\n\r\n\r\nasync function waitsetCREP(v, that){\r\n  const value = parseFloat(v);\r\n  await that.setState({crep:value});\r\n  waitSetSettings(that.app, that)\r\n}\r\n\r\nasync function waitsetCSPRING(v, that){\r\n  const value = parseFloat(v);\r\n  await that.setState({cspring:value});\r\n  waitSetSettings(that.app, that)\r\n}\r\n\r\nasync function waitsetDelta(v, that){\r\n  const value = parseFloat(v);\r\n  await that.setState({delta:value});\r\n  waitSetSettings(that.app, that)\r\n}\r\n\r\nasync function waitsetEpsilon(v, that){\r\n  const value = parseFloat(v);\r\n  await that.setState({eps:value});\r\n  waitSetSettings(that.app, that)\r\n}\r\n\r\nasync function waitsetC(v, that){\r\n  const value = parseFloat(v)\r\n  await that.setState({cPercentage: value});\r\n  waitSetSettings(that.app, that)\r\n}\r\n\r\nasync function waitsetCTEMP(v, that){\r\n  const value = parseFloat(v);\r\n  await that.setState({cTemp:value});\r\n  waitSetSettings(that.app, that)\r\n}\r\n\r\nasync function waitsetKr(v, that){\r\n  const value = parseFloat(v);\r\n  await that.setState({kr: value})\r\n  waitSetSettings(that.app, that)\r\n}\r\n\r\nasync function waitsetGravity(v, that){\r\n  const value = parseInt(v);\r\n  if(value === 0) await that.setState({gravity:false});\r\n  if(value === 1) await that.setState({gravity: true});\r\n  waitSetSettings(that.app, that)\r\n}\r\n\r\nasync function waitsetGravityType(v, that){\r\n  const value = parseInt(v);\r\n  if(value === 0) await that.setState({gravityType: \"Normal\"});\r\n  if(value === 1) await that.setState({gravityType: \"Strong\"});\r\n  waitSetSettings(that.app, that)\r\n}\r\n\r\nasync function waitsetGravityStrength(v, that){\r\n  const value = parseFloat(v);\r\n  await that.setState({kg: value});\r\n  waitSetSettings(that.app, that)\r\n}\r\n\r\nasync function waitsetTau(v, that){\r\n  const value = parseFloat(v);\r\n  await that.setState({tau:value});\r\n  waitSetSettings(that.app, that)\r\n}\r\n\r\nasync function waitsetKsmax(v, that){\r\n  const value = parseFloat(v);\r\n  await that.setState({ksmax:value})\r\n  waitSetSettings(that.app, that)\r\n}\r\n\r\nasync function waitsetOverlappingNodes(v, that){\r\n  const value = parseInt(v);\r\n  if(value === 0) await that.setState({overlappingNodes:true});\r\n  if(value === 1) await that.setState({overlappingNodes: false})\r\n  waitSetSettings(that.app, that)\r\n}\r\nasync function waitsetTempHeuristic(v, that){\r\n  const value = parseInt(v);\r\n  if(value===1) await that.setState({tempHeuristic: \"Logarithmic\"});\r\n  if(value===2) await that.setState({tempHeuristic: \"Linear\"});\r\n  if(value===3) await that.setState({tempHeuristic: \"Directional\"});\r\n  if(value===4) await that.setState({tempHeuristic: \"None\"});\r\n  waitSetSettings(that.app, that);\r\n}\r\n\r\nasync function waitsetCollision(v, that){\r\n  const value = parseInt(v);\r\n  await that.setState({collision: value});\r\n  waitSetSettings(that.app, that)\r\n}\r\n\r\nasync function waitsetDistanceType(v, that){\r\n  const value = parseInt(v);\r\n  await that.setState({distanceType : value});\r\n  waitSetSettings(that.app, that)\r\n}\r\n","class Vertex {\r\n  constructor(x, y, z){\r\n    this.x = x;\r\n    this.y = y;\r\n    this.z = z;\r\n    if(this.z === undefined) this.z = null;\r\n    this.degree = 0;\r\n    this.size = 3;\r\n    this.color = \"rgb(0,255,255)\";\r\n  }\r\n\r\n  add(other){\r\n    this.x += other.x;\r\n    this.y += other.y;\r\n    if(this.z !== null) this.z += other.z;\r\n  }\r\n\r\n  /*In case we need to set specific coordinates, but we shouldn't have to */\r\n\r\n  setX(x){\r\n    this.x = x;\r\n  }\r\n\r\n  setY(y){\r\n    this.y = y;\r\n  }\r\n\r\n  setZ(z){\r\n    this.z = z;\r\n  }\r\n\r\n  increment_degree(){\r\n    this.degree += 1;\r\n  }\r\n\r\n  setSize(size){\r\n    this.size = size;\r\n  }\r\n\r\n  setColor(color){\r\n    this.color = color;\r\n  }\r\n\r\n  setVector(vector){\r\n    this.setX(vector[0]);\r\n    this.setY(vector[1]);\r\n    if(vector[2] !== undefined && this.z !== null){\r\n      this.setZ(vector[2]);\r\n    }\r\n  }\r\n}\r\n\r\nexport default Vertex;\r\n","class Edge{\r\n  /*\r\n  Colors are in rgba format\r\n  */\r\n  constructor(start, end, weight, color){\r\n    this.start = start;\r\n    this.end = end;\r\n    this.weight = weight;\r\n    if(this.weight === undefined || this.weight === null) this.weight = 1;\r\n    this.color = color;\r\n    if(this.color === undefined || color ===null) this.color = \"rgb(0,0,0)\";\r\n    this.alpha = 0.1;\r\n  }\r\n\r\n  setColor(color){\r\n    this.color = color;\r\n  }\r\n\r\n  setAlpha(alpha){\r\n    this.alpha = alpha;\r\n  }\r\n}\r\n\r\nexport default Edge;\r\n","import Vertex from \"../datatypes/Vertex\";\r\nimport Edge from \"../datatypes/Edge\";\r\n\r\nexport default function createRandomNetwork(maxWidth, maxHeight, numV, numE, conn, randomType){\r\n  let connected = conn === undefined? \"False\": conn;\r\n  let seed = randomType === undefined? \"random\": randomType;\r\n  const maxDegree = numV-1;\r\n  let maxEdges = Math.floor((maxDegree*numV)/2)\r\n  const maxEdgesValue = maxEdges;\r\n  let vertices = [];\r\n  let available_vertices = [];\r\n  const center = [maxWidth/2, maxHeight/2];\r\n  const radius = (maxHeight/2)*0.90;\r\n\r\n  //create random points on canvas\r\n  for(let i = 0; i < numV; i ++){\r\n    var point = [0,0]\r\n    if(seed === \"random\" || seed === \"cycle\") point = createRandomPos(maxWidth, maxHeight);\r\n    if(seed === \"randomcircle\") point = createRandomPosCircle(center, radius);\r\n    vertices.push( new Vertex(point[0], point[1]));\r\n    available_vertices.push(i);\r\n  }\r\n  let edges = [];\r\n  if(!(seed === \"cycle\")){\r\n    let already_connected = new Map();\r\n    let remainingEdges = numE;\r\n    if(connected === \"True\"){\r\n      let unvisited = [];\r\n      for(var i = 0; i < numV; i++){\r\n        unvisited.push(i);\r\n      }\r\n      let visited = [];\r\n      var vIndex1 = pickRandomVertex(unvisited);\r\n      var v1 = unvisited[vIndex1];\r\n      visited.push(v1);\r\n      unvisited = removeFromArray(unvisited, vIndex1);\r\n\r\n      var visited_num = 1;\r\n      while(visited_num < numV){\r\n        var vIndex2 = pickRandomVertex(unvisited)\r\n        var v2 = unvisited[vIndex2];\r\n        visited.push(v2); //add to visited\r\n        edges.push( new Edge(v1,v2));\r\n        vertices[v1].increment_degree();\r\n        vertices[v2].increment_degree();\r\n        remainingEdges --;\r\n        maxEdges --;\r\n        const indexTo = v1 + 1000* v2; // works as long as numV < 1000\r\n        const indexFrom = v2+ 1000*v1;\r\n        already_connected.set(indexTo, true);\r\n        already_connected.set(indexFrom, true);\r\n        //remove from unvisited\r\n        unvisited = removeFromArray(unvisited, vIndex2);\r\n        //reset v1\r\n        vIndex1 = pickRandomVertex(visited);\r\n        v1 = visited[vIndex1];\r\n        visited_num ++;\r\n      }\r\n    }\r\n    while(remainingEdges > 0 && maxEdges > 0 && available_vertices.length > 1){\r\n      const [random1, random2] = connectRandomVertices(available_vertices.slice());\r\n      if(random1 === random2) console.log(\"unexpected\");\r\n      if(random1 === undefined) console.log(\"unexpected undefiend 1\");\r\n      if(random2 === undefined) console.log(\"unexpected undefined 2\");\r\n      // console.log(\"rem:\", remainingEdges, \"max\", maxEdges);\r\n      const indexTo = random1+1000*random2; // as long as numV < 1000 this works\r\n      const indexFrom = random2+1000*random1;\r\n      if(already_connected.get(indexTo) === undefined ){\r\n        edges.push(new Edge(random1, random2));\r\n        vertices[random1].increment_degree();\r\n        vertices[random2].increment_degree();\r\n        if(vertices[random1].degree > maxDegree) available_vertices.splice(random1, 1);\r\n        if(vertices[random2].degree > maxDegree) available_vertices.splice(random2, 1);\r\n        already_connected.set(indexTo, true);\r\n        already_connected.set(indexFrom, true);\r\n        remainingEdges --;\r\n        maxEdges --;\r\n        }\r\n      }\r\n  }\r\n  else{\r\n    //seed = cycle\r\n    var [path,root] = initial_random_cycle(vertices);\r\n    for(let i = 0; i < path.length-1; i++){\r\n      edges.push(new Edge(path[i], path[i+1]));\r\n    }\r\n    for(let i = 0; i < vertices.length; i ++){\r\n      vertices[i].degree = 2;\r\n    }\r\n  }\r\n  return [vertices,edges];\r\n}\r\n\r\nfunction createRandomPos(maxWidth, maxHeight){\r\n  return [Math.random()*(maxWidth+1-3), Math.random()*(maxHeight+1-3)];\r\n}\r\n\r\nfunction createRandomPosCircle(center,radius){\r\n  const randomAngle = Math.random()*(2*Math.PI);\r\n  return [center[0] + radius*Math.cos(randomAngle), center[1]+radius*Math.sin(randomAngle)];\r\n}\r\n\r\nfunction connectRandomVertices(vertices){\r\n  var random1 = vertices[Math.floor(Math.random()*vertices.length)];\r\n  vertices.splice(random1,1);\r\n  var random2 = vertices[Math.floor(Math.random()*vertices.length)];\r\n\r\n  return [random1, random2];\r\n}\r\n\r\nfunction pickRandomVertex(array){\r\n  return Math.floor(Math.random()*array.length)\r\n}\r\n\r\nfunction removeFromArray(array, index){\r\n  return array.slice(0,index).concat(array.slice(index+1))\r\n}\r\n\r\nfunction initial_random_cycle(vertices){\r\n\r\n  var root = 0;\r\n  var initial_path = []\r\n\r\n  //construct adjacency matrix\r\n  const adj = []\r\n  var available_vertices = [];\r\n  for(let i = 0; i < vertices.length; i++){\r\n    available_vertices.push(i);\r\n\r\n  }\r\n\r\n\r\n  root = pick_random_array(available_vertices);\r\n  available_vertices = remove_from_array(available_vertices, root);\r\n\r\n  initial_path.push(root);\r\n  for(let i = 0; i < vertices.length -1; i++){\r\n    const next_node = pick_random_array(available_vertices);\r\n    available_vertices = remove_from_array(available_vertices, next_node);\r\n    initial_path.push(next_node);\r\n  }\r\n  initial_path.push(root);\r\n\r\n  return [initial_path, root];\r\n}\r\n\r\nfunction remove_from_array(array, item){\r\n  var index  = array.indexOf(item)\r\n  return array.slice(0,index).concat(array.slice(index+1));\r\n}\r\n\r\nfunction pick_random_array(array){\r\n  return array[Math.floor(Math.random()*array.length)];\r\n}\r\n","class Force{\r\n  constructor(x,y,z){\r\n    this.x = x;\r\n    this.y = y;\r\n    this.z = z;\r\n    if(this.z === undefined) this.z = null;\r\n  }\r\n\r\n  setX(x){\r\n    this.x = x;\r\n  }\r\n\r\n  setY(y){\r\n    this.y = y;\r\n  }\r\n\r\n  setZ(z){\r\n    this.z = z;\r\n  }\r\n\r\n  addVector(vector){\r\n    this.x += vector[0];\r\n    this.y += vector[1];\r\n    if(vector[2]!== undefined && this.z !== null){\r\n      this.z += vector[2];\r\n    }\r\n  }\r\n\r\n  scale(delta){\r\n    this.setX(this.x*delta);\r\n    this.setY(this.y*delta);\r\n    if(this.z !== null){\r\n      this.setZ(this.z*delta);\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport default Force;\r\n","import Force from \"../datatypes/Force\";\r\n\r\nvar CREP = 20;\r\nvar CSPRING = 20;\r\nvar lx = 0;\r\nvar ly = 0;\r\n/**\r\n* Basic spring embedding algorithm\r\n*/\r\nexport function springEmbedding(vertices,edges,graph_distancex, graph_distancey, iterations, settings){\r\n  // relevant constants for spring embedding\r\n  const W = graph_distancex -6;\r\n  const L = graph_distancey -6;\r\n  lx = 1 + ((Math.sqrt(W)/2-1)*settings.areascaling)/100;\r\n  ly = 1 + ((Math.sqrt(L)/2-1)*settings.areascaling)/100;\r\n  const K = iterations;\r\n\r\n  const epsilon = settings.eps;\r\n  const delta = settings.delta;\r\n  CREP = settings.kr;\r\n  CSPRING = settings.ka;\r\n  const distType = settings.distanceType;\r\n\r\n  console.log(settings);\r\n\r\n  let t = 1;\r\n  let animations = [];\r\n  let scaling_factor = [];\r\n\r\n  while(t<K){\r\n    let force_list = [];\r\n    for(let i =0; i < vertices.length; i++){\r\n      let f = new Force(0,0);\r\n      let vert_connected = []; //represents vertices we should not repulse later\r\n      // CALCULATE ATTRACTION FORCES\r\n      for(let j = 0; j < edges.length; j++){\r\n        if(i === edges[j].start && i !== edges[j].end){\r\n          const calcs = fattract(vertices[edges[j].start], vertices[edges[j].end], distType);\r\n          f.addVector(calcs)\r\n          vert_connected.push(edges[j].end);\r\n        }\r\n        if(i === edges[j].end && i !== edges[j].start){\r\n          const calcs = fattract(vertices[edges[j].end], vertices[edges[j].start], distType)\r\n          f.addVector(calcs)\r\n          vert_connected.push(edges[j].start);\r\n        }\r\n      }\r\n      //CALCULATE REPULSIVE FORCES\r\n      for(let j =0; j < vertices.length; j++){\r\n        if(i === j ) continue;\r\n        let connected = false;\r\n        for(let k = 0; k < vert_connected.length; k++){\r\n          if(j === vert_connected[k]) connected = true;\r\n        }\r\n        if(!connected){\r\n          const calcs = frepulse(vertices[i], vertices[j]);\r\n          f.addVector(calcs)\r\n        }\r\n      }\r\n      force_list.push(f)\r\n    }\r\n\r\n\r\n    //UPDATE POSITIONS\r\n    const iteration_animation = [];\r\n    var maxF = 0;\r\n    var minX = Infinity;\r\n    var minY = Infinity;\r\n    var maxX = 0;\r\n    var maxY = 0;\r\n\r\n    for(let i = 0; i < vertices.length; i++){\r\n      force_list[i].scale(delta);\r\n      vertices[i].add(force_list[i]);\r\n\r\n      //update scaling_factor\r\n      minX =  minX = Math.min(minX, vertices[i].x)\r\n      minY = Math.min(minY, vertices[i].y);\r\n      maxX = vertices[i].x > maxX? vertices[i].x:maxX;\r\n      maxY = vertices[i].y > maxY? vertices[i].y:maxY;\r\n      //update animations\r\n      iteration_animation.push([vertices[i].x, vertices[i].y]);\r\n    }\r\n    scaling_factor.push([-minX, -minY, W/((-minX)+maxX), L/((-minY)+maxY)])\r\n\r\n\r\n    animations.push(iteration_animation);\r\n    t += 1\r\n  }\r\n  //scale animations properly without affecting computations\r\n  for(let i = 0; i < animations.length; i++){\r\n    for(let j = 0; j < animations[i].length; j ++){\r\n      animations[i][j][0] = (animations[i][j][0] + scaling_factor[i][0])*scaling_factor[i][2];\r\n      animations[i][j][1] = (animations[i][j][1] + scaling_factor[i][1])*scaling_factor[i][3];\r\n    }\r\n  }\r\n\r\n  var minX = Infinity;\r\n  var minY = Infinity;\r\n  var maxX = 0;\r\n  var maxY = 0;\r\n  for(let i = 0; i < vertices.length; i ++){\r\n    minX = Math.min(vertices[i].x, minX);\r\n    minY = Math.min(vertices[i].y, minY);\r\n    maxX = vertices[i].x > maxX? vertices[i].x:maxX;\r\n    maxY = vertices[i].x > maxY? vertices[i].y:maxY;\r\n  }\r\n  minX = Math.min(minX, 0);\r\n  minY = Math.min(minY, 0);\r\n  for(let i = 0; i <vertices.length; i ++){\r\n    vertices[i].x = (vertices[i].x + Math.abs(minX)) * Math.min(1,(W/(Math.max(maxX,W)+Math.abs(minX))));\r\n    vertices[i].y = (vertices[i].y + Math.abs(minY)) * Math.min(1,(L/(Math.max(maxY,L) + Math.abs(minY))));\r\n  }\r\n  return [vertices, animations];\r\n}\r\n\r\n\r\n\r\n\r\nfunction frepulse(v1,v2){\r\n  var dist = distance(v2,v1);\r\n  const unitV = unitVector(v2,v1);\r\n  return [(CREP*unitV[0])/Math.sqrt(dist) , (CREP*unitV[1])/Math.sqrt(dist)];\r\n\r\n}\r\n\r\nfunction fattract(v1,v2, distanceType){\r\n  var dist = distance(v1,v2);\r\n  const unitV = unitVector(v1,v2);\r\n\r\n  return [CSPRING* Math.log(dist/(lx)) * unitV[0],\r\n          CSPRING* Math.log(dist/(ly)) * unitV[1]];\r\n}\r\n\r\nfunction distance(v1,v2){\r\n  const dist = Math.sqrt(Math.pow((v1.x - v2.x), 2) + Math.pow((v1.y - v2.y), 2))\r\n  return dist === 0? 0.00000000000000000001: dist;\r\n}\r\n\r\n/**\r\n* UnitVector from X to Y\r\n*/\r\nfunction unitVector(v1,v2){\r\n  const new_x = v2.x - v1.x;\r\n  const new_y = v2.y - v1.y;\r\n  const dist = distance(v1,v2);\r\n  return [new_x/dist, new_y/dist];\r\n}\r\n","import Force from \"../datatypes/Force\";\r\nimport Vertex from \"../datatypes/Vertex\";\r\nvar C= 1;\r\nvar K = 0.01; //OPTIMAL DISTANCE\r\nvar ITERATIONS = 300;\r\n\r\nexport function fruchtermanReingold(vertices,edges,graph_distancex, graph_distancey, iterations, settings){\r\n  const W = graph_distancex -6;\r\n  const L = graph_distancey -6;\r\n  const kIter = iterations;\r\n  ITERATIONS = kIter;\r\n  const coolingtype = settings.tempHeuristic;\r\n  const tempHeuristic = settings.tempHeuristic;\r\n  C = 1;\r\n  K = C* Math.sqrt((W)*(L)/(vertices.length));\r\n  const epsilon = settings.eps;\r\n\r\n  console.log(settings);\r\n\r\n\r\n  let t = 1;\r\n  let animations = [];\r\n  let temperature = (1/10)*W * settings.cTemp;\r\n  let temperature_list = [];\r\n  let previousAngle = [];\r\n  let scaling_factor = [];\r\n  if(coolingtype === \"Directional\"){\r\n    for(let i = 0; i < vertices.length; i ++){\r\n      temperature_list.push(temperature);\r\n    }\r\n  }\r\n  const initial_temperature = temperature;\r\n\r\n  while(t<kIter){\r\n    let force_list = [];\r\n    //calculate repulsive forces\r\n    for(let i = 0; i < vertices.length; i ++){\r\n      let f = new Force(0,0);\r\n      for(let j = 0; j < vertices.length; j ++){\r\n        if(i!== j){\r\n          const delta = distance(vertices[i], vertices[j]);\r\n          const calcs = frepulse(vertices[i], vertices[j], delta);\r\n          // var delta = distance(vertices[i], vertices[j]);\r\n          // var unitvector = unitVector(vertices[j], vertices[i])\r\n          f.addVector(calcs);\r\n        }\r\n      }\r\n      force_list.push(f);\r\n    }\r\n    //calculate attractive forces\r\n    for(let i = 0; i < edges.length; i++){\r\n      const e = edges[i];\r\n      if(e.start === e.end) console.log(\"well fuck\");\r\n      const delta = distance(vertices[e.start], vertices[e.end]);\r\n      const calcs = fattract(vertices[e.start], vertices[e.end], delta);\r\n      const ncalcs = [-calcs[0], -calcs[1]]\r\n\r\n      force_list[e.end].addVector(calcs);\r\n      force_list[e.start].addVector(ncalcs);\r\n    }\r\n    //update positions\r\n    const iter_animations = [];\r\n    var minX = Infinity;\r\n    var minY = Infinity;\r\n    var maxX = 0;\r\n    var maxY = 0;\r\n    var maxForce = 0;\r\n    const origin = new Vertex(0,0);\r\n\r\n    for(let i = 0; i < vertices.length; i++){\r\n      const unitvector = unitVector(force_list[i], origin)\r\n      const unitForce = new Force(unitvector[0], unitvector[1])\r\n      unitForce.setX(unitForce.x*Math.min(temperature, Math.abs(force_list[i].x)));\r\n      unitForce.setY(unitForce.y*Math.min(temperature, Math.abs(force_list[i].y)))\r\n\r\n      vertices[i].add(unitForce);\r\n\r\n      //UPDATE CONVERGENCE\r\n      // if(i == 1){\r\n      //   maxForce = distance([new_x,new_y], old_vertices);\r\n      // }\r\n      // else{\r\n      //   maxForce = distance([new_x,new_y], old_vertices) > maxForce? distance([new_x,new_y], old_vertices): maxForce;\r\n      // }\r\n\r\n\r\n      minX =  minX = Math.min(minX, vertices[i].x)\r\n      minY = Math.min(minY, vertices[i].y);\r\n      maxX = vertices[i].x > maxX? vertices[i].x:maxX;\r\n      maxY = vertices[i].y > maxY? vertices[i].y:maxY;\r\n\r\n      iter_animations.push([vertices[i].x, vertices[i].y])\r\n    }\r\n    //update scaling factors, animations and particle temperature\r\n    scaling_factor.push([-minX,-minY, W/(-minX+maxX), L/(-minY+maxY)]);\r\n    animations.push(iter_animations);\r\n\r\n    if(tempHeuristic !== \"Directional\")temperature = cool(temperature, tempHeuristic, initial_temperature);\r\n    t+= 1;\r\n    // if(maxForce < epsilon) break;\r\n  }\r\n  const iter_animations = [];\r\n\r\n  for(let i = 0; i < animations.length; i++){\r\n    for(let j = 0; j < animations[i].length; j ++){\r\n      animations[i][j][0] = (animations[i][j][0] + scaling_factor[i][0])*scaling_factor[i][2];\r\n      animations[i][j][1] = (animations[i][j][1] + scaling_factor[i][1])*scaling_factor[i][3];\r\n    }\r\n  }\r\n  var minX = Infinity;\r\n  var minY = Infinity;\r\n  var maxX = 0;\r\n  var maxY = 0;\r\n  for(let i = 0; i < vertices.length; i ++){\r\n    minX = Math.min(vertices[i].x, minX);\r\n    minY = Math.min(vertices[i].y, minY);\r\n    maxX = vertices[i].x > maxX? vertices[i].x:maxX;\r\n    maxY = vertices[i].y > maxY? vertices[i].y:maxY;\r\n  }\r\n  // maxX = Math.max(W, maxX);\r\n  // maxY = Math.max(L, maxY);\r\n  for(let i = 0; i <vertices.length; i ++){\r\n    vertices[i].x = (vertices[i].x + (-minX)) * W/(-minX+maxX);\r\n    vertices[i].y = (vertices[i].y + (-minY)) * L/(-minY+maxY);\r\n  }\r\n  // console.log(vertices);\r\n  return [vertices, animations];\r\n}\r\n\r\nfunction frepulse(v1,v2, delta){\r\n  const unitvector = unitVector(v1,v2)\r\n\r\n  return [((Math.pow(K,2))/delta)*unitvector[0], ((Math.pow(K,2))/delta)*unitvector[1]];\r\n}\r\n\r\nfunction fattract(v1,v2,delta){\r\n  const unitvector = unitVector(v1,v2);\r\n\r\n  return [unitvector[0]*(Math.pow(delta,2))/K, unitvector[1]*(Math.pow(delta,2))/K];\r\n}\r\n\r\nfunction distance(v1,v2){\r\n  // console.log(x,y);\r\n  var distX = Math.pow((v1.x - v2.x), 2);\r\n  var distY = Math.pow((v1.y - v2.y), 2);\r\n  if(distX + distY === 0) distX = 0.00000000000000000001\r\n\r\n  return  Math.sqrt((distX + distY));\r\n}\r\n/**\r\n* UnitVector from X to Y\r\n*/\r\nfunction unitVector(v1,v2){\r\n  const new_x = v2.x - v1.x;\r\n  const new_y = v2.y - v1.y;\r\n  const dist = distance(v1,v2);\r\n  return [new_x/dist, new_y/dist];\r\n}\r\n\r\nfunction cool(t, tempHeuristic, initial_temperature){\r\n  if(tempHeuristic === \"Linear\"){\r\n    return t - initial_temperature/ITERATIONS\r\n  }\r\n  if(tempHeuristic === \"Logarithmic\"){\r\n    return 0.90*t\r\n  }\r\n  if(tempHeuristic === \"Directional\"){\r\n    return t\r\n  }\r\n  return t\r\n}\r\n\r\nfunction findAngle(x,y){\r\n  const angle = Math.atan((y[1] - x[1])/(y[0] - x[0]));\r\n  return angle === undefined? 0: angle\r\n}\r\n","export function kamadaKawai(vertices,edges, graph_distancex, graph_distancey, iterations){\r\n  //relevant constants\r\n\r\n  const L0 = (graph_distancex+graph_distancey)/2;\r\n  const L = 2;\r\n  const K = 1;\r\n  const epsilon = 1;\r\n\r\n  let new_vertices = [];\r\n  for(let i= 0; i < vertices.length; i++){\r\n    new_vertices.push(vertices[i].slice());\r\n  }\r\n  let new_edges = [];\r\n  //make a copy of edges and copy references of new_vertices\r\n  for(let i = 0; i < vertices.length; i++){\r\n    for(let j = 0; j < vertices.length; j++){\r\n      for(let k =0; k < edges.length; k++){\r\n        if(i === edges[k][0] && j === edges[k][1]){\r\n          new_edges.push([i,j]);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  //create adjacency matrix\r\n  const adj = [];\r\n  // const ideal_lengths = [];\r\n  const force_list = [];\r\n  for(let i = 0; i < vertices.length; i++){\r\n    const adj_row = [];\r\n    // const ideal_length_row = [];\r\n    const force_list_row = [];\r\n    for(let j = 0; j < vertices.length; j++){\r\n      if(i == j) adj_row.push(0);\r\n      if(i!== j) adj_row.push(Infinity);\r\n      // ideal_length_row.push(0);\r\n      force_list_row.push(0);\r\n    }\r\n    // ideal_lengths.push(ideal_length_row);\r\n    force_list.push(force_list_row);\r\n    adj.push(adj_row)\r\n  }\r\n  for(let i = 0; i< edges.length; i++){\r\n    adj[new_edges[i][0]][new_edges[i][1]] = 1;\r\n    adj[new_edges[i][1]][new_edges[i][0]] = 1;\r\n  }\r\n  const max_dij = FloydWarshallAlgo(adj);\r\n  console.log(adj);\r\n\r\n  //compute lij\r\n  const ideal_length = L*L0/max_dij;\r\n  console.log(ideal_length);\r\n\r\n  //compute kij\r\n  for(let i = 0; i < vertices.length; i++){\r\n    for(let j = 0; j < vertices.length; j ++){\r\n      if(i !== j){force_list[i][j] = K/(Math.pow(adj[i][j],2))};\r\n    }\r\n  }\r\n\r\n  let maxdM = Infinity;\r\n  const partials_list = [];\r\n  for(let i = 0; i < vertices.length; i++){\r\n    partials_list.push([0,0]);\r\n  }\r\n\r\n  while(maxdM > epsilon){\r\n    for(let i = 0; i < vertices.length; i ++){\r\n      for(let j = 0; j < vertices.length; j ++){\r\n        if(i !== j){\r\n          partials_list[i][0] += adj[i][j] * (new_vertices[i][0] - new_vertices[j][0] - (ideal_length*(new_vertices[i][0] - new_vertices[j][0]))/distance(new_vertices[i],new_vertices[j]));\r\n          partials_list[i][1] += adj[i][j] * (new_vertices[i][1] - new_vertices[j][1] - (ideal_length*(new_vertices[i][1] - new_vertices[j][1]))/distance(new_vertices[i],new_vertices[j]));\r\n        }\r\n      }\r\n    }\r\n    const dM = [];\r\n    for(let i = 0; i < vertices.length; i ++){\r\n      const dist = distance(partials_list[i], [0,0]);\r\n      dM.push(dist);\r\n    }\r\n    maxdM = Math.max(...dM);\r\n    const index = dM.indexOf(maxdM);\r\n    while(maxdM > epsilon){\r\n      var d2Ed2x = 0;\r\n      var d2Ed2y = 0;\r\n      var d2Edxdy = 0;\r\n      var d2Edydx = 0;\r\n      var dEdx = 0;\r\n      var dEdy = 0;\r\n      var dx = 0;\r\n      var dy = 0;\r\n      for(let i = 0; i < vertices.length; i++){\r\n        if(i !== index){\r\n          d2Ed2x += adj[index][i] * (new_vertices[index][0] - new_vertices[i][0] - (ideal_length*Math.pow(new_vertices[index][0] - new_vertices[i][0],2))/Math.pow(distance(new_vertices[index],new_vertices[i]), 3));\r\n          d2Ed2y += adj[index][i] * (new_vertices[index][1] - new_vertices[i][1] - (ideal_length*Math.pow(new_vertices[index][1] - new_vertices[i][1],2))/Math.pow(distance(new_vertices[index],new_vertices[i]),3));\r\n          d2Edxdy += adj[index][i] * (ideal_length*(new_vertices[index][0]-new_vertices[i][0])*(new_vertices[index][1] - new_vertices[i][1]))/(Math.pow(distance(new_vertices[index], new_vertices[i]),3));\r\n          d2Edydx += adj[index][i] * (ideal_length*(new_vertices[index][0]-new_vertices[i][0])*(new_vertices[index][1] - new_vertices[i][1]))/(Math.pow(distance(new_vertices[index], new_vertices[i]),3));\r\n          dEdx += adj[index][i] * (new_vertices[index][0] - new_vertices[i][0] - (ideal_length*(new_vertices[index][0] - new_vertices[i][0]))/distance(new_vertices[index],new_vertices[i]));\r\n          dEdy += adj[index][i] * (new_vertices[index][1] - new_vertices[i][1] - (ideal_length*(new_vertices[index][1] - new_vertices[i][1]))/distance(new_vertices[index],new_vertices[i]));\r\n        }\r\n      }\r\n      dx = (-dEdx -d2Edxdy*(-dEdy/d2Edydx))/(d2Ed2x - (d2Edxdy*d2Ed2y)/d2Edydx)\r\n      dy = (-d2Ed2y*dx - dEdy)/(d2Edydx)\r\n      new_vertices[index][0] = new_vertices[index][0] + dx;\r\n      new_vertices[index][1] = new_vertices[index][1] + dy;\r\n      var new_dEdx = 0;\r\n      var new_dEdy = 0;\r\n      for(let i = 0; i < vertices.length; i++){\r\n        if(i !== index){\r\n          new_dEdx += adj[index][i] * (new_vertices[index][0] - new_vertices[i][0] - (ideal_length*(new_vertices[index][0] - new_vertices[i][0]))/distance(new_vertices[index],new_vertices[i]));\r\n          new_dEdy += adj[index][i] * (new_vertices[index][1] - new_vertices[i][1] - (ideal_length*(new_vertices[index][1] - new_vertices[i][1]))/distance(new_vertices[index],new_vertices[i]));\r\n        }\r\n      }\r\n      maxdM = distance([new_dEdx, new_dEdy], [0,0]);\r\n      dM[index] = distance([new_dEdx,new_dEdy], [0,0]);\r\n      break;\r\n    }\r\n  }\r\n  return new_vertices;\r\n}\r\n\r\nfunction FloydWarshallAlgo(adj){\r\n  for(let k = 0; k < adj.length; k ++){\r\n    for(let i = 0; i< adj.length; i++){\r\n      for(let j = 0; j < adj.length; j++){\r\n        if(adj[i][j] > adj[i][k] + adj[k][j]) {\r\n          adj[i][j] = adj[i][k] + adj[k][j];\r\n          adj[j][i] = adj[i][k] + adj[k][j];\r\n        }\r\n      }\r\n    }\r\n  }\r\n  var maxRow = adj.map(function(row){return Math.max.apply(Math,row);});\r\n  var max_d = Math.max.apply(null, maxRow);\r\n\r\n  return max_d\r\n}\r\n\r\nfunction distance(x,y){\r\n  return  Math.sqrt(Math.pow((x[0] - y[0]), 2) + Math.pow((x[1] - y[1]), 2));\r\n}\r\n","import Force from \"../datatypes/Force\"\r\nvar ka = 1;\r\nvar kr = 1;\r\nvar kg = 10;\r\nvar ks = 0.1;\r\nvar tau = 0.1;\r\nvar ksmax = 10;\r\n//============================ REMEMBER TO ADD NO OVERLAP SETTING ==========================\r\nexport function forceAtlas2(vertices,edges, graph_distancex, graph_distancey, iterations, settings ){\r\n\r\n  // Algorithm constants\r\n  const kIter = iterations;\r\n  const W = graph_distancex -6;\r\n  const L = graph_distancey -6;\r\n  // console.log(settings);\r\n  kr = settings.fr;\r\n  kg = settings.kg;\r\n  tau = settings.tau;\r\n  ksmax = settings.ksmax;\r\n\r\n\r\n  //set up loop variables\r\n  // console.log(degreeArray);\r\n  let t = 1;\r\n  let animations = [];\r\n  let scaling_factor = [];\r\n  let temperature = (1/10)*W;\r\n\r\n\r\n  let previous_forces = [];\r\n  for(let i = 0; i < vertices.length; i++){\r\n    previous_forces.push(new Force(0,0));\r\n  }\r\n  //calculate forces\r\n  while(t< kIter){\r\n    let force_list = [];\r\n\r\n    //calculate repulsive forces\r\n    for(let i = 0; i < vertices.length; i ++){\r\n      let f = new Force(0,0);\r\n      // if(t === 1)console.log(\"vertex\", i)\r\n      for(let j = 0; j < vertices.length; j ++){\r\n        if(i!== j){\r\n\r\n          const repulse_force = frepulse(vertices[i], vertices[j]);\r\n          f.addVector(repulse_force);\r\n        }\r\n      }\r\n      force_list.push(f);\r\n    }\r\n\r\n    //calculate attractive forces\r\n    for(let i = 0; i < edges.length; i ++){\r\n      const e = edges[i];\r\n      const attractive_force = fattract(vertices[e.start], vertices[e.end]);\r\n      const attractive_force_opp = [-attractive_force[0], -attractive_force[1]]\r\n      force_list[e.start].addVector(attractive_force);\r\n      force_list[e.end].addVector(attractive_force_opp);\r\n    }\r\n\r\n\r\n    // calculate forces of gravity\r\n    if(settings.gravity === true){\r\n      const center = (t === 1)? [W/2, L/2]: [(W/2) * 1/(scaling_factor[t-2][2]), (L/2) * 1/(scaling_factor[t-2][3])];\r\n      const center_force = new Force(center[0], center[1]);\r\n\r\n      for(let i = 0; i < vertices.length; i ++){\r\n        const gravity_force = fgravity(vertices[i], center_force);\r\n        // if(t === 1) console.log(gravity_force);\r\n        force_list[i].addVector(gravity_force)\r\n      }\r\n    }\r\n\r\n    //update positions\r\n    const iter_animations = [];\r\n    var minX = Infinity;\r\n    var minY = Infinity;\r\n    var maxX = 0;\r\n    var maxY = 0;\r\n    var maxForce = 0;\r\n\r\n    //update global speed\r\n    var sG = 0;\r\n    var traG = 0;\r\n    var swgG = 0;\r\n    for(let i = 0; i < force_list.length; i++){\r\n      const origin = new Force(0,0);\r\n      const combined_force  = new Force(force_list[i].x + previous_forces[i].x, force_list[i].y + previous_forces[i].y);\r\n      const traN = distance(combined_force, origin)/2\r\n      traG += (vertices[i].x+1) * traN;\r\n      const direction_force = new Force(force_list[i].x - previous_forces[i].x, force_list[i].y - previous_forces[i].y);\r\n      const swgN = distance(direction_force, origin);\r\n      swgG += (vertices[i].degree+1)*swgN;\r\n    }\r\n    sG = tau*(traG/swgG);\r\n    // console.log(\"sG\",sG);\r\n\r\n    var sN = 0;\r\n    for(let i = 0; i < vertices.length; i++){\r\n      //find direction of forces\r\n      const origin = new Force(0,0);\r\n      const unitvector = unitVector(force_list[i], origin)\r\n      //calculate temperatures\r\n      const direction_force = new Force(force_list[i].x - previous_forces[i].x, force_list[i].y - previous_forces[i].y);\r\n      const swgN = distance(direction_force, origin);\r\n      sN = Math.min((ks*sG)/(1+sG*Math.sqrt(swgN)),ksmax/distance(force_list[i], origin));\r\n      // console.log(\"sN\", sN);\r\n      vertices[i].setX(vertices[i].x + sN*force_list[i].x);\r\n      vertices[i].setY(vertices[i].y + sN*force_list[i].y);\r\n\r\n      //update previous forces\r\n      previous_forces[i] = force_list[i];\r\n\r\n      //constants for scaling factor\r\n      minX = Math.min(minX, vertices[i].x);\r\n      minY = Math.min(minY, vertices[i].y);\r\n      maxX = vertices[i].x> maxX? vertices[i].x: maxX;\r\n      maxY = vertices[i].y > maxY? vertices[i].y: maxY;\r\n      //add animations\r\n      iter_animations.push([vertices[i].x, vertices[i].y]);\r\n    }\r\n    scaling_factor.push([-minX,-minY, W/(-minX+maxX), L/(-minY+maxY)]);\r\n    animations.push(iter_animations);\r\n    t+=1;\r\n  }\r\n\r\n  //Scale all the animations within the frame\r\n  for(let i = 0; i < animations.length; i++){\r\n    for(let j = 0; j < animations[i].length; j ++){\r\n      animations[i][j][0] = (animations[i][j][0] + scaling_factor[i][0])*scaling_factor[i][2];\r\n      animations[i][j][1] = (animations[i][j][1] + scaling_factor[i][1])*scaling_factor[i][3];\r\n    }\r\n  }\r\n  var minX = Infinity;\r\n  var minY = Infinity;\r\n  var maxX = 0;\r\n  var maxY = 0;\r\n  for(let i = 0; i < vertices.length; i ++){\r\n    minX = Math.min(vertices[i].x, minX);\r\n    minY = Math.min(vertices[i].y, minY);\r\n    maxX = Math.max(vertices[i].x, maxX);\r\n    maxY = Math.max(vertices[i].y, maxY);\r\n  }\r\n  for(let i = 0; i <vertices.length; i ++){\r\n    vertices[i].x = (vertices[i].x + (-minX)) * (W/(maxX+(-minX)));\r\n    vertices[i].y = (vertices[i].y + (-minY)) * (L/(maxY + (-minY)));\r\n  }\r\n\r\n  return [vertices, animations];\r\n  //Algorithm\r\n}\r\n\r\nfunction frepulse(x,y){\r\n  var dist = distance(x,y);\r\n  const unitvector = unitVector(y,x);\r\n  return [unitvector[0]*kr*(((x.degree+1)*(y.degree+1))/dist),\r\n            unitvector[1]*kr*(((x.degree+1)*(y.degree+1))/dist)];\r\n\r\n}\r\n\r\nfunction fattract(x,y){\r\n  var dist = distance(x,y);\r\n  const unitvector = unitVector(x,y);\r\n  return [unitvector[0] *dist, unitvector[1]*dist];\r\n}\r\n\r\nfunction fattractDissuade(x,y){\r\n  var dist = distance(x,y);\r\n  const unitvector = unitVector(x,y);\r\n  return [unitvector[0]*dist/(x.degree+1), unitvector[1]*dist/(x.degree+1)]\r\n}\r\n\r\n\r\n\r\nfunction fgravity(v, center){\r\n  var dist_center = distance(v,center);\r\n  var unitvector = unitVector(v,center);\r\n  return [unitvector[0]*kg*(v.degree+1)*dist_center, unitvector[1]*kg*(v.degree+1)*dist_center];\r\n}\r\n\r\nfunction distance(v1,v2){\r\n  var dist = Math.pow(v1.x-v2.x,2) + Math.pow((v1.y-v2.y),2)\r\n  if(dist === 0) dist = 0.00000000000000000001\r\n  return  Math.sqrt(dist);\r\n}\r\n\r\n/**\r\n* UnitVector from X to Y\r\n*/\r\nfunction unitVector(v1,v2){\r\n  const new_x = v2.x - v1.x;\r\n  const new_y = v2.y - v1.y;\r\n  var dist = distance(v1,v2);\r\n  return [new_x/dist, new_y/dist];\r\n}\r\n","import Force from \"../datatypes/Force\"\r\nvar ka = 1;\r\nvar kr = 1;\r\nvar kg = 10;\r\nvar ks = 0.1;\r\nvar tau = 0.1;\r\nvar ksmax = 10;\r\n//============================ REMEMBER TO ADD NO OVERLAP SETTING ==========================\r\nexport function forceAtlasLinLog(vertices,edges, graph_distancex, graph_distancey, iterations, settings ){\r\n\r\n  // Algorithm constants\r\n  const kIter = iterations;\r\n  const W = graph_distancex -6;\r\n  const L = graph_distancey -6;\r\n  // console.log(settings);\r\n  kr = settings.fr;\r\n  kg = settings.kg;\r\n  tau = settings.tau;\r\n  ksmax = settings.ksmax;\r\n\r\n\r\n  //set up loop variables\r\n  // console.log(degreeArray);\r\n  let t = 1;\r\n  let animations = [];\r\n  let scaling_factor = [];\r\n  let temperature = (1/10)*W;\r\n\r\n\r\n  let previous_forces = [];\r\n  for(let i = 0; i < vertices.length; i++){\r\n    previous_forces.push(new Force(0,0));\r\n  }\r\n  //calculate forces\r\n  while(t< kIter){\r\n    let force_list = [];\r\n\r\n    //calculate repulsive forces\r\n    for(let i = 0; i < vertices.length; i ++){\r\n      let f = new Force(0,0);\r\n      // if(t === 1)console.log(\"vertex\", i)\r\n      for(let j = 0; j < vertices.length; j ++){\r\n        if(i!== j){\r\n\r\n          const repulse_force = frepulse(vertices[i], vertices[j]);\r\n          f.addVector(repulse_force);\r\n        }\r\n      }\r\n      force_list.push(f);\r\n    }\r\n\r\n    //calculate attractive forces\r\n    for(let i = 0; i < edges.length; i ++){\r\n      const e = edges[i];\r\n      const attractive_force = fattract(vertices[e.start], vertices[e.end]);\r\n      const attractive_force_opp = [-attractive_force[0], -attractive_force[1]]\r\n      force_list[e.start].addVector(attractive_force);\r\n      force_list[e.end].addVector(attractive_force_opp);\r\n    }\r\n\r\n\r\n    // calculate forces of gravity\r\n    if(settings.gravity === true){\r\n      const center = (t === 1)? [W/2, L/2]: [(W/2) * 1/(scaling_factor[t-2][2]), (L/2) * 1/(scaling_factor[t-2][3])];\r\n      const center_force = new Force(center[0], center[1]);\r\n      for(let i = 0; i < vertices.length; i ++){\r\n        const gravity_force = fgravity(vertices[i], center_force);\r\n        force_list[i].addVector(gravity_force)\r\n      }\r\n    }\r\n\r\n    //update positions\r\n    const iter_animations = [];\r\n    var minX = Infinity;\r\n    var minY = Infinity;\r\n    var maxX = 0;\r\n    var maxY = 0;\r\n    var maxForce = 0;\r\n\r\n    //update global speed\r\n    var sG = 0;\r\n    var traG = 0;\r\n    var swgG = 0;\r\n    for(let i = 0; i < force_list.length; i++){\r\n      const origin = new Force(0,0);\r\n      const combined_force  = new Force(force_list[i].x + previous_forces[i].x, force_list[i].y + previous_forces[i].y);\r\n      const traN = distance(combined_force, origin)/2\r\n      traG += (vertices[i].x+1) * traN;\r\n      const direction_force = new Force(force_list[i].x - previous_forces[i].x, force_list[i].y - previous_forces[i].y);\r\n      const swgN = distance(direction_force, origin);\r\n      swgG += (vertices[i].degree+1)*swgN;\r\n    }\r\n    sG = tau*(traG/swgG);\r\n    // console.log(\"sG\",sG);\r\n\r\n    var sN = 0;\r\n    for(let i = 0; i < vertices.length; i++){\r\n      //find direction of forces\r\n      const origin = new Force(0,0);\r\n      const unitvector = unitVector(force_list[i], origin)\r\n      //calculate temperatures\r\n      const direction_force = new Force(force_list[i].x - previous_forces[i].x, force_list[i].y - previous_forces[i].y);\r\n      const swgN = distance(direction_force, origin);\r\n      sN = Math.min((ks*sG)/(1+sG*Math.sqrt(swgN)),ksmax/distance(force_list[i], origin));\r\n      // console.log(\"sN\", sN);\r\n      vertices[i].setX(vertices[i].x + sN*force_list[i].x);\r\n      vertices[i].setY(vertices[i].y + sN*force_list[i].y);\r\n\r\n      //update previous forces\r\n      previous_forces[i] = force_list[i];\r\n\r\n      //constants for scaling factor\r\n      minX = Math.min(minX, vertices[i].x);\r\n      minY = Math.min(minY, vertices[i].y);\r\n      maxX = vertices[i].x> maxX? vertices[i].x: maxX;\r\n      maxY = vertices[i].y > maxY? vertices[i].y: maxY;\r\n      //add animations\r\n      iter_animations.push([vertices[i].x, vertices[i].y]);\r\n    }\r\n    scaling_factor.push([-minX,-minY, W/(-minX+maxX), L/(-minY+maxY)]);\r\n    animations.push(iter_animations);\r\n    t+=1;\r\n  }\r\n\r\n  //Scale all the animations within the frame\r\n  for(let i = 0; i < animations.length; i++){\r\n    for(let j = 0; j < animations[i].length; j ++){\r\n      animations[i][j][0] = (animations[i][j][0] + scaling_factor[i][0])*scaling_factor[i][2];\r\n      animations[i][j][1] = (animations[i][j][1] + scaling_factor[i][1])*scaling_factor[i][3];\r\n    }\r\n  }\r\n  var minX = Infinity;\r\n  var minY = Infinity;\r\n  var maxX = 0;\r\n  var maxY = 0;\r\n  for(let i = 0; i < vertices.length; i ++){\r\n    minX = Math.min(vertices[i].x, minX);\r\n    minY = Math.min(vertices[i].y, minY);\r\n    maxX = Math.max(vertices[i].x, maxX);\r\n    maxY = Math.max(vertices[i].y, maxY);\r\n  }\r\n  for(let i = 0; i <vertices.length; i ++){\r\n    vertices[i].x = (vertices[i].x + (-minX)) * (W/(maxX+(-minX)));\r\n    vertices[i].y = (vertices[i].y + (-minY)) * (L/(maxY + (-minY)));\r\n  }\r\n\r\n  return [vertices, animations];\r\n  //Algorithm\r\n}\r\n\r\nfunction frepulse(x,y){\r\n  var dist = distance(x,y);\r\n  const unitvector = unitVector(y,x);\r\n  return [unitvector[0]*kr*(((x.degree+1)*(y.degree+1))/dist),\r\n            unitvector[1]*kr*(((x.degree+1)*(y.degree+1))/dist)];\r\n\r\n}\r\n\r\nfunction fattract(x,y){\r\n  var dist = distance(x,y);\r\n  const unitvector = unitVector(x,y);\r\n  return [unitvector[0] *Math.log(1+dist), unitvector[1]*Math.log(1+dist)];\r\n}\r\n\r\nfunction fattractDissuade(x,y){\r\n  var dist = distance(x,y);\r\n  const unitvector = unitVector(x,y);\r\n  return [unitvector[0]*Math.log(1+dist)/(x.degree+1), unitvector[1]*Math.log(1+dist)/(x.degree+1)]\r\n}\r\n\r\n\r\n\r\nfunction fgravity(v, center){\r\n  var dist_center = distance(v,center);\r\n  var unitvector = unitVector(v,center);\r\n  return [unitvector[0]*kg*(v.degree+1)*dist_center, unitvector[1]*kg*(v.degree+1)*dist_center];\r\n}\r\n\r\nfunction distance(v1,v2){\r\n  var dist = Math.pow(v1.x-v2.x,2) + Math.pow((v1.y-v2.y),2)\r\n  if(dist === 0) dist = 0.00000000000000000001\r\n  return  Math.sqrt(dist);\r\n}\r\n\r\n/**\r\n* UnitVector from X to Y\r\n*/\r\nfunction unitVector(v1,v2){\r\n  const new_x = v2.x - v1.x;\r\n  const new_y = v2.y - v1.y;\r\n  var dist = distance(v1,v2);\r\n  return [new_x/dist, new_y/dist];\r\n}\r\n","class UnionSets{\r\n  constructor(){\r\n    this.contents = [];\r\n    this.representative = null;\r\n  }\r\n\r\n  add(el){\r\n    if(this.contents.length === 0) this.representative = el;\r\n    this.contents.push(el);\r\n\r\n  }\r\n\r\n  push(contents){\r\n    for(let i = 0; i < contents.length; i++){\r\n      this.contents.push(contents[i]);\r\n    }\r\n  }\r\n\r\n  setRepresentative(v){\r\n    this.representative = v;\r\n  }\r\n\r\n  getRepresentative(){\r\n    return this.representative;\r\n  }\r\n\r\n  union(other){\r\n    this.setRepresentative(other.getRepresentative);\r\n  }\r\n\r\n}\r\n\r\nexport default UnionSets;\r\n","import UnionSets from \"../datatypes/UnionSets\";\r\n\r\nvar VERTICES = [];\r\n\r\nexport function kruskal(vertices, edges, dimension){\r\n  VERTICES = vertices;\r\n  const A = [];\r\n  const coloring = \"rgb(255,0,0)\";\r\n\r\n  const make_set = [];\r\n  for(let i = 0; i < vertices.length; i++){\r\n    make_set.push(i);\r\n  }\r\n\r\n  var sorted_edges = edges.sort(function(e1,e2){\r\n    return distance(VERTICES[e1.start],VERTICES[e1.end],dimension) - distance(VERTICES[e2.start], VERTICES[e2.end],dimension);\r\n  });\r\n\r\n  const color_animations = [];\r\n\r\n  const trees = [];\r\n  const tree_indices = [];\r\n  for(let i = 0; i < vertices.length; i++){\r\n    const u =  new UnionSets();\r\n    u.add(i);\r\n    trees.push(u);\r\n    tree_indices.push(i);\r\n  }\r\n\r\n  for(let e= 0; e< sorted_edges.length; e++){\r\n    const u = sorted_edges[e].start;\r\n    const v = sorted_edges[e].end;\r\n\r\n\r\n    if(tree_indices[u] !== tree_indices[v]){\r\n      trees[tree_indices[u]].push(trees[tree_indices[v]].contents);\r\n      const val = tree_indices[v];\r\n      for(let i = 0; i < tree_indices.length; i++){\r\n        if(tree_indices[i] === val){\r\n          tree_indices[i] = tree_indices[u];\r\n          trees[tree_indices[i]].contents = [];\r\n        }\r\n      }\r\n      color_animations.push({vIndex: u, color: coloring, size: 4});\r\n      color_animations.push({eIndex: e, color: coloring, alpha:0.4});\r\n      color_animations.push({vIndex: v, color: coloring, size:4});\r\n    }\r\n  }\r\n\r\n  return [color_animations, sorted_edges];\r\n}\r\n\r\nfunction distance(v1,v2,dim){\r\n  var dist = null;\r\n  if(dim === 2) dist = Math.sqrt(Math.pow(v1.x-v2.x, 2) + Math.pow(v1.y-v2.y,2));\r\n  if(dim === 3) dist = Math.sqrt(Math.pow(v1.x-v2.x,2) + Math.pow(v1.y-v2.y, 2) + Math.pow(v1.z-v2.z, 2));\r\n  return dist === 0? 0.00000000000000000001: dist;\r\n}\r\n","\r\nexport function prim(vertices, edges, dimension, color){\r\n  var coloring = color;\r\n  if(coloring === null || coloring === undefined) coloring = \"rgb(255,0,0)\";\r\n\r\n  //construct adjacency matrix\r\n  const adj = [];\r\n  for(let i = 0; i <vertices.length; i ++){\r\n    const adj_row = [];\r\n    for(let j = 0; j < vertices.length; j++){\r\n      adj_row.push(0);\r\n    }\r\n    adj.push(adj_row);\r\n  }\r\n\r\n  for(let e =0; e < edges.length; e++){\r\n    adj[edges[e].start][edges[e].end] = e;\r\n    adj[edges[e].end][edges[e].start] = e;\r\n  }\r\n\r\n  var vertexQueue = [];\r\n  for(let i = 0; i < vertices.length; i++){\r\n    vertexQueue.push({key: Infinity, parent: null, vertex: i})\r\n  }\r\n\r\n  const A = [];\r\n  const color_animations = [];\r\n  while(vertexQueue.length !== 0){\r\n    var u;\r\n    [u,vertexQueue] = pop(vertexQueue);\r\n    if(!(u.vertex in A)){\r\n      color_animations.push({vIndex: u.vertex, color: coloring});\r\n      if(u.parent !== null){\r\n        color_animations.push({eIndex: adj[u.vertex][u.parent], color:coloring, alpha: 0.4});\r\n      }\r\n    }\r\n\r\n\r\n    for(let i = 0; i < adj[u.vertex].length; i ++){\r\n      if(adj[u.vertex][i] !== 0){\r\n          for(let k = 0; k < vertexQueue.length; k ++){\r\n            if(vertexQueue[k].vertex === i && distance(vertices[u.vertex],\r\n                                  vertices[vertexQueue[k].vertex], dimension) < vertexQueue[k].key){\r\n                vertexQueue[k].key = distance(vertices[u.vertex],\r\n                                    vertices[vertexQueue[k].vertex], dimension)\r\n                vertexQueue[k].parent = u.vertex;\r\n            }\r\n          }\r\n      }\r\n    }\r\n    //end for\r\n    if(vertexQueue.length !== 2) vertexQueue.sort(function(v1,v2) {return v1.key - v2.key});\r\n\r\n  }\r\n\r\n  return color_animations;\r\n}\r\n\r\nfunction pop(array){\r\n  const poppedValue = array[0];\r\n  if(array.length > 1)array = array.slice(1);\r\n  else if(array.length === 1) array = [];\r\n  return [poppedValue,array]\r\n}\r\n\r\nfunction distance(v1,v2, dimension){\r\n  var dist;\r\n  if(dimension === 2) dist = Math.pow((v1.x-v2.x),2) + Math.pow((v1.y-v2.y),2);\r\n  if(dimension === 3) dist =  Math.pow((v1.x-v2.x),2) + Math.pow((v1.y-v2.y),2)+ Math.pow((v1.z-v2.z),2);\r\n  if(dist === 0) dist = 0.00000000000000000001;\r\n  return Math.sqrt(dist);\r\n}\r\n","import Edge from \"../datatypes/Edge\";\r\nconst MAX_SIMULATIONS = 1000;\r\nvar I = -1;\r\nvar K = -1;\r\n\r\nexport function opt2(vertices, edges, dimension){\r\n  const path = [];\r\n  var better_solution = false\r\n\r\n  var root = edges[0].start;\r\n  path.push(root);\r\n\r\n  for(let i = 1; i< edges.length; i++){\r\n    path.push(edges[i].start);\r\n  }\r\n  path.push(root);\r\n  // console.log(\"original path\", path);\r\n  const dist = calculate_distance_path(path, vertices, dimension);\r\n  for(let n = 0; n< MAX_SIMULATIONS; n++){\r\n    var new_path = [];\r\n    new_path.push(root);\r\n    var i = Math.floor(Math.random()*(path.length-2))+1;\r\n    var k = Math.floor(Math.random()*(path.length-2))+1;\r\n    if(i > k){ //swap\r\n      var temp = i;\r\n      i = k;\r\n      k = temp;\r\n    }\r\n    for(let m = 0; m < i; m++){\r\n      new_path.push(path[m+1]);\r\n    }\r\n\r\n\r\n    for(let m = k-1; m>i-1; m--){\r\n      new_path.push(path[m+1]);\r\n    }\r\n\r\n    for(let m = k; m < path.length-1; m++){\r\n      new_path.push(path[m+1])\r\n    }\r\n    var new_dist = calculate_distance_path(new_path, vertices, dimension);\r\n    if(new_dist < dist) better_solution = true;\r\n    if(better_solution === true) {\r\n      I = i;\r\n      K = k;\r\n      break\r\n    };\r\n  }\r\n  // console.log(\"better solution\", better_solution);\r\n  if(better_solution === false) new_path = path;\r\n  var new_edges = [];\r\n  for(let i = 0; i < path.length-1; i++){\r\n    new_edges.push(new Edge(new_path[i], new_path[i+1]))\r\n    if(dimension === 3) new_edges[i].setColor(\"rgb(211,211,211)\");\r\n    if(i === I || i === K) {\r\n      new_edges[i].setColor(\"rgb(255,0,0)\");\r\n      new_edges[i].setAlpha(0.4);\r\n    };\r\n  }\r\n  return [new_edges, better_solution];\r\n\r\n}\r\n\r\n\r\nfunction calculate_distance_path(path, vertices, dimension){\r\n  var total_dist = 0;\r\n  for(let i = 0; i < path.length-1; i++){\r\n    total_dist += distance(vertices[path[i]], vertices[path[i+1]], dimension);\r\n  }\r\n  return total_dist;\r\n}\r\n\r\nfunction distance(v1, v2, dimension){\r\n  var dist;\r\n  if(dimension === 2) dist = Math.pow(v1.x-v2.x,2) + Math.pow(v1.y-v2.y, 2);\r\n  if(dimension === 3) dist = Math.pow(v1.x-v2.x,2) + Math.pow(v1.y-v2.y, 2) + Math.pow(v1.z-v2.z,2);\r\n  if(dist === 0) dist = 0.00000000000000000001;\r\n  return Math.sqrt(dist);\r\n}\r\n\r\nfunction swap(u,v){\r\n  const temp = u;\r\n  u = v;\r\n  v = temp;\r\n}\r\n\r\nfunction try2OptSwap(path, vertices, i, k, dimension, dist){\r\n  var changed = false;\r\n  const new_path = [];\r\n  var root = path[0];\r\n  new_path.push(root);\r\n  for(let n = 0; n < i; n++){\r\n    new_path.push(path[n+1]);\r\n  }\r\n  for(let n = k+i; n > i; n++){\r\n    new_path.push(path[n+1]);\r\n  }\r\n  new_path.push(root);\r\n  const new_dist = calculate_distance_path(new_path, vertices, dimension);\r\n  if(new_dist< dist) return [new_path, true]\r\n  else{ return [path, false]};\r\n}\r\n","import Edge from \"../datatypes/Edge\";\r\n\r\nvar MAX_SIMULATIONS = 10000;\r\n\r\nexport function opt3(vertices, edges, dimension){\r\n  const path = [];\r\n  var root = edges[0].start;\r\n  path.push(root);\r\n  for(let i = 1; i < edges.length; i++){\r\n    path.push(edges[i].start);\r\n  }\r\n  path.push(root);\r\n  console.log(calculate_distance_path(path, vertices, dimension))\r\n  var new_path = [];\r\n  var a;\r\n  var b;\r\n  var c;\r\n  for(let n = 0; n < MAX_SIMULATIONS; n++){\r\n    var better_solution;\r\n    a = Math.floor(Math.random()*(path.length-3))+2;\r\n    b = Math.floor(Math.random()*(path.length-3))+2;\r\n    c = Math.floor(Math.random()*(path.length-3))+2;\r\n    // console.log(a,b,c);\r\n    //make sure a,b,c are ordered correctly\r\n    var array = [a,b,c];\r\n    array.sort(function(a,b) {return a-b});\r\n    a = array[0];\r\n    b = array[1];\r\n    c = array[2];\r\n    // console.log(a,b,c)\r\n    // console.log(better_solution)\r\n    const values = reverse_segment_if_better(path, a, b, c, dimension, vertices);\r\n    better_solution = values[1];\r\n    new_path = values[0];\r\n    // console.log(values);\r\n    if(better_solution === true) break;\r\n\r\n  }\r\n  console.log(calculate_distance_path(new_path, vertices, dimension));\r\n  const new_edges = [];\r\n\r\n  for(let i = 0; i < new_path.length-1; i++){\r\n    new_edges.push(new Edge(new_path[i], new_path[i+1]));\r\n    if(dimension === 3) new_edges[i].setColor(\"rgb(211,211,211)\");\r\n    if(i === a || i === b || i === c){\r\n      new_edges[i].setColor(\"rgb(255,0,0)\");\r\n      new_edges[i].setAlpha(0.4);\r\n    }\r\n  }\r\n  // console.log(new_edges);\r\n\r\n  return [new_edges, better_solution]\r\n}\r\n\r\nfunction reverse_segment_if_better(path, i, j, k, dimension, vertices){\r\n  var new_path = [];\r\n  const [A,B,C,D,E,F] = [path[i-1], path[i], path[j-1], path[j], path[k-1], path[k]];\r\n  // console.log(A,B,C,D,E,F);\r\n  const d0 = distance(vertices[A], vertices[B], dimension) + distance(vertices[C], vertices[D], dimension) + distance(vertices[E], vertices[F], dimension);\r\n  const d1 = distance(vertices[A], vertices[C], dimension) + distance(vertices[B], vertices[D], dimension) + distance(vertices[E], vertices[F], dimension);\r\n  const d2 = distance(vertices[A], vertices[B], dimension) + distance(vertices[C], vertices[E], dimension) + distance(vertices[D], vertices[F], dimension);\r\n  const d3 = distance(vertices[A], vertices[D], dimension) + distance(vertices[E], vertices[B], dimension) + distance(vertices[C], vertices[F], dimension);\r\n  const d4 = distance(vertices[F], vertices[B], dimension) + distance(vertices[C], vertices[D], dimension) + distance(vertices[E], vertices[A], dimension);\r\n  if(d0 > d1){\r\n    // console.log(\"better\");\r\n    new_path =  reversed_path(path, i-1, j-1);\r\n    console.log(\"d0-d1\", calculate_distance_path(new_path, vertices, dimension));\r\n    return [new_path, true];\r\n  }\r\n  else if(d0 > d2){\r\n    // console.log(\"better\");\r\n    new_path =  reversed_path(path, j-1, k-1);\r\n    console.log(\"d0-d2\", calculate_distance_path(new_path, vertices, dimension));\r\n    return [new_path, true];\r\n  }\r\n  else if(d0 > d4){\r\n    // console.log(\"better\");\r\n    new_path =  reversed_path(path, i-1, k-1);\r\n    console.log(\"d0-d4\", calculate_distance_path(new_path, vertices, dimension));\r\n    return [new_path,true];\r\n  }\r\n  else if(d0 > d3){\r\n    // console.log(\"better\");\r\n    new_path =  reversed_path_three(path, i, j, k);\r\n    console.log(\"three\", calculate_distance_path(new_path, vertices, dimension));\r\n    return  [new_path, true];\r\n  }\r\n  return  [path,false];\r\n\r\n}\r\n\r\nfunction distance(v1,v2, dimension){\r\n  var dist;\r\n  if(dimension === 2) dist = Math.pow(v1.x-v2.x,2) + Math.pow(v1.y-v2.y,2);\r\n  if(dimension === 3) dist =  Math.pow(v1.x-v2.x,2) + Math.pow(v1.y-v2.y,2) + Math.pow(v1.z-v2.z, 2);\r\n  if(dist === 0) dist = 0.0000000000000001;\r\n  return Math.sqrt(dist);\r\n}\r\n\r\nfunction reversed_path(path, a, b){\r\n  const new_path = [];\r\n  // console.log(path);\r\n  var root = path[0];\r\n  new_path.push(root);\r\n  for(let i = 0; i< a; i++){\r\n    new_path.push(path[i+1]);\r\n  }\r\n  for(let i = b-1; i > a-1; i--){\r\n    new_path.push(path[i+1]);\r\n  }\r\n  for(let i = b; i < path.length-1; i++){\r\n    new_path.push(path[i+1]);\r\n  }\r\n  // console.log(new_path);\r\n  return new_path;\r\n}\r\n\r\nfunction reversed_path_three(path, i, j, k){\r\n  const new_path = [];\r\n  var root = path[0];\r\n  new_path.push(root);\r\n  for(let n = 1; n < i; n++){\r\n    new_path.push(path[n]);\r\n  }\r\n\r\n  for(let n = j; n < k; n++){\r\n    new_path.push(path[n]);\r\n  }\r\n\r\n  for(let n = i; n< j; n++){\r\n    new_path.push(path[n]);\r\n  }\r\n\r\n  for(let n = k; n < path.length; n++){\r\n    new_path.push(path[n]);\r\n  }\r\n\r\n  return new_path;\r\n}\r\n\r\nfunction calculate_distance_path(path, vertices, dimension){\r\n  var total_dist = 0;\r\n  for(let i = 0; i < path.length-1; i++){\r\n    total_dist += distance(vertices[path[i]], vertices[path[i+1]], dimension);\r\n  }\r\n  return total_dist;\r\n}\r\n","export function GreedyColoring(vertices, edges, dimension, initial_color, end_color){\r\n\r\n  var max_degree = -Infinity;\r\n  const assigned_colors = [];\r\n  for(let i = 0; i < vertices.length; i ++){\r\n    assigned_colors.push(-1);\r\n    max_degree = Math.max(max_degree, vertices[i].degree);\r\n  }\r\n  const adj = createAdjacencyMatrix(vertices, edges);\r\n  const animations = [];\r\n  var num_colors = max_degree+1;\r\n  // console.log(\"number of colors\", num_colors);\r\n  // console.log(initial_color, end_color);\r\n  // console.log(num_colors);\r\n  var colors = createColorGradient(initial_color, end_color, num_colors);\r\n  // console.log(\"available colors\", colors);\r\n  for(let i = 0; i < vertices.length; i++){\r\n    // console.log(\"iteration\");\r\n    const neighbors = getNeighbors(vertices, i, adj);\r\n    // console.log(neighbors)\r\n    const available_colors = getAvailableColors(assigned_colors, neighbors, colors);\r\n    // console.log(\"available_colors\", available_colors);\r\n    const new_color = convertColor(available_colors[0]);\r\n    // console.log(new_color)\r\n    // console.log(animations);\r\n    if(dimension === 2) animations.push({vIndex: i, color: new_color});\r\n    if(dimension === 3){\r\n      animations.push( {vIndex: i, color: construct3DacceptableRGB(new_color)});\r\n    }\r\n    assigned_colors[i] = new_color;\r\n  }\r\n\r\n  return [vertices, animations];\r\n\r\n\r\n}\r\n\r\nfunction createColorGradient(color1, color2, num_colors){\r\n  // console.log(color1, color2);\r\n  const saturation = 0.5;\r\n  const lightness = 0.7;\r\n  const hue = 0;\r\n  const uniform_factor = 360/num_colors;\r\n  // console.log(red,green,blue);\r\n  const new_colors = [];\r\n  for(let i = 0; i < num_colors; i++){\r\n    const new_hue = hue + (uniform_factor*i)%360;\r\n    new_colors.push(convertHSLtoRGB(new_hue, saturation, lightness));\r\n    // new_colors.push([color2[0]+red*(i/num_colors-1), color2[1]+green*(i/num_colors-1), color2[2]+ blue*(i/num_colors-1)]);\r\n  }\r\n\r\n  return new_colors;\r\n}\r\n\r\nfunction createAdjacencyMatrix(v, e){\r\n  const adj = [];\r\n  for(let i = 0; i < v.length; i++){\r\n    const adj_row = [];\r\n    for(let j = 0; j < v.length; j++){\r\n      adj_row.push(0);\r\n    }\r\n    adj.push(adj_row);\r\n  }\r\n\r\n  for(let i = 0; i < e.length; i ++){\r\n    adj[e[i].start][e[i].end] = 1;\r\n    adj[e[i].end][e[i].start] = 1;\r\n  }\r\n  return adj;\r\n}\r\n\r\n/*\r\nReturn index of vertices that are neighbors of v\r\n*/\r\nfunction getNeighbors(vertices, index, adj){\r\n  const neighbors = [];\r\n  for(let i = 0; i < vertices.length; i ++){\r\n    if(adj[index][i] === 1) neighbors.push(i);\r\n  }\r\n  return neighbors;\r\n}\r\n\r\nfunction getAvailableColors(assigned_colors, neighbors, colors){\r\n  const all_colors = [];\r\n  const available_colors = [];\r\n  for(let i = 0; i < neighbors.length; i++){\r\n    // console.log(neighbors[i]);\r\n    const color = assigned_colors[neighbors[i]];\r\n    if(color !== -1) {\r\n      // console.log(color);\r\n      all_colors.push(colorConvert(color))};\r\n  }\r\n  // console.log(\"all colors\",all_colors);\r\n  for(let i = 0; i < colors.length; i++){\r\n    if(!(checkColorIn(colors[i], all_colors))) available_colors.push(colors[i]);\r\n\r\n  }\r\n  return available_colors;\r\n}\r\n\r\nfunction convertColor(color){\r\n  return \"rgb(\"+color[0].toString()+\",\"+color[1].toString()+\",\"+color[2].toString()+\")\";\r\n}\r\n\r\nfunction checkColorIn(color, array){\r\n  // console.log(\"CHECKING\", color, array)\r\n  for(let i = 0; i < array.length; i++){\r\n    // console.log(\"ARRAY ENTRY\", array[i])\r\n    // console.log(\"COLOR\", color);\r\n    if(array[i][0] === (color[0]) && array[i][1] === color[1]\r\n                                      && (array[i][2]) === (color[2])) {\r\n                                        console.log(\"accepted\",array[i], color)\r\n                                        return true\r\n                                      };\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\n/*\r\nrgb string to 3-array\r\n*/\r\nfunction colorConvert(color){\r\n  const arr = color.split(\",\");\r\n  // console.log(arr)\r\n  var red = arr[0].split(\"(\")\r\n  // console.log(red[1]);\r\n  red = parseFloat(red[1]);\r\n  // console.log(\"red\", red);\r\n  const green = parseFloat(arr[1]);\r\n  // console.log(\"green\", green);\r\n  const blue = parseFloat(arr[2]);\r\n  // console.log(\"blue\", blue);\r\n  return [red,green,blue];\r\n}\r\n\r\nfunction convertHSLtoRGB(hue, saturation, lightness){\r\n  const C = (1 - Math.abs(2*lightness-1))*saturation\r\n  const X = C * (1 - Math.abs(hue/60)%2 -1);\r\n  const m = lightness - C/2;\r\n  const [R_prime, G_prime, B_prime] = check_degrees(hue, C, X);\r\n  return [(R_prime+m)*255, (G_prime + m)* 255, (B_prime+m) * 255];\r\n}\r\n\r\nfunction check_degrees(hue, C, X){\r\n  if((hue >= 0 && hue < 60) || hue == 360) return [C,X,0];\r\n  if(hue >= 60 && hue < 120 ) return [X,C,0];\r\n  if(hue >= 120 && hue < 180 ) return [0, C, X];\r\n  if(hue >= 180 && hue < 240 ) return [0, X, C];\r\n  if(hue >= 240 && hue < 300 ) return [X, 0, C];\r\n  if(hue >= 300 && hue < 360 ) return [C, 0, X];\r\n  return [0,0,0];\r\n}\r\n\r\nfunction construct3DacceptableRGB(new_color){\r\n  const color_array = colorConvert(new_color);\r\n\r\n  color_array[0] = parseInt(color_array[0]);\r\n  color_array[1] = parseInt(color_array[1]);\r\n  color_array[2] = parseInt(color_array[2]);\r\n\r\n  return convertColor(color_array);\r\n}\r\n","import React from \"react\";\r\nimport HelpWindow from \"./HelpWindow\";\r\nimport AlgorithmAttributes from \"./AlgorithmAttributes\";\r\nimport Vertex from \"./datatypes/Vertex\";\r\nimport Edge from \"./datatypes/Edge\";\r\nimport createRandomNetwork from \"./networkgeneration/createRandomNetwork\";\r\nimport {springEmbedding} from \"./NetworkAlgorithms/springEmbedding\";\r\nimport {fruchtermanReingold} from \"./NetworkAlgorithms/FruchtermanReingold\";\r\nimport {kamadaKawai} from \"./NetworkAlgorithms/kamadaKawai\";\r\nimport {forceAtlas2} from \"./NetworkAlgorithms/forceAtlas2\";\r\nimport {forceAtlasLinLog} from \"./NetworkAlgorithms/forceAtlasLinLog\";\r\nimport {hall} from \"./Spectral/Hall\";\r\nimport {radialFlowDirected} from \"./NetworkAlgorithms/radialFlowDirected\";\r\nimport {spectralDrawing} from \"./Spectral/spectralDrawing\";\r\nimport {kruskal} from \"./MSTAlgorithms/kruskal\";\r\nimport {prim} from \"./MSTAlgorithms/prims\";\r\nimport {opt2} from \"./TSP/opt2\";\r\nimport {opt3} from \"./TSP/opt3\";\r\nimport {GreedyColoring} from \"./Coloring/GreedyColoring\";\r\nimport getHelpInfo from \"./helpInfoFunctions\";\r\n\r\nimport \"./Network.css\";\r\n\r\nvar MAX_EDGES = 600;\r\nvar MAX_TIMEOUT = 30; //seconds\r\n// var MAX_TIMEOUT = 0;\r\n\r\n\r\nclass NetworkVisualizer extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.canvas =  React.createRef();\r\n    this.state ={\r\n      width : 0,\r\n      height: 0,\r\n      vertices: [],\r\n      edges: [],\r\n      sorted: false,\r\n      iterations: 100,\r\n      maxtimeouts: 0,\r\n      maxDegree: Infinity,\r\n      algoType: \"spring\",\r\n      randomType: \"random\",\r\n      layoutType: 0,\r\n      TSP : false,\r\n    };\r\n    this.app = this.props.app;\r\n    this.help = React.createRef();\r\n    this.tutorial = React.createRef();\r\n  }\r\n\r\n  componentDidMount(){\r\n    const w = window.innerHeight * 0.55;\r\n    const h = window.innerHeight * 0.55;\r\n\r\n    const [vertices, edges] = createRandomNetwork(w, h, this.app.state.numV, this.app.state.numE, this.app.state.connected, this.state.randomType);\r\n    this.setState(\r\n      {width: w,\r\n      height: h,\r\n      vertices: vertices,\r\n      edges: edges,}\r\n    );\r\n    this.app.setState({numV: vertices.length, numE: edges.length});\r\n  }\r\n\r\n  componentDidUpdate(){\r\n    this.canvas.current.width = this.state.width;\r\n    this.canvas.current.height = this.state.height;\r\n    const ctx = this.canvas.current.getContext(\"2d\");\r\n    for(let i =0; i < this.state.vertices.length; i++){\r\n      ctx.beginPath();\r\n      const c = this.state.vertices[i].color;\r\n      ctx.fillStyle= c;\r\n      // ctx.fillRect(this.state.vertices[i][0], this.state.vertices[i][1], 6, 6);\r\n      ctx.arc(this.state.vertices[i].x, this.state.vertices[i].y, this.state.vertices[i].size, 0, Math.PI*2)\r\n      ctx.fill();\r\n      ctx.closePath();\r\n    }\r\n\r\n    for(let j = 0; j < this.state.edges.length; j++){\r\n      ctx.beginPath();\r\n      const index1 = this.state.edges[j].start;\r\n      const index2 = this.state.edges[j].end;\r\n      ctx.moveTo(this.state.vertices[index1].x,this.state.vertices[index1].y);\r\n      ctx.lineTo(this.state.vertices[index2].x,this.state.vertices[index2].y);\r\n      ctx.globalAlpha = this.state.edges[j].alpha;\r\n      ctx.strokeStyle = this.state.edges[j].color;\r\n      ctx.stroke();\r\n      ctx.closePath();\r\n    }\r\n  }\r\n  componentWillUnmount(){\r\n      this.cancelAnimation();\r\n  }\r\n\r\n  generateForceDirectedLayout(){\r\n    const values = springEmbedding(this.state.vertices, this.state.edges,\r\n                    this.state.width, this.state.height, this.state.iterations,\r\n                    this.app.state.settings.spring );\r\n    const new_vertices = values[0];\r\n    const animations = values[1];\r\n    this.animateNetwork(animations, new_vertices);\r\n  }\r\n\r\n  generateReingold(){\r\n    const values = fruchtermanReingold(this.state.vertices, this.state.edges,\r\n            this.state.width,this.state.height, this.state.iterations,\r\n            this.app.state.settings.fruchterman);\r\n    const new_vertices = values[0];\r\n    const animations = values[1];\r\n    // console.log(animations);\r\n\r\n    this.animateNetwork(animations, new_vertices);\r\n  }\r\n\r\n  generateKamadaKawai(){\r\n    const values = kamadaKawai(this.state.vertices, this.state.edges,\r\n      this.state.width, this.state.height, this.state.iterations);\r\n  }\r\n\r\n  generateForceAtlas2(){\r\n    const values = forceAtlas2(this.state.vertices, this.state.edges,\r\n      this.state.width, this.state.height, this.state.iterations, this.app.state.settings.forceatlas2);\r\n    const new_vertices = values[0];\r\n    const animations = values[1];\r\n    // console.log(new_vertices);\r\n\r\n    this.animateNetwork(animations, new_vertices);\r\n  }\r\n\r\n  generateForceAtlasLinLog(){\r\n    const values = forceAtlasLinLog(this.state.vertices, this.state.edges,\r\n      this.state.width, this.state.height, this.state.iterations, this.app.state.settings.forceatlaslinlog)\r\n    const new_vertices = values[0];\r\n    const animations = values[1];\r\n\r\n    this.animateNetwork(animations, new_vertices);\r\n  }\r\n\r\n  generateHall(){\r\n\r\n  }\r\n\r\n  generateSpectralDrawing(){\r\n\r\n  }\r\n\r\n  generateRadialFlowDirected(){\r\n\r\n  }\r\n\r\n  generateKruskal(){\r\n    const [animations, new_edges] = kruskal(this.state.vertices, this.state.edges, 2);\r\n    const that = this;\r\n    waitSetEdges(that, new_edges, animations);\r\n  }\r\n\r\n  generatePrim(){\r\n    const animations = prim(this.state.vertices, this.state.edges, 2);\r\n    this.animateColoring(animations);\r\n  }\r\n\r\n  generate2Opt(){\r\n    this.animateTSP(opt2);\r\n  }\r\n\r\n  generate3Opt(){\r\n    this.animateTSP(opt3);\r\n  }\r\n\r\n  generateGreedyVertex(){\r\n    const [vertices, animations] = GreedyColoring(this.state.vertices, this.state.edges, this.app.state.dimension, [255,255,0], [0,0,255])\r\n    this.animateColoring(animations)\r\n  }\r\n\r\n  runAlgorithm(){\r\n    if(this.state.algoType === \"spring\") this.generateForceDirectedLayout();\r\n    if(this.state.algoType === \"fruchtermanReingold\") this.generateReingold();\r\n    if(this.state.algoType === \"kamadaKawai\") this.generateKamadaKawai();\r\n    if(this.state.algoType === \"forceAtlas2\") this.generateForceAtlas2();\r\n    if(this.state.algoType === \"forceAtlasLinLog\") this.generateForceAtlasLinLog();\r\n    if(this.state.algoType === \"hall\") this.generateHall();\r\n    if(this.state.algoType === \"spectralDrawing\") this.generateSpectralDrawing();\r\n    if(this.state.algoType === \"radialFlowDirected\") this.generateRadialFlowDirected();\r\n    if(this.state.algoType === \"kruskal\") this.generateKruskal();\r\n    if(this.state.algoType === \"prim\") this.generatePrim();\r\n    if(this.state.algoType === \"2opt\") this.generate2Opt();\r\n    if(this.state.algoType === \"3opt\") this.generate3Opt();\r\n    if(this.state.algoType === \"greedyvertex\") this.generateGreedyVertex();\r\n  }\r\n\r\n  animateTSP(func){\r\n    let x = 0;\r\n    var STOP = 10;\r\n    var count = 0;\r\n    this.app.setState({running:true});\r\n    console.log(this.app.state.running)\r\n\r\n    for(let k =0; k < (MAX_TIMEOUT*1000)/this.app.state.animationSpeed; k++){\r\n      x = setTimeout(() => {\r\n        const [edges, better_solution]= func(this.state.vertices, this.state.edges, this.app.state.dimension);\r\n        const that = this;\r\n        animateEdges(that, edges);\r\n        //clear animation code;\r\n        // if(better_solution === true) count = 0;\r\n        // count ++;\r\n        // if(count >= STOP) break;\r\n        // console.log(\"animating\")\r\n        if(k === ((MAX_TIMEOUT*1000)/this.app.state.animationSpeed) -1){\r\n          this.app.setState({running:false});\r\n          // console.log(final_vertices);\r\n        }\r\n      }, k * this.app.state.animationSpeed)\r\n    }\r\n    this.setState({maxtimeouts: x});\r\n  }\r\n\r\n  animateColoring(animations){\r\n    let x = 0;\r\n    this.app.setState({running:true});\r\n\r\n    for(let k =0; k < animations.length; k++){\r\n      x = setTimeout(() => {\r\n        const vertices = this.state.vertices;\r\n        const edges= this.state.edges;\r\n\r\n        if(animations[k].vIndex !== undefined){\r\n          vertices[animations[k].vIndex].color = animations[k].color;\r\n          // vertices[animations[k].vIndex].size = animations[k].size;\r\n        }\r\n        if(animations[k].eIndex !== undefined){\r\n          edges[animations[k].eIndex].setColor(animations[k].color);\r\n          edges[animations[k].eIndex].setAlpha(animations[k].alpha)\r\n        }\r\n\r\n        this.setState({vertices: vertices, edges:edges});\r\n        // console.log(\"animating\")\r\n        if(k === animations.length-1){\r\n          this.app.setState({running:false});\r\n          // console.log(final_vertices);\r\n        }\r\n      }, k * this.app.state.animationSpeed)\r\n    }\r\n    this.setState({maxtimeouts: x});\r\n  }\r\n\r\n  animateNetwork(animations, final_vertices){\r\n    let x = 0;\r\n    this.app.setState({running:true});\r\n    for(let k = 0; k < animations.length; k++){\r\n\r\n      x = setTimeout(() => {\r\n        const vertices = this.state.vertices;\r\n        for(let i = 0; i <vertices.length; i++){\r\n          vertices[i].setVector(animations[k][i]);\r\n        }\r\n        this.setState({vertices: vertices});\r\n        // console.log(\"animating\")\r\n        if(k === animations.length-1){\r\n          this.setState({sorted:true, vertices:final_vertices});\r\n          this.app.setState({running:false});\r\n          // console.log(final_vertices);\r\n        }\r\n      }, k * this.app.state.animationSpeed)\r\n    }\r\n    this.setState({maxtimeouts: x});\r\n  }\r\n\r\n  setAlgoType(v){\r\n    // this.attribute.current.setLayout(v)\r\n    this.setState({algoType: v});\r\n    if(v === \"2opt\" || v === \"3opt\" ||\r\n        v === \"2optannealing\" || v === \"3optannealing\"){\r\n          this.setState({TSP:true});\r\n          if(this.state.randomType !== \"cycle\") this.setRandomizedType(\"cycle\");\r\n        }\r\n    else{ this.setState({TSP: false})}\r\n  }\r\n  setRandomizedType(v){\r\n    const that = this;\r\n    waitSetRandomizedType(that, v);\r\n  }\r\n\r\n  setHelp(v){\r\n    var value = v;\r\n    if(v === \"algoType\"){\r\n      value = this.state.algoType;\r\n    }\r\n    // this.attribute.current.help.current.setOpen(false)\r\n    const [title, info, details, open] = getHelpInfo(value);\r\n    this.help.current.setTitle(title);\r\n    this.help.current.setInfo(info);\r\n    this.help.current.setDetails(details)\r\n    this.help.current.setOpen(open);\r\n  }\r\n\r\n  setLayoutType(v){\r\n    const value = parseInt(v);\r\n    this.setState({layoutType:value});\r\n    if(value === 0){\r\n      const w =  0.55*window.innerHeight;\r\n      const h = 0.55*window.innerHeight;\r\n      this.canvas.current.height = h;\r\n      this.canvas.current.width = w;\r\n      const that = this;\r\n      waitSetLayout(that, w, h);\r\n    }\r\n    if(value === 1){\r\n      const w =  0.97*window.innerWidth;\r\n      const h = 0.55*window.innerHeight;\r\n      this.canvas.current.height = h;\r\n      this.canvas.current.width = w;\r\n      const that = this;\r\n      waitSetLayout(that, w, h);\r\n      // this.attribute.current.setState({delta: 0.2})\r\n    }\r\n  }\r\n\r\n  resetNetwork(){\r\n    const [vertices, edges] = createRandomNetwork(this.state.width, this.state.height, this.app.state.numV, this.app.state.numE, this.app.state.connected, this.state.randomType);\r\n    this.setState(\r\n      {vertices: vertices,\r\n       edges: edges,\r\n      }\r\n    );\r\n\r\n    this.app.setState({numV: vertices.length, numE: edges.length});\r\n  }\r\n\r\n  cancelAnimation(){\r\n    var id = this.state.maxtimeouts;\r\n    while(id){\r\n      clearInterval(id);\r\n      id --;\r\n    }\r\n    this.app.setState({running: false});\r\n  }\r\n\r\n  resetColoring(){\r\n    const vertices = [];\r\n    const edges = [];\r\n    for(let i = 0; i < this.state.vertices.length; i ++){\r\n      vertices.push(new Vertex(this.state.vertices[i].x, this.state.vertices[i].y, this.state.vertices[i].z));\r\n    }\r\n    for(let j = 0; j < this.state.edges.length; j++){\r\n      edges.push(new Edge(this.state.edges[j].start, this.state.edges[j].end))\r\n    }\r\n    this.setState({vertices: vertices, edges: edges});\r\n  }\r\n  render(){\r\n\r\n    return <div className = \"network\">\r\n            <canvas\r\n            className = \"networkCanvas\" ref = {this.canvas}>\r\n            </canvas>\r\n            <div className = \"selectContainer\">\r\n              <div className = \"selectalgorow\">\r\n\r\n                <select className = \"selectalgo\" onChange = {(event) => this.setAlgoType(event.target.value)}>\r\n                  <optgroup label = \"Force Directed Algorithms\">\r\n                  <option value = \"spring\"> Basic Spring Embedding </option>\r\n                  <option value = \"fruchtermanReingold\"> Fruchterman-Reingold </option>\r\n                  <option value = \"kamadaKawai\" hidden = {true} disabled = {true}> Kamada-Kawai </option>\r\n                  <option value = \"forceAtlas2\"> Force Atlas 2 </option>\r\n                  <option value = \"forceAtlasLinLog\" > Force Atlas 2 (LinLog) </option>\r\n                  </optgroup>\r\n                  <optgroup label = \"Spectral Layout Algorithms\">\r\n                  <option value = \"hall\" disabled = {true}> Hall's algorithm </option>\r\n                  <option value = \"spectralDrawing\" disabled = {true}> Generalized Eigenvector (Koren)</option>\r\n                  </optgroup>\r\n                  <optgroup label = \"Custom Algorithms\" hidden = {true}>\r\n                    <option value = \"radialFlowDirected\" disabled = {true}>  Radial Flow Directed </option>\r\n                  </optgroup>\r\n                  <optgroup label = \"Minimum Spanning Trees\">\r\n                    <option value =\"kruskal\"> Kruskral's Algorithm</option>\r\n                    <option value = \"prim\"> Prim's Algorithm </option>\r\n                  </optgroup>\r\n                  <optgroup label = \"TSP\">\r\n                    <option value = \"2opt\"> 2-Opt </option>\r\n                    <option value = \"3opt\"> 3-Opt </option>\r\n                    <option value = \"2optannealing\" disabled = {true}> 2-Opt Simulated Annealing </option>\r\n                    <option value = \"3optannealing\" disabled = {true} hidden = {true}> 3-Opt Simulated Annealing </option>\r\n                  </optgroup>\r\n                  <optgroup label = \"Edge Coloring Algorithms\">\r\n                    <option value = \"\" disabled = {true}> Misra-Gries Algorithm (Fan Rotation)</option>\r\n                  </optgroup>\r\n                  <optgroup label = \"Vertex Coloring Algorithms\">\r\n                    <option value = \"greedyvertex\" > Greedy Coloring </option>\r\n                  </optgroup>\r\n                </select>\r\n\r\n                <button className = \"b\" onClick = {() => this.runAlgorithm()} disabled = {this.app.state.running}> Run Algorithm </button>\r\n              </div>\r\n\r\n\r\n              <div className = \"selectalgorow\">\r\n                <select className = \"selectalgo\" onChange = {(event) => this.setLayoutType(event.target.value)} disabled = {this.app.state.running}>\r\n                  <option value = \"0\"> Square </option>\r\n                  <option value = \"1\"> Stretch to Fit </option>\r\n                </select>\r\n                <select value = {this.state.randomType}\r\n                disabled = {this.app.state.running === true }className = \"selectalgo\" onChange = {(event) => this.setRandomizedType(event.target.value)}>\r\n                  <option value = \"random\" disabled = {this.state.TSP === true}> Random </option>\r\n                  <option value = \"randomcircle\" disabled = {this.state.TSP === true}> Random Circle </option>\r\n                  <option  value = \"cycle\"> Random Hamiltonian Cycle </option>\r\n                  <option value = \"randomclustering\" disabled = {true}> Random Clustering </option>\r\n                </select>\r\n                <button className = \"b\" disabled = {this.app.state.running} onClick = {() => this.resetNetwork()}> Reset Network</button>\r\n              </div>\r\n\r\n            <div className = \"selectalgorow\">\r\n              <button className = \"b\" onClick = {() => this.cancelAnimation()}> Cancel Animation</button>\r\n              <button className = \"b\" disabled = {this.app.state.running === true}\r\n              onClick = {() => this.resetColoring()}> Reset Coloring </button>\r\n\r\n            </div>\r\n            </div>\r\n            <HelpWindow ref = {this.help}></HelpWindow>\r\n           </div>\r\n  }\r\n}\r\n\r\nexport default NetworkVisualizer;\r\n\r\n\r\nasync function waitSetLayout(that,w,h){\r\n  await that.setState({height: h,width: w});\r\n  that.resetNetwork();\r\n}\r\n\r\nasync function waitSetEdges(that, sorted_edges,animations){\r\n  await that.setState({edges: sorted_edges});\r\n  that.animateColoring(animations)\r\n}\r\n\r\nasync function waitSetRandomizedType(that,v){\r\n  await that.setState({randomType: v});\r\n  that.resetNetwork();\r\n}\r\n\r\nasync function animateEdges(that, edges){\r\n  await that.setState({edges: edges});\r\n}\r\n","\r\nexport default function getHelpInfo(attribute){\r\n  var [title, info, details, open] = [\"\", \"\", \"\", true];\r\n  if(attribute === \"disconnected\") [title, details,info] = getHelpDisconnected()\r\n  if(attribute === \"animation\") [title, details, info] = getHelpAnimation()\r\n  if(attribute === \"edges\") [title, details, info] = getHelpEdges()\r\n  if(attribute === \"vertices\") [title,details, info] = getHelpVertices()\r\n  if(attribute === \"connectedness\") [title,details, info] = getHelpConnectedness()\r\n  if(attribute === \"randomType\") [title, details, info] = getHelpRandomType()\r\n  if(attribute === \"spring\") [title, details, info] = getHelpSpring()\r\n  if(attribute === \"fruchtermanReingold\") [title, details, info] = getHelpFruchtermanReingold()\r\n  if(attribute === \"cspring\") [title,details, info] = getHelpCspring()\r\n  if(attribute === \"crep\") [title,details, info] = getHelpCrep()\r\n  if(attribute === \"eps\") [title,details, info] = getHelpEpsilon()\r\n  if(attribute === \"delta\") [title,details, info] = getHelpDelta()\r\n  if(attribute === \"forceArea\") [title, details, info] = getHelpForceArea()\r\n  if(attribute === \"distanceType\") [title,details, info] = getHelpDistanceType()\r\n  if(attribute === \"cTemp\") [title, details, info] = getHelpCtemp()\r\n  if(attribute === \"tempHeuristic\") [title, details, info] = getHelpTempHeuristic()\r\n  if(attribute === \"collision\") [title, details, info] = getHelpCollision()\r\n  if(attribute === \"Layout\") [title, details, info] = getHelpLayout()\r\n\r\n  return [title, info, details, open];\r\n}\r\n\r\nfunction getHelpLayout(){\r\n  const t = \"Layout Type\" ;\r\n  const i = \"Choose whether or not to display the network within a square or a rectangle that stretches to fit the browser window\";\r\n  const d = \"None.\";\r\n  return [t,d,i];\r\n}\r\n\r\nfunction getHelpDisconnected(){\r\n  const t = \"Disconnected Subgraphs\" ;\r\n  const i = \"Feature has not been released yet, it is in progress.\";\r\n  const d = \"Feature has not been released yet, it is in progress.\";\r\n  return [t,d,i];\r\n}\r\n\r\nfunction getHelpAnimation(){\r\n  const t = \"Animation Speed\" ;\r\n  const i = \"Animation Speed controls the speed at which each iteration of the algorithm is shown.\";\r\n  const d = \"The algorithms, by default, run at 100 algorithm iterations, which means the total animation time will be between 2 seconds and 15seconds.\"\r\n  return [t,d,i];\r\n}\r\n\r\n\r\nfunction getHelpEdges(){\r\n  const t = \"Edges\" ;\r\n  const i = \"Edges are represented by a line connecting two red squares(vertices). In general, it represents an abstract relationship between two vertices. The slider controls the total amount of edges present in the network.\";\r\n  const d = \"The maximum and minimum edges are a function of the total number of vertices. Given the number of Vertices |V|, the maximum number of edges is (|V|^2-|V|)/2, while the minimum number of edges is given by the formula |V| -1 if we force the graph to be connected. Otherwise the minimum number of edges is set to 20.\"\r\n  return [t,d,i];\r\n}\r\n\r\nfunction getHelpVertices(){\r\n  const t = \"Vertices\" ;\r\n  const i = \"Vertices are represented by the red squares in the network. In general, vertices represent important data points, and are sometimes given informative labels. The slider controls the total number of vertices present in the network.\";\r\n  const d = \"The minimum amount of vertices is 4, while the maximum amount is 200. Many network layout algorithms only generalize to networks of 50 - 200 vertices.\"\r\n  return [t,d,i];\r\n}\r\n\r\nfunction getHelpConnectedness(){\r\n  const t = \"Connectedness\" ;\r\n  const i = \"A network is connected if there is a path between every vertex. In other words, the network is connected if we can travel along the edges of a network from any one vertex to any other. This slider controls whether we want to guarantee the network is connected or not.\";\r\n  const d = \"Many layout algorithms oeprate under the assumption that the starting network is connected, and their authors suggest processing the layouts of disconnected network by running the algorithms on each disconnected network individually.\"\r\n  return [t,d,i];\r\n}\r\n\r\nfunction getHelpRandomType(){\r\n  const t = \"Network Generation : Random\";\r\n  const i = \"This random generation algorithm begins by selecting random positions within the frame for all vertices, then assigns edges to random vertices until the specified number of edges or the maximum number of edges is reached.\";\r\n  const d = \"Many layout algorithms require a preproccessing step for 'optimal' aesthetic layouts. In general, they scale the frame as a function of the number of vertices and the potential forces acting on these vertices, to guarantee the vertices will be able to arrange themselves in a close to optimal symmetrical layout. However, this preprocessing step has been ommited because the visualizer dynamically assigns the number of vertices of the network and the potential forces of the system.\"\r\n  return [t, d,i];\r\n}\r\n\r\nfunction getHelpSpring(){\r\n  const t = \"Basic Spring Embedding Algorithm\";\r\n  const i = \"Models a network as a dynamical system where vertices are treated as rings and edges are treated as springs between vertices. Forces of attraction act between vertices connected by edges, and forces of repulsion act between vertices that are not directly connected.\" ;\r\n  const d = \"The goal of this algorithm is to provide an aesthetic network layout. Strengths: Preserves initial and inherent network symmetry. Limitations: Algorithm is affected heavily by the initial network layout and the overall dynamical sysyem is chaotic. Additionaly, the layout produced is not guaranteed to be space filling. Runtime complexity: O(|V|^2), where |V| is the number of vertices. Space complexity: O(|V| + |E|)\"\r\n  return [t,d, i];\r\n}\r\n\r\nfunction getHelpFruchtermanReingold(){\r\n  const t = \"Fruchterman Reingold Algorithm\";\r\n  const i = \"Models a netowrk as a dynamical system where vertices are concpetually treated as atomic nuclei and edges are treated as springs between vertices. Forces of attraction act between vertices connected by edges and forces of repulsion act between all vertices.\";\r\n  const d = \"The goal of this algorithm is to provide an aesthetic network layout. Strengths: preserves inherent network symmetry, space-filling, temperature heuristic helps find more optimal layouts. Limitations: Algorithm is heavily affected by the initial network layout, it produces suboptimal layouts for bounded frames without pre-processing, and the overall dynamical system modelled is chaotic.  Runtime complexity O(|V^2|), where |V| is the number of vertices. Space complexity: O(|V|+|E|)\"\r\n  return [t, d,i];\r\n}\r\n\r\nfunction getHelpCspring(){\r\n  const t = \"Force of Attraction\";\r\n  const i = \"The Force of Attraction is a force that exerts itself between two vertices connected by an edge. It represents the force of the edge, modelled as a spring, acting on the two vertices. The slider controls the  rate at which it attracts \";\r\n  const d = \"The force is a function of the distance z, given by f(z) = C* log(z/C2) where C is a constant that is scaled by this slider, and C2 is the force to area scaling constant\"\r\n  return [t, d,i];\r\n}\r\nfunction getHelpCrep(){\r\n  const t = \"Force of Repulsion\";\r\n  const i = \"The Force of Repulsion is a force that exerts itself only between vertices that are not directly connected by an edge. It represents a 'ring' around a vertex which should not have any non-connected vertices. The slider controls the rate at which these two vertices are repulsed from one another\";\r\n  const d = \"This force is a function of the distance z between two vertices, given by f(z) = C/sqrt(z) where C is the constant that represents the rate of repulsion controlled by this slider.\"\r\n  return [t, d,i];\r\n}\r\nfunction getHelpEpsilon(){\r\n  const t = \"Convergence Bound\";\r\n  const i = \"The Convergence Bound represents a measure by which we can evaluate the 'optimal' distance between vertices as well as the 'optimal' layout. A larger bound is less constraining on the layout, whereas a smaller bound is more constraining on the layout. \";\r\n  const d = \"The convergence bound terminates the algorithm if after any iteration, the maximum force exerted on vertices is smaller than the convergence bound.\"\r\n  return [t, d,i];\r\n}\r\nfunction getHelpDelta(){\r\n  const t = \"Rate of Convergence\";\r\n  const i = \"Scales the rate at which both forces exert themselves. Controls how quickly the algorithm should approach an 'optimal' layout.\";\r\n  const d = \"None\"\r\n  return [t, d,i];\r\n}\r\nfunction getHelpForceArea(){\r\n  const t = \"Force to Area Scaling\";\r\n  const i = \"Controls the scaling of the force of attraction as a function of the area, a higher force to area scaling will attempt to scale the layout to the whole frame, while a smaller force will attemp to scale the layout concentrically.\";\r\n  const d = \"This attribute seems to be especially useful when the force of attraction is consider as a function of the graph theoretic distance between two vertices.\"\r\n  return [t, d,i];\r\n}\r\nfunction getHelpDistanceType(){\r\n  const t = \"Distance Type\";\r\n  const i = \"Choose how to evaluate the distance between two vertices in the force of attraction. 'Continuous' distance evaluates the distance between vertices as their distance in the frame, while 'Graph-theoretic' distance evaluates the distance between vertices as the longest path between two vertices.\";\r\n  const d = \"Graph-theoretic distance is a constant force of attraction between vertices. It has been shown that considering the graph theoretic distance of only adjacent vertices (the ones directly connected by an edge) is roughly equivalent to considering the graph-theoretic distance of every vertex pair. This algorthm implementation only considers adjacent vertices for performance optimization.\"\r\n  return [t, d,i];\r\n}\r\nfunction getHelpCtemp(){\r\n  const t = \"Temperature Scaling\";\r\n  const i = \"In the Fruchterman-Reingold Algorithm, temperature scales the forces in the dynamical system. A higher temperature forces the particles (vertices) to move quickly and a lower temperature slows down the movement of the particles(vertices)\";\r\n  const d = \"None\"\r\n  return [t, d,i];\r\n}\r\nfunction getHelpTempHeuristic(){\r\n  const t = \"Temperature Heuristic\";\r\n  const i = \"Temperature heuristic controls the type of temperature cooling the system undergoes.\";\r\n  const d = \"A logarithm temperature cooling heuristic cools the temperature with the following function: f(temp) = 0.90*temp. A linear temperature cooling heuristic cools the temperature with the following function f(temp) = temp - (initial_temperature)/100\"\r\n  return [t, d,i];\r\n}\r\nfunction getHelpCollision(){\r\n  const t = \"Collision Type\";\r\n  const i = \"Collision Type affects how particles handle border collisions\";\r\n  const d = \"Inelastic means the particles movement and acceleration will be stopped upon collision with the border. Elastic collision means the particle will bounce back from the boundary, preserving the angle of collision. Orthogonal means upon collision with the border, the remaining force will be projected onto the border of the frame perpendicularly.\"\r\n  return [t, d,i];\r\n}\r\n","import React from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport getPageInfo from \"./TutorialInfoHelpers\";\r\n\r\nimport \"./TutorialWindow.css\"\r\n\r\nimport nodeExample from \"./images/nodeExample.jpg\";\r\nimport edgeExample from \"./images/edgeExample.jpg\";\r\nimport algorithmExample from \"./images/algorithmExample.jpg\";\r\nimport algorithmHelpExample from \"./images/algorithmHelpExamplejpg.jpg\";\r\nimport algorithmSelectExample from \"./images/algorithmSelectExample.jpg\";\r\nimport algorithmSettings from \"./images/algorithmSettings.jpg\";\r\nimport algorithmSettingsHelp from \"./images/algorithmSettingsHelp.jpg\";\r\nimport degreExample from \"./images/degreeExample.jpg\";\r\nimport layoutExample from \"./images/layoutExample.jpg\";\r\nimport networkExampleHelp from \"./images/networkExampleHelp.jpg\";\r\nimport networkLayoutHelp from \"./images/networkLayoutHelp.jpg\";\r\nimport networkSettings from \"./images/networkSettings.jpg\";\r\nimport networkSettingsHelp from \"./images/networkSettingsHelp.jpg\";\r\nimport randomGenerationExample from \"./images/randomGenerationExample.jpg\";\r\nimport resetNetworkExample from \"./images/resetNetworkExample.jpg\";\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nclass TutorialWindow extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      title: \"Tutorial: What are Networks?\",\r\n      info: \"A network is typically thought of as a system of \\\r\n      interconnected things. <br/><br/> In Computer Science, we tend to analyze\\\r\n      large amounts of data and the relationships between said data. <br/><br/> \\\r\n      Indeed, networks provide an intuitive and efficient way to model large\\\r\n      amounts of related data. <br/><br/> We can represent data by Nodes: <br/> <br/> And \\\r\n      relationships between data as Edges: <br/>\",\r\n      open: this.props.open,\r\n      pageNumber: 1,\r\n      maxPageNumber: 9,\r\n    }\r\n  }\r\n\r\n\r\n  setPageNumber(v){\r\n    const value = parseInt(v);\r\n    this.setState({pageNumber: value});\r\n    // this.setInfo(value)\r\n    this.setTitle(value);\r\n    if(value === this.state.maxPageNumber+1){\r\n      this.setState({open:false, pageNumber:1})\r\n    }\r\n  }\r\n\r\n  setOpen(v){\r\n    this.setState({open:v});\r\n  }\r\n\r\n  setTitle(v){\r\n    if(v === 1)this.setState({title: \"Tutorial: What are Networks?\"});\r\n    if(v === 2) this.setState({title: \"Tutorial: Why do we care about networks?\"});\r\n    if(v === 3) this.setState({title: \"Tutorial: What Network Algorithms do we care about?\"});\r\n    if(v === 4) this.setState({title: \"Tutorial: Why are Network Layouts so important?\"});\r\n    if(v === 5) this.setState({title : \"Tutorial: Nodes and Edges\"});\r\n    if(v === 6) this.setState({title: \"Tutorial: Select an Algorithm\"});\r\n    if(v === 7) this.setState({title: \"Tutorial: Random Network Generation type\"});\r\n    if(v === 8) this.setState({title: \"Tutorial: Select a Layout Type\"});\r\n    if(v === 9) this.setState({title: \"Tutorial: Algorithm and Network settings\"});\r\n  }\r\n\r\n  setInfo(v){\r\n    var el = document.getElementById(\"TutorialInfo\");\r\n    const info = getPageInfo(v);\r\n    el.innerHTML = info;\r\n  }\r\n\r\n  render(){\r\n    // const = [modalIsOpen, setModalIsOpen] = useState()\r\n    return <div></div>\r\n  //   if(this.state.pageNumber == 1){\r\n  //     return <div className = \"tutorialwindow\">\r\n  //       <Modal isOpen = {this.state.open} onRequestClose = {() => this.setOpen(false)}\r\n  //       className = \"Modal\"\r\n  //       overlayClassName = \"Overlay\" shouldCloseOnOverlayClick = {true}>\r\n  //         <button className = \"closeb\" onClick = {() => this.setOpen(false)}> X </button>\r\n  //         <h2> {this.state.title} ({this.state.pageNumber}/{this.state.maxPageNumber})</h2>\r\n  //         <p id = \"TutorialInfo\"> A network is typically thought of as a system of\r\n  //         interconnected things. <br/><br/> In Computer Science, we tend to analyze\r\n  //         large amounts of data and the relationships between said data. <br/><br/>\r\n  //         Indeed, networks provide an intuitive and efficient way to model large\r\n  //         amounts of related data. <br/><br/> We can represent data by Nodes: <br/> <img className = \"tutorialimage\" src={nodeExample}/> <br/> And\r\n  //         relationships between data as Edges: <br/> <img className = \"tutorialimage\" src = {edgeExample}/> </p>\r\n  //         <button className = \"previousb\" disabled = {this.state.pageNumber === 1}\r\n  //         onClick = {()=> this.setPageNumber(this.state.pageNumber-1)}>\r\n  //         Previous\r\n  //         </button>\r\n  //         <button className = \"nextb\"\r\n  //         onClick = {() => this.setPageNumber(this.state.pageNumber+1)}>\r\n  //         {this.state.pageNumber === this.state.maxPageNumber? \"Close\": \"Next\"}\r\n  //          </button>\r\n  //       </Modal>\r\n  //     </div>\r\n  //   }\r\n  //     if(this.state.pageNumber == 2){\r\n  //       return <div className = \"tutorialwindow\">\r\n  //         <Modal isOpen = {this.state.open} onRequestClose = {() => this.setOpen(false)}\r\n  //         overlayClassName = \"Overlay\" className = \"Modal\" shouldCloseOnOverlayClick = {true}>\r\n  //           <button className = \"closeb\" onClick = {() => this.setOpen(false)}> X </button>\r\n  //           <h2> {this.state.title} ({this.state.pageNumber}/{this.state.maxPageNumber})</h2>\r\n  //           <p id = \"TutorialInfo\">Structures and properties of Networks can tell us almost\r\n  //           everything we would want to know about the data we are analyzing. <br/><br/> \\\r\n  //           For example, optimizing a network can lead to a \"divide and conquer\" style approach\r\n  //           to solving the problems the data represents. <br/> Representing a large amount of data as\r\n  //           smaller amounts that can be computed individually is just one application\r\n  //           of networks. <br/> <br/> In fact, networks have important applications in fields from\r\n  //           Machine Learning to Cyber Security.  </p>\r\n  //           <button className = \"previousb\" disabled = {this.state.pageNumber === 1}\r\n  //           onClick = {()=> this.setPageNumber(this.state.pageNumber-1)}>\r\n  //           Previous\r\n  //           </button>\r\n  //           <button className = \"nextb\"\r\n  //           onClick = {() => this.setPageNumber(this.state.pageNumber+1)}>\r\n  //           {this.state.pageNumber === this.state.maxPageNumber? \"Close\": \"Next\"}\r\n  //            </button>\r\n  //         </Modal>\r\n  //       </div>\r\n  //     }\r\n  //       if(this.state.pageNumber == 3){\r\n  //         return <div className = \"tutorialwindow\">\r\n  //           <Modal isOpen = {this.state.open} onRequestClose = {() => this.setOpen(false)}\r\n  //           overlayClassName = \"Overlay\" shouldCloseOnOverlayClick = {true} className = \"Modal\">\r\n  //             <button className = \"closeb\" onClick = {() => this.setOpen(false)}> X </button>\r\n  //             <h2> {this.state.title} ({this.state.pageNumber}/{this.state.maxPageNumber})</h2>\r\n  //             <p id = \"TutorialInfo\">There are a lot of different types of networks algorithms, all of\r\n  //             them fulfilling an important role in network analysis. <br/><br/> However, Network Layout Algorithms\r\n  //             stand at the core of important network algorithms as they are able to visualize <br/>  networks\r\n  //             and optimize desireable properties of networks. <br/><br/> Network Layout Algorithms typically\r\n  //             optimize the following: <br/> - Minimize edge crossings, that is, edges should intersect as little as possible <br/> - Uniform edge lengths\\\r\n  //              <br/> - Related nodes are drawn together <br/> - Loosely related nodes are\r\n  //              drawn further apart </p>\r\n  //             <button className = \"previousb\" disabled = {this.state.pageNumber === 1}\r\n  //             onClick = {()=> this.setPageNumber(this.state.pageNumber-1)}>\r\n  //             Previous\r\n  //             </button>\r\n  //             <button className = \"nextb\"\r\n  //             onClick = {() => this.setPageNumber(this.state.pageNumber+1)}>\r\n  //             {this.state.pageNumber === this.state.maxPageNumber? \"Close\": \"Next\"}\r\n  //              </button>\r\n  //           </Modal>\r\n  //         </div>\r\n  //       }\r\n  //         if(this.state.pageNumber == 4){\r\n  //           return <div className = \"tutorialwindow\">\r\n  //             <Modal isOpen = {this.state.open} onRequestClose = {() => this.setOpen(false)} className = \"Modal\"\r\n  //             overlayClassName = \"Overlay\" shouldCloseOnOverlayClick = {true}>\r\n  //               <button className = \"closeb\" onClick = {() => this.setOpen(false)}> X </button>\r\n  //               <h2> {this.state.title} ({this.state.pageNumber}/{this.state.maxPageNumber})</h2>\r\n  //               <p id = \"TutorialInfo\">If computers were to optimize a network layout using specific criteria\r\n  //               they would do so in exponential time, meaning that solving large problems would scale exponentially. <br/><br/>\r\n  //               For example, optimizing a network of several million nodes would take with the most efficient\\\r\n  //               straighforward algorithms around 3500 hours, or just over 145 days. <br/><br/> In practice, it turns out\r\n  //               network layout algorithms do a good job of optimizing desireable properties of a\r\n  //               network. While the optimization is not perfect, <br/> it is pretty close to perfect and is many times faster. <br/>\r\n  //               <br/> For comparison, optimizing a network of several million nodes using a network layout algorithm\r\n  //               would take less than a day. <br/><br/> Network layout algorithms also allow us, as humans,\r\n  //               to quickly identify properties of networks, potentially saving a huge amount of subsequent\r\n  //               computation time. </p>\r\n  //               <button className = \"previousb\" disabled = {this.state.pageNumber === 1}\r\n  //               onClick = {()=> this.setPageNumber(this.state.pageNumber-1)}>\r\n  //               Previous\r\n  //               </button>\r\n  //               <button className = \"nextb\"\r\n  //               onClick = {() => this.setPageNumber(this.state.pageNumber+1)}>\r\n  //               {this.state.pageNumber === this.state.maxPageNumber? \"Close\": \"Next\"}\r\n  //                </button>\r\n  //             </Modal>\r\n  //           </div>\r\n  //         }\r\n  //           if(this.state.pageNumber == 5){\r\n  //             return <div className = \"tutorialwindow\">\r\n  //               <Modal isOpen = {this.state.open} onRequestClose = {() => this.setOpen(false)} className = \"Modal\"\r\n  //               overlayClassName = \"Overlay\" shouldCloseOnOverlayClick = {true}>\r\n  //                 <button className = \"closeb\" onClick = {() => this.setOpen(false)}> X </button>\r\n  //                 <h2> {this.state.title} ({this.state.pageNumber}/{this.state.maxPageNumber})</h2>\r\n  //                 <p id = \"TutorialInfo\"> Nodes are represented by circles: <br/><img className = \"tutorialimage\" src = {nodeExample}></img><br/>\r\n  //                 Edges are represented by lines connecting nodes: <br/><img className = \"tutorialimage\" src = {edgeExample}></img><br/>\r\n  //                 The size and color of nodes are proportional to their degree, in other words, the number of other\r\n  //                 nodes they are connected to: <br/> <img className = \"tutorialimage\" src = {degreExample}/> </p>\r\n  //                 <button className = \"previousb\" disabled = {this.state.pageNumber === 1}\r\n  //                 onClick = {()=> this.setPageNumber(this.state.pageNumber-1)}>\r\n  //                 Previous\r\n  //                 </button>\r\n  //                 <button className = \"nextb\"\r\n  //                 onClick = {() => this.setPageNumber(this.state.pageNumber+1)}>\r\n  //                 {this.state.pageNumber === this.state.maxPageNumber? \"Close\": \"Next\"}\r\n  //                  </button>\r\n  //               </Modal>\r\n  //             </div>\r\n  //           }\r\n  //             if(this.state.pageNumber == 6){\r\n  //               return <div className = \"tutorialwindow\">\r\n  //                 <Modal isOpen = {this.state.open} onRequestClose = {() => this.setOpen(false)} className = \"Modal\"\r\n  //                 overlayClassName = \"Overlay\" shouldCloseOnOverlayClick = {true}>\r\n  //                   <button className = \"closeb\" onClick = {() => this.setOpen(false)}> X </button>\r\n  //                   <h2> {this.state.title} ({this.state.pageNumber}/{this.state.maxPageNumber})</h2>\r\n  //                   <p id = \"TutorialInfo\"> You can select which algorithm you would like to run by clicking here:\r\n  //                   <br/><img className = \"tutorialimage\" src = {algorithmSelectExample}></img><br/> And selecting the algorithm you would like to run: <br/> <img className = \"tutorialimage\" src ={algorithmExample} ></img>\r\n  //                   <br/> You can get a description of the algorithm by clicking the help button next to it: <br/><img className = \"tutorialimage\" src = {algorithmHelpExample}></img><br/> </p>\r\n  //                   <button className = \"previousb\" disabled = {this.state.pageNumber === 1}\r\n  //                   onClick = {()=> this.setPageNumber(this.state.pageNumber-1)}>\r\n  //                   Previous\r\n  //                   </button>\r\n  //                   <button className = \"nextb\"\r\n  //                   onClick = {() => this.setPageNumber(this.state.pageNumber+1)}>\r\n  //                   {this.state.pageNumber === this.state.maxPageNumber? \"Close\": \"Next\"}\r\n  //                    </button>\r\n  //                 </Modal>\r\n  //               </div>\r\n  //             }\r\n  //               if(this.state.pageNumber == 7){\r\n  //                 return <div className = \"tutorialwindow\">\r\n  //                   <Modal isOpen = {this.state.open} onRequestClose = {() => this.setOpen(false)} className = \"Modal\"\r\n  //                   overlayClassName = \"Overlay\" shouldCloseOnOverlayClick = {true}>\r\n  //                     <button className = \"closeb\" onClick = {() => this.setOpen(false)}> X </button>\r\n  //                     <h2> {this.state.title} ({this.state.pageNumber}/{this.state.maxPageNumber})</h2>\r\n  //                     <p id = \"TutorialInfo\"> You can choose the way you want your network to be randomly generated by selecting an option here:\r\n  //                     <br/><img className = \"tutorialimage\" src = {randomGenerationExample}></img><br/> At any time you can create a new random network by clicking on \"Reset Network\":<br/><img className = \"tutorialimage\" src = {resetNetworkExample}></img><br/>\r\n  //                     You can also find information about the type of random networking generation by clicking the help button next to it: <br/> </p>\r\n  //                     <button className = \"previousb\" disabled = {this.state.pageNumber === 1}\r\n  //                     onClick = {()=> this.setPageNumber(this.state.pageNumber-1)}>\r\n  //                     Previous\r\n  //                     </button>\r\n  //                     <button className = \"nextb\"\r\n  //                     onClick = {() => this.setPageNumber(this.state.pageNumber+1)}>\r\n  //                     {this.state.pageNumber === this.state.maxPageNumber? \"Close\": \"Next\"}\r\n  //                      </button>\r\n  //                   </Modal>\r\n  //                 </div>\r\n  //               }\r\n  //                 if(this.state.pageNumber == 8){\r\n  //                   return <div className = \"tutorialwindow\">\r\n  //                     <Modal isOpen = {this.state.open} onRequestClose = {() => this.setOpen(false)} className = \"Modal\"\r\n  //                     overlayClassName = \"Overlay\" shouldCloseOnOverlayClick = {true}>\r\n  //                       <button className = \"closeb\" onClick = {() => this.setOpen(false)}> X </button>\r\n  //                       <h2> {this.state.title} ({this.state.pageNumber}/{this.state.maxPageNumber})</h2>\r\n  //                       <p id = \"TutorialInfo\"> You can select what type of frame the network is drawn in by selecting a drop down option from here: <br/><img className = \"tutorialimage\" src = {layoutExample}></img><br/>\r\n  //                       As always you can find information about the type of frame by clicking the help button next to it: <br/> <img className = \"tutorialimage\" src = {networkLayoutHelp}></img><br/>\r\n  //                        </p>\r\n  //                       <button className = \"previousb\" disabled = {this.state.pageNumber === 1}\r\n  //                       onClick = {()=> this.setPageNumber(this.state.pageNumber-1)}>\r\n  //                       Previous\r\n  //                       </button>\r\n  //                       <button className = \"nextb\"\r\n  //                       onClick = {() => this.setPageNumber(this.state.pageNumber+1)}>\r\n  //                       {this.state.pageNumber === this.state.maxPageNumber? \"Close\": \"Next\"}\r\n  //                        </button>\r\n  //                     </Modal>\r\n  //                   </div>\r\n  //                 }\r\n  //                   if(this.state.pageNumber == 9){\r\n  //                     return <div className = \"tutorialwindow\">\r\n  //                       <Modal isOpen = {this.state.open} onRequestClose = {() => this.setOpen(false)} className = \"Modal\"\r\n  //                       overlayClassName = \"Overlay\" shouldCloseOnOverlayClick = {true}>\r\n  //                         <button className = \"closeb\" onClick = {() => this.setOpen(false)}> X </button>\r\n  //                         <h2> {this.state.title} ({this.state.pageNumber}/{this.state.maxPageNumber})</h2>\r\n  //                         <p id = \"TutorialInfo\"> There are a variety of settings for generating networks, which you can tweak to your liking: <br/><img className = \"tutorialimage\" src = {networkSettings}></img><br/>\r\n  //                         If you're not sure what the settings do, click the help button next to them for a description: <br/><img className = \"tutorialimage\" src = {networkSettingsHelp}></img><br/>\r\n  //                         There are also settings specific to the algorithm you can run, which you can also tweak to your liking:<br/><img className = \"tutorialimage\" src = {algorithmSettings}></img><br/> Settings will affect the outcome and procedure of\\\r\n  //                         the algorithm, so feel free to experiment with what works best. </p>\r\n  //                         <button className = \"previousb\" disabled = {this.state.pageNumber === 1}\r\n  //                         onClick = {()=> this.setPageNumber(this.state.pageNumber-1)}>\r\n  //                         Previous\r\n  //                         </button>\r\n  //                         <button className = \"nextb\"\r\n  //                         onClick = {() => this.setPageNumber(this.state.pageNumber+1)}>\r\n  //                         {this.state.pageNumber === this.state.maxPageNumber? \"Close\": \"Next\"}\r\n  //                          </button>\r\n  //                       </Modal>\r\n  //                     </div>}\r\n  }\r\n}\r\n\r\nexport default TutorialWindow;\r\n","export default function getPageInfo(page){\r\n  var info = \"\"\r\n  if(page === 1) info = getPage1();\r\n  if(page === 2) info = getPage2();\r\n  if(page === 3) info = getPage3();\r\n  if(page === 4) info = getPage4();\r\n  if(page === 5) info = getPage5();\r\n  if(page === 6) info = getPage6();\r\n  if(page === 7) info = getPage7();\r\n  if(page === 8) info = getPage8();\r\n  if(page === 9) info = getPage9();\r\n  return info;\r\n}\r\n\r\nfunction getPage1(){\r\n  const info = 'A network is typically thought of as a system of \\\r\n  interconnected things. <br><br> In Computer Science, we tend to analyze\\\r\n  large amounts of data and the relationships between said data. <br/><br/> \\\r\n  Indeed, networks provide an intuitive and efficient way to model large\\\r\n  amounts of related data. <br/><br/> We can represent data by Nodes: <br/> \\\r\n  <img src =\"nodeExample\"/><br/> And \\\r\n  relationships between data as Edges: <br> <img src= \"edgeExample\"/>';\r\n  return info;\r\n}\r\n\r\nfunction getPage2(){\r\n  const info = 'Structures and properties of Networks can tell us almost \\\r\n  everything we would want to know about the data we are analyzing. <br><br> \\\r\n  For example, optimizing a network can lead to a \"divide and conquer\" style approach \\\r\n  to solving the problems the data represents. <br> Representing a large amount of data as \\\r\n  smaller amounts that can be computed individually is just one application \\\r\n  of networks. <br> <br> In fact, networks have important applications in fields from \\\r\n  Machine Learning to Cyber Security.'\r\n  return info;\r\n}\r\n\r\nfunction getPage3(){\r\n  const info = 'There are a lot of different types of networks algorithms, all of\\\r\n  them fulfilling an important role in network analysis. <br><br> However, Network Layout Algorithms\\\r\n  stand at the core of important network algorithms as they are able to visualize <br>  networks \\\r\n  and optimize desireable properties of networks. <br><br> Network Layout Algorithms typically\\\r\n  optimize the following: <br> - Minimize edge crossings, that is, edges should intersect as little as possible <br> - Uniform edge lengths\\\r\n   <br> - Related nodes are drawn together <br> - Loosely related nodes are \\\r\n   drawn further apart'\r\n  return info;\r\n}\r\nfunction getPage4(){\r\n  const info = 'If computers were to optimize a network layout using specific criteria \\\r\n  they would do so in exponential time, meaning that solving large problems would scale exponentially. <br><br> \\\r\n  For example, optimizing a network of several million nodes would take with the most efficient\\\r\n  straighforward algorithms around 3500 hours, or just over 145 days. <br><br> In practice, it turns out\\\r\n  network layout algorithms do a good job of optimizing desireable properties of a\\\r\n  network. While the optimization is not perfect, <br> it is pretty close to perfect and is many times faster. <br> \\\r\n  <br> For comparison, optimizing a network of several million nodes using a network layout algorithm \\\r\n  would take less than a day. <br><br> Network layout algorithms also allow us, as humans, \\\r\n  to quickly identify properties of networks, potentially saving a huge amount of subsequent \\\r\n  computation time.';\r\n  return info;\r\n}\r\nfunction getPage5(){\r\n  const info = 'Nodes are represented by circles: <br><img src = {nodeExample}></img><br> \\\r\n  Edges are represented by lines connecting nodes: <br><img src = {edgeExample}></img><br> \\\r\n  The size and color of nodes are proportional to their degree, in other words, the number of other\\\r\n  nodes they are connected to: <br> <img src = {degreExample}>';\r\n  return info;\r\n}\r\nfunction getPage6(){\r\n  const info = ' You can select which algorithm you would like to run by clicking here: \\\r\n  <br><img src = {algorithmExample}></img><br> And selecting the algorithm you would like to run: <br> <img src = {algorithmSelectExample}></img>\\\r\n  <br> You can get a description of the algorithm by clicking the help button next to it: <br><img src = {algorithmHelpExample}></img><br>';\r\n  return info;\r\n}\r\nfunction getPage7(){\r\n  const info = 'You can choose the way you want your network to be randomly generated by selecting an option here: \\\r\n  <br><img src = {randomGenerationExample}></img><br> At any time you can create a new random network by clicking on \"Reset Network\":<br><img src = {resetNetworkExample}></img><br> \\\r\n  You can also find information about the type of random networking generation by clicking the help button next to it: <br><img src = {}></img><br>';\r\n  return info;\r\n}\r\nfunction getPage8(){\r\n  const info = 'You can select what type of frame the network is drawn in by selecting a drop down option from here: <br><img src = {layoutExample}></img><br>\\\r\n  As always you can find information about the type of frame by clicking the help button next to it: <br> <img src = {networkLayoutHelp}></img><br>';\r\n  return info;\r\n}\r\n\r\nfunction getPage9(){\r\n    const info = \"There are a variety of settings for generating networks, which you can tweak to your liking: <br><img src = {networkSettings}></img><br>\\\r\n    If you're not sure what the settings do, click the help button next to them for a description: <br><img src = {networkSettingsHelp}></img><br>\\\r\n    There are also settings specific to the algorithm you can run, which you can also tweak to your liking:<br><img src = {algorithmSettings}></img><br> Settings will affect the outcome and procedure of\\\r\n    the algorithm, so feel free to experiment with what works best. \";\r\n    return info;\r\n}\r\n","import React from \"react\";\r\nimport Modal from \"react-modal\";\r\n\r\nimport \"./GeneralNetworkSettings.css\";\r\n\r\nconst MAX_EDGES = 600;\r\n\r\nasync function waitSetConnected(that,value){\r\n  if(value === 0) await that.setState({connected:\"False\"});\r\n  if(value === 1) await that.setState({connected:\"True\"});\r\n  if(that.state.dimension === 2) that.network.current.resetNetwork();\r\n  if(that.state.dimension === 3) that.network3d.current.resetNetwork();\r\n}\r\n\r\nasync function waitSetVertices(that, v){\r\n  await that.setState({numV: v});\r\n  if(that.state.dimension === 2) that.network.current.resetNetwork();\r\n  if(that.state.dimension === 3) that.network3d.current.resetNetwork();\r\n}\r\n\r\nasync function waitSetEdges(that,e){\r\n  await that.setState({numE: e});\r\n  if(that.state.dimension === 2) that.network.current.resetNetwork();\r\n  if(that.state.dimension === 3) that.network3d.current.resetNetwork();\r\n}\r\n\r\nasync function waitSetLayout(that,w,h){\r\n  await that.setState({height: h,width: w});\r\n  if(that.state.dimension === 2) that.network.current.resetNetwork();\r\n  if(that.state.dimension === 3) that.network3d.current.resetNetwork();\r\n}\r\n\r\n\r\n\r\n\r\nclass GeneralNetworkSettings extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n    }\r\n    this.app = this.props.app;\r\n    this.network = this.app.network.current === null? this.app.network3d.current: this.app.network.current;\r\n  }\r\n\r\n  setOpen(v){\r\n    this.setState({open:v});\r\n  }\r\n\r\n  setAnimationSpeed(ms){\r\n    const value = Math.abs(150-parseInt(ms));\r\n    this.app.setState({animationSpeed: value});\r\n  }\r\n\r\n  setVertices(v){\r\n    const value = parseInt(v);\r\n    waitSetVertices(this.app, value)\r\n  }\r\n\r\n  setEdges(v){\r\n    const value = parseInt(v);\r\n    waitSetEdges(this.app, value)\r\n  }\r\n\r\n  setConnected(v){\r\n    const value = parseInt(v);\r\n    waitSetConnected(this.app, value);\r\n  }\r\n\r\n  setDisconnectedSubgraphs(){\r\n\r\n  }\r\n\r\n  render(){\r\n    return<div>\r\n          <Modal isOpen = {this.state.open}\r\n            onRequestClose = {() => this.setOpen(false)}\r\n            className = \"generalsettings\"\r\n            overlayClassName = \"generalsettingsoverlay\"\r\n            >\r\n            <p className = \"sliderHeader\" style = {{color: \"black\"}}>\r\n              <b style = {{color: \"white\"}} >General Network Settings</b>\r\n            </p>\r\n            <div className = \"sliders\">\r\n              <input\r\n                type = \"range\"\r\n                min = \"0\"\r\n                max = \"130\"\r\n                value = {Math.abs(150-this.app.state.animationSpeed)}\r\n                className = \"slider\"\r\n                onChange = {(event)=> this.setAnimationSpeed(event.target.value)}\r\n                disabled = {this.app.state.running}>\r\n              </input>\r\n              <label>\r\n                AnimationSpeed : {this.app.state.animationSpeed}ms\r\n              </label>\r\n              <input\r\n                type = \"range\"\r\n                min = \"4\"\r\n                max = \"200\"\r\n                value = {this.app.state.numV}\r\n                step = \"1\"\r\n                className = \"slider\"\r\n                name = \"weight\"\r\n                disabled = {this.app.state.running}\r\n                onChange = {(event) => this.setVertices(event.target.value)}>\r\n              </input>\r\n              <label>\r\n                Vertices: {this.app.state.numV}\r\n              </label>\r\n              <input\r\n                type = \"range\"\r\n                min =  {this.app.state.connected === \"True\"? this.app.state.numV-1: Math.min(20, this.app.state.numV-1)}\r\n                max = {Math.min(Math.floor((this.app.state.numV*this.app.state.numV - this.app.state.numV)/2), MAX_EDGES)}\r\n                value = {this.app.state.numE}\r\n                step = \"1\"\r\n                className = \"slider\"\r\n                name = \"weight\"\r\n                disabled = {this.app.state.running || this.network.state.randomType === \"cycle\"}\r\n                onChange = {(event) => this.setEdges(event.target.value)}>\r\n              </input>\r\n              <label>\r\n                Edges: {this.app.state.numE}\r\n              </label>\r\n              <input\r\n                type = \"range\"\r\n                min = \"0\"\r\n                max = \"1\"\r\n                value = {this.app.state.connected === \"True\"? \"1\":\"0\"}\r\n                step = \"1\"\r\n                className = \"slider\"\r\n                onChange = {(event) => this.setConnected(event.target.value)}\r\n                disabled = {this.app.state.running}>\r\n              </input>\r\n              <label>\r\n                Force Connectedness: {this.app.state.connected}\r\n              </label>\r\n              <input\r\n                type = \"range\"\r\n                min = \"1\"\r\n                max = \"3\"\r\n                step = \"1\"\r\n                value = {this.app.state.disconnected}\r\n                className = \"slider\"\r\n                onChange = {(event) => this.setDisconnectedSubgraphs(event.target.value)}\r\n                disabled = {true}>\r\n              </input>\r\n              <label>\r\n                Disconnected Subgraphs: {this.app.state.disconnected}\r\n              </label>\r\n              </div>\r\n      </Modal>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default GeneralNetworkSettings;\r\n","import React from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport AlgorithmAttributes from\"./AlgorithmAttributes\";\r\n\r\nimport \"./NetworkAlgorithmSettings.css\"\r\n\r\nclass NetworkAlgorithmSettings extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n      spring: {},\r\n      fruchterman: {},\r\n      forceatlas2: {},\r\n      forceatlaslinlog: {},\r\n      filtering: false,\r\n      filter: \"\",\r\n    }\r\n    this.app = this.props.app;\r\n    this.attributes = React.createRef();\r\n  }\r\n\r\n  setOpen(v){\r\n    this.setState({open:v});\r\n  }\r\n\r\n\r\n  render(){\r\n    return <div>\r\n              <Modal\r\n              isOpen = {this.state.open}\r\n              onRequestClose = {() => this.setOpen(false)}\r\n              className = \"algorithmsettings\"\r\n              overlayClassName = \"algorithmsettingsoverlay\">\r\n                <AlgorithmAttributes\r\n                 filtering = {this.state.filtering}\r\n                 filter = {this.state.filter}\r\n                 settings = {this}\r\n                 ref= {this.attributes}\r\n                 app = {this.app}/>\r\n              </Modal>\r\n           </div>\r\n  }\r\n}\r\n\r\nexport default NetworkAlgorithmSettings;\r\n","import React from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport TutorialWindow from \"./TutorialWindow\";\r\nimport GeneralNetworkSettings from \"./GeneralNetworkSettings\";\r\nimport NetworkAlgorithmSettings from \"./NetworkAlgorithmSettings\";\r\n\r\nimport \"./NetworkSideDrawer.css\";\r\n\r\nModal.setAppElement(\"#root\")\r\n\r\nexport const DrawerToggleButton = props => (\r\n  <button onClick = {props.openSettings} className = \"toggle_button\">\r\n    <div className = \"toggle_button-line\"></div>\r\n    <div className = \"toggle_button-line\"></div>\r\n    <div className = \"toggle_button-line\"></div>\r\n  </button>\r\n)\r\n\r\n\r\nclass NetworkSideDrawer extends React.Component{\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      open:false,\r\n      dimension: 2,\r\n    }\r\n    this.tutorial = React.createRef();\r\n    this.generalsettings = React.createRef();\r\n    this.algorithmsettings = React.createRef();\r\n    this.app = this.props.app;\r\n\r\n  }\r\n\r\n  setOpen(v){\r\n    this.setState({open:v});\r\n  }\r\n\r\n  componentDidUpdate(){\r\n    Modal.setAppElement(document.getElementById('BC'));\r\n  }\r\n\r\n  switchDimension(){\r\n    if(this.state.dimension == 2) {\r\n      this.setState({dimension: 3});\r\n      this.app.setState({dimension: 3, running: false});\r\n    }\r\n    if(this.state.dimension == 3) {\r\n      this.setState({dimension: 2});\r\n      this.app.setState({dimension: 2, running: false});\r\n    }\r\n  }\r\n\r\n  render(){\r\n\r\n    return <div>\r\n            <TutorialWindow open = {false}/>\r\n            <Modal isOpen = {this.state.open}\r\n            onRequestClose = {() => this.setOpen(false)}\r\n            className = \"sidedrawer\"\r\n            overlayClassName = \"sidedraweroverlay\"\r\n            >\r\n              <TutorialWindow ref = {this.tutorial} open = {false}/>\r\n              <GeneralNetworkSettings ref = {this.generalsettings} app = {this.app}/>\r\n              <NetworkAlgorithmSettings ref = {this.algorithmsettings} app = {this.app}/>\r\n              <div className = \"settings\">\r\n                <br></br>\r\n                <button onClick = {() => this.tutorial.current.setOpen(true)}> Tutorial </button>\r\n                <br></br>\r\n                <button onClick= {() => this.switchDimension()}> {this.state.dimension === 2? 3:2}D Networks </button>\r\n                <br></br>\r\n                <button onClick = {() => this.generalsettings.current.setOpen(true)}> General Settings </button>\r\n                <br></br>\r\n                <button onClick = {() => this.algorithmsettings.current.setOpen(true)}> Algorithm Settings </button>\r\n                <br></br>\r\n                <button> Upload Your Data</button>\r\n                <br></br>\r\n                <a href = \"https://github.com/alexandreLamarre/Network-Algorithm-Visualization#network-algorithm-visualization\" target= \"_blank\" > Documentation & Code </a>\r\n                <br></br>\r\n                <a href =\"https://github.com/alexandreLamarre/Network-Algorithm-Visualization/issues\" target =\"_blank\"> Report a Bug </a>\r\n                <br></br>\r\n              </div>\r\n            </Modal>\r\n          </div>\r\n  }\r\n}\r\n\r\nexport default NetworkSideDrawer;\r\n","import React from \"react\";\r\nimport {DrawerToggleButton} from \"./NetworkSideDrawer\";\r\nimport NetworkSideDrawer from \"./NetworkSideDrawer\";\r\nimport TutorialWindow from \"./TutorialWindow\";\r\n\r\nimport \"./NetworkNavBar.css\";\r\n\r\nclass NetworkNavBar extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.settings = React.createRef();\r\n    this.app = this.props.app;\r\n  }\r\n\r\n  openSettings(){\r\n    console.log(\"clicked\");\r\n    const open = this.settings.current.state.open;\r\n    this.settings.current.setOpen(!open);\r\n  }\r\n\r\n  render(){\r\n    return <div className = \"gonavbar\">\r\n              <NetworkSideDrawer ref = {this.settings} app = {this.app}></NetworkSideDrawer>\r\n              <header className = \"toolbar\">\r\n                <nav className =\"toolbar__navigation\">\r\n                  <div><DrawerToggleButton openSettings = {() => this.openSettings()}></DrawerToggleButton></div>\r\n                  <div className = \"toolbar__logo\"><a > Network Algorithm Visualizer {this.app.state.dimension ===3?3:2 }D </a></div>\r\n                  <div className =\"toolbar__search\">\r\n                      <form>\r\n                      <label> Search :\r\n                      </label>\r\n                      <input minLength = \"2\" list = \"search_values\"/>\r\n                      <datalist id = \"search_values\">\r\n                        <option value = \"Basic Spring Embedding\"/>\r\n                        <option value = \"Fruchterman-Reingold\"/>\r\n                        <option value = \"Force Atlas 2\"/>\r\n                        <option value = \"Force Atlas 2 (LinLog)\"/>\r\n                        <option value = \"Hall's Algorithm\"/>\r\n                        <option value = \"Generalized Eigenvector Spectral Drawing\"/>\r\n                        <option value = \"Kruskal's Algorithm\"/>\r\n                        <option value = \"Prim's Algorithm\"/>\r\n                        <option value = \"2-opt\"/>\r\n                        <option value = \"3-opt\"/>\r\n                        <option value = \"2-opt simulated annealing\"/>\r\n                      </datalist>\r\n                      </form>\r\n                  </div>\r\n                </nav>\r\n              </header>\r\n            </div>\r\n  }\r\n}\r\n\r\nexport default NetworkNavBar;\r\n","import Vertex from \"../datatypes/Vertex\";\r\nimport Edge from \"../datatypes/Edge\";\r\n\r\nexport function createRandomNetwork3D(maxWidth, maxHeight, maxDepth, numV, numE, conn, randomType){\r\n  let connected = conn;\r\n  let seed = randomType;\r\n  const maxDegree = numV-1;\r\n  let maxEdges = Math.floor((maxDegree*numV)/2)\r\n  const maxEdgesValue = maxEdges;\r\n  let vertices = [];\r\n  let available_vertices = [];\r\n  const center = [maxWidth/2, maxHeight/2, maxDepth/2];\r\n  const radius = (maxHeight/2)*0.90;\r\n\r\n  //create random points on canvas\r\n  for(let i = 0; i < numV; i ++){\r\n    var point = [0,0]\r\n    if(seed === \"random\" || seed === \"cycle\") point = createRandomPos(maxWidth, maxHeight, maxDepth);\r\n    if(seed === \"randomcircle\") point = createRandomPosSphere(center, radius);\r\n    const v = new Vertex(point[0], point[1], point[2]);\r\n    // v.color = (\"#111111\")\r\n    vertices.push(v);\r\n    available_vertices.push(i);\r\n  }\r\n  let edges = [];\r\n  let already_connected = new Map();\r\n  if(!(seed === \"cycle\")){\r\n    let remainingEdges = numE;\r\n    if(connected === \"True\"){\r\n      let unvisited = [];\r\n      for(var i = 0; i < numV; i++){\r\n        unvisited.push(i);\r\n      }\r\n      let visited = [];\r\n      var vIndex1 = pickRandomVertex(unvisited);\r\n      var v1 = unvisited[vIndex1];\r\n      visited.push(v1);\r\n      unvisited = removeFromArray(unvisited, vIndex1);\r\n\r\n      var visited_num = 1;\r\n      while(visited_num < numV){\r\n        var vIndex2 = pickRandomVertex(unvisited)\r\n        var v2 = unvisited[vIndex2];\r\n        visited.push(v2); //add to visited\r\n        const e = new Edge(v1,v2);\r\n        e.setColor(\"rgb(211,211,211)\");\r\n        edges.push(e);\r\n        vertices[v1].increment_degree();\r\n        vertices[v2].increment_degree();\r\n        remainingEdges --;\r\n        maxEdges --;\r\n        const indexTo = v1 + 1000* v2; // works as long as numV < 1000\r\n        const indexFrom = v2+ 1000*v1;\r\n        already_connected.set(indexTo, true);\r\n        already_connected.set(indexFrom, true);\r\n        //remove from unvisited\r\n        unvisited = removeFromArray(unvisited, vIndex2);\r\n        //reset v1\r\n        vIndex1 = pickRandomVertex(visited);\r\n        v1 = visited[vIndex1];\r\n        visited_num ++;\r\n      }\r\n    }\r\n    while(remainingEdges > 0 && maxEdges > 0 && available_vertices.length > 1){\r\n      const [random1, random2] = connectRandomVertices(available_vertices.slice());\r\n      if(random1 === random2) console.log(\"unexpected\");\r\n      if(random1 === undefined) console.log(\"unexpected undefiend 1\");\r\n      if(random2 === undefined) console.log(\"unexpected undefined 2\");\r\n      // console.log(\"rem:\", remainingEdges, \"max\", maxEdges);\r\n      const indexTo = random1+1000*random2; // as long as numV < 1000 this works\r\n      const indexFrom = random2+1000*random1;\r\n      if(already_connected.get(indexTo) === undefined ){\r\n        const e = new Edge(random1, random2);\r\n        e.setColor(\"rgb(211,211,211)\");\r\n        edges.push(e);\r\n        vertices[random1].increment_degree();\r\n        vertices[random2].increment_degree();\r\n        if(vertices[random1].degree > maxDegree) available_vertices.splice(random1, 1);\r\n        if(vertices[random2].degree > maxDegree) available_vertices.splice(random2, 1);\r\n        already_connected.set(indexTo, true);\r\n        already_connected.set(indexFrom, true);\r\n        remainingEdges --;\r\n        maxEdges --;\r\n        }\r\n      }\r\n  }\r\n  else{\r\n    //seed = cycle\r\n    var [path,root] = initial_random_cycle(vertices);\r\n    for(let i = 0; i < path.length-1; i++){\r\n      edges.push(new Edge(path[i], path[i+1]));\r\n      edges[i].setColor(\"rgb(211,211,211)\");\r\n    }\r\n    for(let i = 0; i < vertices.length; i++){\r\n      vertices[i].degree = 2;\r\n    }\r\n  }\r\n  return [vertices,edges];\r\n}\r\n\r\nfunction createRandomPos(maxWidth, maxHeight, maxDepth){\r\n  return [Math.random()*(maxWidth+1-5), Math.random()*(maxHeight+1-5), Math.random()*(maxDepth+1-5)];\r\n}\r\n\r\nfunction createRandomPosSphere(center, radius){\r\n  const randomAngle = Math.random()*(2*Math.PI);\r\n  const z = Math.random()*center[2] - center[2];\r\n  const theta = Math.asin(z/center[2]);\r\n  return [center[0]+ radius*Math.cos(theta)*Math.cos(randomAngle), center[1]+radius*Math.sin(theta)*Math.sin(randomAngle), center[2]+z]\r\n}\r\n\r\nfunction connectRandomVertices(vertices){\r\n  var random1 = vertices[Math.floor(Math.random()*vertices.length)];\r\n  vertices.splice(random1,1);\r\n  var random2 = vertices[Math.floor(Math.random()*vertices.length)];\r\n\r\n  return [random1, random2];\r\n}\r\n\r\nfunction pickRandomVertex(array){\r\n  return Math.floor(Math.random()*array.length)\r\n}\r\n\r\nfunction removeFromArray(array, index){\r\n  return array.slice(0,index).concat(array.slice(index+1))\r\n}\r\n\r\nfunction initial_random_cycle(vertices){\r\n\r\n  var root = 0;\r\n  var initial_path = []\r\n\r\n  //construct adjacency matrix\r\n  const adj = []\r\n  var available_vertices = [];\r\n  for(let i = 0; i < vertices.length; i++){\r\n    available_vertices.push(i);\r\n\r\n  }\r\n\r\n\r\n  root = pick_random_array(available_vertices);\r\n  available_vertices = remove_from_array(available_vertices, root);\r\n\r\n  initial_path.push(root);\r\n  for(let i = 0; i < vertices.length -1; i++){\r\n    const next_node = pick_random_array(available_vertices);\r\n    available_vertices = remove_from_array(available_vertices, next_node);\r\n    initial_path.push(next_node);\r\n  }\r\n  initial_path.push(root);\r\n\r\n  return [initial_path, root];\r\n}\r\n\r\nfunction remove_from_array(array, item){\r\n  var index  = array.indexOf(item)\r\n  return array.slice(0,index).concat(array.slice(index+1));\r\n}\r\n\r\nfunction pick_random_array(array){\r\n  return array[Math.floor(Math.random()*array.length)];\r\n}\r\n","import Force from \"../datatypes/Force\";\r\nimport Vertex from \"../datatypes/Vertex\";\r\nvar C= 1;\r\nvar K = 0.01; //OPTIMAL DISTANCE\r\nvar ITERATIONS = 300;\r\n\r\nexport function fruchtermanReingold3D(vertices,edges,graph_distancex, graph_distancey, iterations, settings){\r\n  const W = graph_distancex -6;\r\n  const L = graph_distancey -6;\r\n  const kIter = iterations;\r\n  ITERATIONS = kIter;\r\n  const coolingtype = settings.tempHeuristic;\r\n  const tempHeuristic = settings.tempHeuristic;\r\n  C = 1;\r\n  K = C* Math.sqrt((W)*(L)/(vertices.length));\r\n  const epsilon = settings.eps;\r\n\r\n  console.log(settings);\r\n\r\n  let t = 1;\r\n  let animations = [];\r\n  let temperature = (1/10)*W * settings.cTemp;\r\n  let temperature_list = [];\r\n  let previousAngle = [];\r\n  let scaling_factor = [];\r\n  if(coolingtype === \"Directional\"){\r\n    for(let i = 0; i < vertices.length; i ++){\r\n      temperature_list.push(temperature);\r\n    }\r\n  }\r\n  const initial_temperature = temperature;\r\n\r\n  while(t<kIter){\r\n    let force_list = [];\r\n    //calculate repulsive forces\r\n    for(let i = 0; i < vertices.length; i ++){\r\n      let f = new Force(0,0,0);\r\n      for(let j = 0; j < vertices.length; j ++){\r\n        if(i!== j){\r\n          const delta = distance(vertices[i], vertices[j]);\r\n          const calcs = frepulse(vertices[i], vertices[j], delta);\r\n          // var delta = distance(vertices[i], vertices[j]);\r\n          // var unitvector = unitVector(vertices[j], vertices[i])\r\n          f.addVector(calcs);\r\n        }\r\n      }\r\n      force_list.push(f);\r\n    }\r\n    //calculate attractive forces\r\n    for(let i = 0; i < edges.length; i++){\r\n      const e = edges[i];\r\n      if(e.start === e.end) console.log(\"well fuck\");\r\n      const delta = distance(vertices[e.start], vertices[e.end]);\r\n      const calcs = fattract(vertices[e.start], vertices[e.end], delta);\r\n      const ncalcs = [-calcs[0], -calcs[1], -calcs[2]]\r\n\r\n      force_list[e.end].addVector(calcs);\r\n      force_list[e.start].addVector(ncalcs);\r\n    }\r\n    //update positions\r\n    const iter_animations = [];\r\n    var minX = Infinity;\r\n    var minY = Infinity;\r\n    var minZ = Infinity;\r\n    var maxX = 0;\r\n    var maxY = 0;\r\n    var maxZ = 0;\r\n    var maxForce = 0;\r\n    const origin = new Vertex(0,0,0);\r\n\r\n    for(let i = 0; i < vertices.length; i++){\r\n      const unitvector = unitVector(force_list[i], origin)\r\n      const unitForce = new Force(unitvector[0], unitvector[1], unitVector[2]);\r\n      unitForce.setX(unitForce.x*Math.min(temperature, Math.abs(force_list[i].x)));\r\n      unitForce.setY(unitForce.y*Math.min(temperature, Math.abs(force_list[i].y)));\r\n      unitForce.setZ(unitForce.z*Math.min(temperature, Math.abs(force_list[i].z)));\r\n      vertices[i].add(unitForce);\r\n\r\n      //UPDATE CONVERGENCE\r\n      // if(i == 1){\r\n      //   maxForce = distance([new_x,new_y], old_vertices);\r\n      // }\r\n      // else{\r\n      //   maxForce = distance([new_x,new_y], old_vertices) > maxForce? distance([new_x,new_y], old_vertices): maxForce;\r\n      // }\r\n\r\n\r\n      minX = Math.min(minX, vertices[i].x);\r\n      minY = Math.min(minY, vertices[i].y);\r\n      minZ = Math.min(minZ, vertices[i].z);\r\n      maxX = vertices[i].x > maxX? vertices[i].x:maxX;\r\n      maxY = vertices[i].y > maxY? vertices[i].y:maxY;\r\n      maxZ = vertices[i].z > maxZ? vertices[i].z:maxZ;\r\n\r\n      iter_animations.push([vertices[i].x, vertices[i].y, vertices[i].z])\r\n    }\r\n    //update scaling factors, animations and particle temperature\r\n    scaling_factor.push([-minX,-minY, -minZ, W/(-minX+maxX), L/(-minY+maxY), L/(-minZ+maxZ)]);\r\n    animations.push(iter_animations);\r\n\r\n    if(tempHeuristic !== \"Directional\")temperature = cool(temperature, tempHeuristic, initial_temperature);\r\n    t+= 1;\r\n    // if(maxForce < epsilon) break;\r\n  }\r\n  const iter_animations = [];\r\n\r\n  for(let i = 0; i < animations.length; i++){\r\n    for(let j = 0; j < animations[i].length; j ++){\r\n      animations[i][j][0] = (animations[i][j][0] + scaling_factor[i][0])*scaling_factor[i][3];\r\n      animations[i][j][1] = (animations[i][j][1] + scaling_factor[i][1])*scaling_factor[i][4];\r\n      animations[i][j][2] = (animations[i][j][2] + scaling_factor[i][2]) * scaling_factor[i][5];\r\n    }\r\n  }\r\n  var minX = Infinity;\r\n  var minY = Infinity;\r\n  var minZ = Infinity;\r\n  var maxX = 0;\r\n  var maxY = 0;\r\n  var maxZ = 0;\r\n  for(let i = 0; i < vertices.length; i ++){\r\n    minX = Math.min(vertices[i].x, minX);\r\n    minY = Math.min(vertices[i].y, minY);\r\n    minZ = Math.min(vertices[i].z, minZ);\r\n    maxX = vertices[i].x > maxX? vertices[i].x:maxX;\r\n    maxY = vertices[i].y > maxY? vertices[i].y:maxY;\r\n    maxZ = vertices[i].z > maxZ? vertices[i].z:maxZ;\r\n  }\r\n  // maxX = Math.max(W, maxX);\r\n  // maxY = Math.max(L, maxY);\r\n  for(let i = 0; i <vertices.length; i ++){\r\n    vertices[i].x = (vertices[i].x + (-minX)) * W/(-minX+maxX);\r\n    vertices[i].y = (vertices[i].y + (-minY)) * L/(-minY+maxY);\r\n    vertices[i].z = (vertices[i].z + (-minZ))* L/(-minZ+maxZ);\r\n  }\r\n  // console.log(vertices);\r\n  return [vertices, animations];\r\n}\r\n\r\nfunction frepulse(v1,v2, delta){\r\n  const unitvector = unitVector(v1,v2)\r\n\r\n  return [((Math.pow(K,2))/delta)*unitvector[0], ((Math.pow(K,2))/delta)*unitvector[1], ((Math.pow(K,2))/delta)*unitvector[2]];\r\n}\r\n\r\nfunction fattract(v1,v2,delta){\r\n  const unitvector = unitVector(v1,v2);\r\n\r\n  return [unitvector[0]*(Math.pow(delta,2))/K, unitvector[1]*(Math.pow(delta,2))/K, unitvector[2]*(Math.pow(delta,2))/K];\r\n}\r\n\r\nfunction distance(v1,v2){\r\n  // console.log(x,y);\r\n  var distX = Math.pow((v1.x - v2.x), 2);\r\n  var distY = Math.pow((v1.y - v2.y), 2);\r\n  var distZ = Math.pow((v1.z - v2.z), 2);\r\n  if(distX + distY + distZ === 0) distX = 0.00000000000000000001\r\n\r\n  return  Math.sqrt((distX + distY+ distZ));\r\n}\r\n/**\r\n* UnitVector from X to Y\r\n*/\r\nfunction unitVector(v1,v2){\r\n  const new_x = v2.x - v1.x;\r\n  const new_y = v2.y - v1.y;\r\n  const new_z = v2.z - v1.z;\r\n  const dist = distance(v1,v2);\r\n  return [new_x/dist, new_y/dist, new_z/dist];\r\n}\r\n\r\nfunction cool(t, tempHeuristic, initial_temperature){\r\n  if(tempHeuristic === \"Linear\"){\r\n    return t - initial_temperature/ITERATIONS\r\n  }\r\n  if(tempHeuristic === \"Logarithmic\"){\r\n    return 0.90*t\r\n  }\r\n  if(tempHeuristic === \"Directional\"){\r\n    return t\r\n  }\r\n  return t\r\n}\r\n","import Force from \"../datatypes/Force\";\r\n\r\nvar CREP = 20;\r\nvar CSPRING = 20;\r\nvar lx = 0;\r\nvar ly = 0;\r\n/**\r\n* Basic spring embedding algorithm\r\n*/\r\nexport function springEmbedding3D(vertices,edges,graph_distancex, graph_distancey, iterations, settings){\r\n  // relevant constants for spring embedding\r\n  const W = graph_distancex -6;\r\n  const L = graph_distancey -6;\r\n  lx = 1 + ((Math.sqrt(W)/2-1)*settings.areascaling)/100;\r\n  ly = 1 + ((Math.sqrt(L)/2-1)*settings.areascaling)/100;\r\n  const K = iterations;\r\n\r\n  const epsilon = settings.eps;\r\n  const delta = settings.delta;\r\n  CREP = settings.kr;\r\n  CSPRING = settings.ka;\r\n  const distType = settings.distanceType;\r\n\r\n  console.log(settings);\r\n\r\n  let t = 1;\r\n  let animations = [];\r\n  let scaling_factor = [];\r\n\r\n  while(t<K){\r\n    let force_list = [];\r\n    for(let i =0; i < vertices.length; i++){\r\n      let f = new Force(0,0,0);\r\n      let vert_connected = []; //represents vertices we should not repulse later\r\n      // CALCULATE ATTRACTION FORCES\r\n      for(let j = 0; j < edges.length; j++){\r\n        if(i === edges[j].start && i !== edges[j].end){\r\n          const calcs = fattract(vertices[edges[j].start], vertices[edges[j].end], distType);\r\n          f.addVector(calcs)\r\n          vert_connected.push(edges[j].end);\r\n        }\r\n        if(i === edges[j].end && i !== edges[j].start){\r\n          const calcs = fattract(vertices[edges[j].end], vertices[edges[j].start], distType)\r\n          f.addVector(calcs)\r\n          vert_connected.push(edges[j].start);\r\n        }\r\n      }\r\n      //CALCULATE REPULSIVE FORCES\r\n      for(let j =0; j < vertices.length; j++){\r\n        if(i === j ) continue;\r\n        let connected = false;\r\n        for(let k = 0; k < vert_connected.length; k++){\r\n          if(j === vert_connected[k]) connected = true;\r\n        }\r\n        if(!connected){\r\n          const calcs = frepulse(vertices[i], vertices[j]);\r\n          f.addVector(calcs)\r\n        }\r\n      }\r\n      force_list.push(f)\r\n    }\r\n\r\n\r\n    //UPDATE POSITIONS\r\n    const iteration_animation = [];\r\n    var maxF = 0;\r\n    var minX = Infinity;\r\n    var minY = Infinity;\r\n    var minZ = Infinity;\r\n    var maxX = 0;\r\n    var maxY = 0;\r\n    var maxZ = 0;\r\n\r\n    for(let i = 0; i < vertices.length; i++){\r\n      force_list[i].scale(delta);\r\n      vertices[i].add(force_list[i]);\r\n\r\n      //update scaling_factor\r\n      minX =  minX = Math.min(minX, vertices[i].x)\r\n      minY = Math.min(minY, vertices[i].y);\r\n      minZ = Math.min(minZ, vertices[i].z);\r\n      maxX = vertices[i].x > maxX? vertices[i].x:maxX;\r\n      maxY = vertices[i].y > maxY? vertices[i].y:maxY;\r\n      maxZ = vertices[i].z > maxZ? vertices[i].z: maxZ;\r\n      //update animations\r\n      iteration_animation.push([vertices[i].x, vertices[i].y, vertices[i].z]);\r\n    }\r\n    scaling_factor.push([-minX, -minY, -minZ, W/((-minX)+maxX), L/((-minY)+maxY), L/((-minZ)+maxZ)])\r\n\r\n\r\n    animations.push(iteration_animation);\r\n    t += 1\r\n  }\r\n  //scale animations properly without affecting computations\r\n  for(let i = 0; i < animations.length; i++){\r\n    for(let j = 0; j < animations[i].length; j ++){\r\n      animations[i][j][0] = (animations[i][j][0] + scaling_factor[i][0])*scaling_factor[i][3];\r\n      animations[i][j][1] = (animations[i][j][1] + scaling_factor[i][1])*scaling_factor[i][4];\r\n      animations[i][j][2] = (animations[i][j][2] + scaling_factor[i][2])*scaling_factor[i][5];\r\n    }\r\n  }\r\n\r\n  var minX = Infinity;\r\n  var minY = Infinity;\r\n  var minZ = Infinity;\r\n  var maxX = 0;\r\n  var maxY = 0;\r\n  var mazZ = 0;\r\n  for(let i = 0; i < vertices.length; i ++){\r\n    minX = Math.min(vertices[i].x, minX);\r\n    minY = Math.min(vertices[i].y, minY);\r\n    minZ = Math.min(vertices[i].z, minZ);\r\n    maxX = vertices[i].x > maxX? vertices[i].x:maxX;\r\n    maxY = vertices[i].x > maxY? vertices[i].y:maxY;\r\n    maxZ = vertices[i].z > maxZ? vertices[i].z: maxZ;\r\n  }\r\n\r\n  for(let i = 0; i <vertices.length; i ++){\r\n    vertices[i].x = (vertices[i].x + -minX) * (W/(-minX+maxX));\r\n    vertices[i].y = (vertices[i].y + -minY) * (L/(-minY+maxY));\r\n    vertices[i].z = (vertices[i].z + -minZ) * (L/(-minZ+maxZ))\r\n  }\r\n  return [vertices, animations];\r\n}\r\n\r\n\r\n\r\n\r\nfunction frepulse(v1,v2){\r\n  var dist = distance(v2,v1);\r\n  const unitV = unitVector(v2,v1);\r\n  return [(CREP*unitV[0])/Math.sqrt(dist) , (CREP*unitV[1])/Math.sqrt(dist),\r\n                      (CREP*unitV[2])/Math.sqrt(dist)];\r\n\r\n}\r\n\r\nfunction fattract(v1,v2, distanceType){\r\n  var dist = distance(v1,v2);\r\n  const unitV = unitVector(v1,v2);\r\n\r\n  return [CSPRING* Math.log(dist/(lx)) * unitV[0],\r\n          CSPRING* Math.log(dist/(ly)) * unitV[1],\r\n          CSPRING* Math.log(dist/(ly)) * unitV[2]];\r\n}\r\n\r\nfunction distance(v1,v2){\r\n  const dist = Math.sqrt(Math.pow((v1.x - v2.x), 2) + Math.pow((v1.y - v2.y), 2) + Math.pow((v1.z-v2.z),2))\r\n  return dist === 0? 0.00000000000000000001: dist;\r\n}\r\n\r\n/**\r\n* UnitVector from X to Y\r\n*/\r\nfunction unitVector(v1,v2){\r\n  const new_x = v2.x - v1.x;\r\n  const new_y = v2.y - v1.y;\r\n  const new_z = v2.z - v1.z;\r\n  const dist = distance(v1,v2);\r\n  return [new_x/dist, new_y/dist, new_z/dist];\r\n}\r\n","import Force from \"../datatypes/Force\"\r\nvar ka = 1;\r\nvar kr = 1;\r\nvar kg = 10;\r\nvar ks = 0.1;\r\nvar tau = 0.1;\r\nvar ksmax = 10;\r\n//============================ REMEMBER TO ADD NO OVERLAP SETTING ==========================\r\nexport function forceAtlasLinLog3D(vertices,edges, graph_distancex, graph_distancey, iterations, settings ){\r\n\r\n  // Algorithm constants\r\n  const kIter = iterations;\r\n  const W = graph_distancex -6;\r\n  const L = graph_distancey -6;\r\n  // console.log(settings);\r\n  kr = settings.fr;\r\n  kg = settings.kg;\r\n  tau = settings.tau;\r\n  ksmax = settings.ksmax;\r\n\r\n\r\n  //set up loop variables\r\n  // console.log(degreeArray);\r\n  let t = 1;\r\n  let animations = [];\r\n  let scaling_factor = [];\r\n  let temperature = (1/10)*W;\r\n\r\n\r\n  let previous_forces = [];\r\n  for(let i = 0; i < vertices.length; i++){\r\n    previous_forces.push(new Force(0,0,0));\r\n  }\r\n  //calculate forces\r\n  while(t< kIter){\r\n    let force_list = [];\r\n\r\n    //calculate repulsive forces\r\n    for(let i = 0; i < vertices.length; i ++){\r\n      let f = new Force(0,0,0);\r\n      // if(t === 1)console.log(\"vertex\", i)\r\n      for(let j = 0; j < vertices.length; j ++){\r\n        if(i!== j){\r\n\r\n          const repulse_force = frepulse(vertices[i], vertices[j]);\r\n          f.addVector(repulse_force);\r\n        }\r\n      }\r\n      force_list.push(f);\r\n    }\r\n\r\n    //calculate attractive forces\r\n    for(let i = 0; i < edges.length; i ++){\r\n      const e = edges[i];\r\n      const attractive_force = fattract(vertices[e.start], vertices[e.end]);\r\n      const attractive_force_opp = [-attractive_force[0], -attractive_force[1], -attractive_force[2]];\r\n      force_list[e.start].addVector(attractive_force);\r\n      force_list[e.end].addVector(attractive_force_opp);\r\n    }\r\n\r\n\r\n    // calculate forces of gravity\r\n    if(settings.gravity === true){\r\n      // console.log(settings.gravity);\r\n      const center = (t === 1)? [W/2, L/2, L/2]: [(W/2) * 1/(scaling_factor[t-2][3]),(L/2) * 1/(scaling_factor[t-2][4]), (L/2) * 1/(scaling_factor[t-2][5])];\r\n      const center_force = new Force(center[0], center[1], center[2]);\r\n\r\n      for(let i = 0; i < vertices.length; i ++){\r\n        const gravity_force = fgravity(vertices[i], center_force);\r\n        // if(t === 1) console.log(gravity_force);\r\n        force_list[i].addVector(gravity_force)\r\n      }\r\n    }\r\n\r\n    //update positions\r\n    const iter_animations = [];\r\n    var minX = Infinity;\r\n    var minY = Infinity;\r\n    var minZ = Infinity;\r\n    var maxX = 0;\r\n    var maxY = 0;\r\n    var maxZ = 0;\r\n    var maxForce = 0;\r\n\r\n    //update global speed\r\n    var sG = 0;\r\n    var traG = 0;\r\n    var swgG = 0;\r\n    for(let i = 0; i < force_list.length; i++){\r\n      const origin = new Force(0,0,0);\r\n      const combined_force  = new Force(force_list[i].x + previous_forces[i].x, force_list[i].y + previous_forces[i].y,\r\n                                        force_list[i].z + previous_forces[i].z);\r\n      const traN = distance(combined_force, origin)/2\r\n      traG += (vertices[i].x+1) * traN;\r\n      const direction_force = new Force(force_list[i].x - previous_forces[i].x, force_list[i].y - previous_forces[i].y,\r\n                                        force_list[i].z -previous_forces[i].z);\r\n      const swgN = distance(direction_force, origin);\r\n      swgG += (vertices[i].degree+1)*swgN;\r\n    }\r\n    sG = tau*(traG/swgG);\r\n    // console.log(\"sG\",sG);\r\n\r\n    var sN = 0;\r\n    for(let i = 0; i < vertices.length; i++){\r\n      //find direction of forces\r\n      const origin = new Force(0,0,0);\r\n      const unitvector = unitVector(origin, force_list[i]);\r\n      //calculate temperatures\r\n      const direction_force = new Force(force_list[i].x - previous_forces[i].x, force_list[i].y - previous_forces[i].y,\r\n                                            force_list[i].z - previous_forces[i].z);\r\n      const swgN = distance(direction_force, origin);\r\n      sN = Math.min((ks*sG)/(1+sG*Math.sqrt(swgN)),ksmax/distance(force_list[i], origin));\r\n      // console.log(\"sN\", sN);\r\n      vertices[i].setX(vertices[i].x + sN*force_list[i].x);\r\n      vertices[i].setY(vertices[i].y + sN*force_list[i].y);\r\n      vertices[i].setZ(vertices[i].z + sN*force_list[i].z);\r\n\r\n      //update previous forces\r\n      previous_forces[i] = force_list[i];\r\n\r\n      //constants for scaling factor\r\n      minX = Math.min(minX, vertices[i].x);\r\n      minY = Math.min(minY, vertices[i].y);\r\n      minZ = Math.min(minZ, vertices[i].z);\r\n      maxX = vertices[i].x> maxX? vertices[i].x: maxX;\r\n      maxY = vertices[i].y > maxY? vertices[i].y: maxY;\r\n      maxZ = vertices[i].z > maxZ? vertices[i].z: maxZ;\r\n      //add animations\r\n      iter_animations.push([vertices[i].x, vertices[i].y, vertices[i].z]);\r\n    }\r\n    scaling_factor.push([-minX,-minY, -minZ, W/(-minX+maxX), L/(-minY+maxY), L/(-minZ+maxZ)]);\r\n    animations.push(iter_animations);\r\n    t+=1;\r\n  }\r\n  //Scale all the animations within the frame\r\n  for(let i = 0; i < animations.length; i++){\r\n    for(let j = 0; j < animations[i].length; j ++){\r\n      animations[i][j][0] = (animations[i][j][0] + scaling_factor[i][0])*scaling_factor[i][3];\r\n      animations[i][j][1] = (animations[i][j][1] + scaling_factor[i][1])*scaling_factor[i][4];\r\n      animations[i][j][2] = (animations[i][j][2] + scaling_factor[i][2])*scaling_factor[i][5];\r\n    }\r\n  }\r\n  var minX = Infinity;\r\n  var minY = Infinity;\r\n  var minZ = Infinity;\r\n  var maxX = 0;\r\n  var maxY = 0;\r\n  var maxZ = 0;\r\n  for(let i = 0; i < vertices.length; i ++){\r\n    minX = Math.min(vertices[i].x, minX);\r\n    minY = Math.min(vertices[i].y, minY);\r\n    minZ = Math.min(vertices[i].z, minZ);\r\n    maxX = Math.max(vertices[i].x, maxX);\r\n    maxY = Math.max(vertices[i].y, maxY);\r\n    maxZ = Math.max(vertices[i].z, maxZ)\r\n  }\r\n  for(let i = 0; i <vertices.length; i ++){\r\n    vertices[i].x = (vertices[i].x + (-minX)) * (W/(maxX+(-minX)));\r\n    vertices[i].y = (vertices[i].y + (-minY)) * (L/(maxY + (-minY)));\r\n    vertices[i].z = (vertices[i].z + (-minZ)) * (L/(maxZ + (-minZ)));\r\n  }\r\n\r\n  return [vertices, animations];\r\n  //Algorithm\r\n}\r\n\r\nfunction frepulse(x,y){\r\n  var dist = distance(x,y);\r\n  const unitvector = unitVector(y,x);\r\n  return [unitvector[0]*kr*(((x.degree+1)*(y.degree+1))/dist),\r\n            unitvector[1]*kr*(((x.degree+1)*(y.degree+1))/dist),\r\n            unitvector[2]*kr*(((x.degree+1)*(y.degree+1))/dist)];\r\n\r\n}\r\n\r\nfunction fattract(x,y){\r\n  var dist = distance(x,y);\r\n  const unitvector = unitVector(x,y);\r\n  return [unitvector[0] *Math.log(1+dist), unitvector[1]*Math.log(1+dist),\r\n                                        unitvector[2]*Math.log(1+dist)];\r\n}\r\n\r\nfunction fattractDissuade(x,y){\r\n  var dist = distance(x,y);\r\n  const unitvector = unitVector(x,y);\r\n  return [unitvector[0]*Math.log(1+dist)/(x.degree+1), unitvector[1]*Math.log(1+dist)/(x.degree+1),\r\n              unitvector[2]*Math.log(1+dist)/(x.degree+1)]\r\n}\r\n\r\n\r\n\r\nfunction fgravity(v, center){\r\n  var dist_center = distance(v,center);\r\n  var unitvector = unitVector(v,center);\r\n  return [unitvector[0]*kg*(v.degree+1)*dist_center, unitvector[1]*kg*(v.degree+1)*dist_center,\r\n                unitvector[2]*kg*(v.degree+1)*dist_center];\r\n}\r\n\r\nfunction distance(v1,v2){\r\n  var dist = Math.pow(v1.x-v2.x,2) + Math.pow((v1.y-v2.y),2) + Math.pow(v1.z-v2.z,2)\r\n  if(dist === 0) dist = 0.00000000000000000001\r\n  return  Math.sqrt(dist);\r\n}\r\n\r\n/**\r\n* UnitVector from X to Y\r\n*/\r\nfunction unitVector(v1,v2){\r\n  const new_x = v2.x - v1.x;\r\n  const new_y = v2.y - v1.y;\r\n  const new_z = v2.z - v1.z;\r\n  var dist = distance(v1,v2);\r\n  return [new_x/dist, new_y/dist, new_z/dist];\r\n}\r\n","import Force from \"../datatypes/Force\"\r\nvar ka = 1;\r\nvar kr = 1;\r\nvar kg = 10;\r\nvar ks = 0.1;\r\nvar tau = 0.1;\r\nvar ksmax = 10;\r\n//============================ REMEMBER TO ADD NO OVERLAP SETTING ==========================\r\nexport function forceAtlas23D(vertices,edges, graph_distancex, graph_distancey, iterations, settings ){\r\n\r\n  // Algorithm constants\r\n  const kIter = iterations;\r\n  const W = graph_distancex -6;\r\n  const L = graph_distancey -6;\r\n  // console.log(settings);\r\n  kr = settings.fr;\r\n  kg = settings.kg;\r\n  tau = settings.tau;\r\n  ksmax = settings.ksmax;\r\n\r\n\r\n  //set up loop variables\r\n  // console.log(degreeArray);\r\n  let t = 1;\r\n  let animations = [];\r\n  let scaling_factor = [];\r\n  let temperature = (1/10)*W;\r\n\r\n\r\n  let previous_forces = [];\r\n  for(let i = 0; i < vertices.length; i++){\r\n    previous_forces.push(new Force(0,0,0));\r\n  }\r\n  //calculate forces\r\n  while(t< kIter){\r\n    let force_list = [];\r\n\r\n    //calculate repulsive forces\r\n    for(let i = 0; i < vertices.length; i ++){\r\n      let f = new Force(0,0,0);\r\n      // if(t === 1)console.log(\"vertex\", i)\r\n      for(let j = 0; j < vertices.length; j ++){\r\n        if(i!== j){\r\n\r\n          const repulse_force = frepulse(vertices[i], vertices[j]);\r\n          f.addVector(repulse_force);\r\n        }\r\n      }\r\n      force_list.push(f);\r\n    }\r\n\r\n    //calculate attractive forces\r\n    for(let i = 0; i < edges.length; i ++){\r\n      const e = edges[i];\r\n      const attractive_force = fattract(vertices[e.start], vertices[e.end]);\r\n      const attractive_force_opp = [-attractive_force[0], -attractive_force[1], -attractive_force[2]];\r\n      force_list[e.start].addVector(attractive_force);\r\n      force_list[e.end].addVector(attractive_force_opp);\r\n    }\r\n\r\n\r\n    // calculate forces of gravity\r\n    if(settings.gravity === true){\r\n      const center = (t === 1)? [W/2, L/2, L/2]: [(W/2) * 1/(scaling_factor[t-2][3]),(L/2) * 1/(scaling_factor[t-2][4]), (L/2) * 1/(scaling_factor[t-2][5])];\r\n      const center_force = new Force(center[0], center[1], center[2]);\r\n\r\n      for(let i = 0; i < vertices.length; i ++){\r\n        const gravity_force = fgravity(vertices[i], center_force);\r\n        force_list[i].addVector(gravity_force)\r\n      }\r\n    }\r\n\r\n    //update positions\r\n    const iter_animations = [];\r\n    var minX = Infinity;\r\n    var minY = Infinity;\r\n    var minZ = Infinity;\r\n    var maxX = 0;\r\n    var maxY = 0;\r\n    var maxZ = 0;\r\n    var maxForce = 0;\r\n\r\n    //update global speed\r\n    var sG = 0;\r\n    var traG = 0;\r\n    var swgG = 0;\r\n    for(let i = 0; i < force_list.length; i++){\r\n      const origin = new Force(0,0,0);\r\n      const combined_force  = new Force(force_list[i].x + previous_forces[i].x, force_list[i].y + previous_forces[i].y,\r\n                                        force_list[i].z + previous_forces[i].z);\r\n      const traN = distance(combined_force, origin)/2\r\n      traG += (vertices[i].x+1) * traN;\r\n      const direction_force = new Force(force_list[i].x - previous_forces[i].x, force_list[i].y - previous_forces[i].y,\r\n                                        force_list[i].z -previous_forces[i].z);\r\n      const swgN = distance(direction_force, origin);\r\n      swgG += (vertices[i].degree+1)*swgN;\r\n    }\r\n    sG = tau*(traG/swgG);\r\n    // console.log(\"sG\",sG);\r\n\r\n    var sN = 0;\r\n    for(let i = 0; i < vertices.length; i++){\r\n      //find direction of forces\r\n      const origin = new Force(0,0,0);\r\n      const unitvector = unitVector(origin, force_list[i]);\r\n      //calculate temperatures\r\n      const direction_force = new Force(force_list[i].x - previous_forces[i].x, force_list[i].y - previous_forces[i].y,\r\n                                            force_list[i].z - previous_forces[i].z);\r\n      const swgN = distance(direction_force, origin);\r\n      sN = Math.min((ks*sG)/(1+sG*Math.sqrt(swgN)),ksmax/distance(force_list[i], origin));\r\n      // console.log(\"sN\", sN);\r\n      vertices[i].setX(vertices[i].x + sN*force_list[i].x);\r\n      vertices[i].setY(vertices[i].y + sN*force_list[i].y);\r\n      vertices[i].setZ(vertices[i].z + sN*force_list[i].z);\r\n\r\n      //update previous forces\r\n      previous_forces[i] = force_list[i];\r\n\r\n      //constants for scaling factor\r\n      minX = Math.min(minX, vertices[i].x);\r\n      minY = Math.min(minY, vertices[i].y);\r\n      minZ = Math.min(minZ, vertices[i].z);\r\n      maxX = vertices[i].x> maxX? vertices[i].x: maxX;\r\n      maxY = vertices[i].y > maxY? vertices[i].y: maxY;\r\n      maxZ = vertices[i].z > maxZ? vertices[i].z: maxZ;\r\n      //add animations\r\n      iter_animations.push([vertices[i].x, vertices[i].y, vertices[i].z]);\r\n    }\r\n    scaling_factor.push([-minX,-minY, -minZ, W/(-minX+maxX), L/(-minY+maxY), L/(-minZ+maxZ)]);\r\n    animations.push(iter_animations);\r\n    t+=1;\r\n  }\r\n  //Scale all the animations within the frame\r\n  for(let i = 0; i < animations.length; i++){\r\n    for(let j = 0; j < animations[i].length; j ++){\r\n      animations[i][j][0] = (animations[i][j][0] + scaling_factor[i][0])*scaling_factor[i][3];\r\n      animations[i][j][1] = (animations[i][j][1] + scaling_factor[i][1])*scaling_factor[i][4];\r\n      animations[i][j][2] = (animations[i][j][2] + scaling_factor[i][2])*scaling_factor[i][5];\r\n    }\r\n  }\r\n  var minX = Infinity;\r\n  var minY = Infinity;\r\n  var minZ = Infinity;\r\n  var maxX = 0;\r\n  var maxY = 0;\r\n  var maxZ = 0;\r\n  for(let i = 0; i < vertices.length; i ++){\r\n    minX = Math.min(vertices[i].x, minX);\r\n    minY = Math.min(vertices[i].y, minY);\r\n    minZ = Math.min(vertices[i].z, minZ);\r\n    maxX = Math.max(vertices[i].x, maxX);\r\n    maxY = Math.max(vertices[i].y, maxY);\r\n    maxZ = Math.max(vertices[i].z, maxZ)\r\n  }\r\n  for(let i = 0; i <vertices.length; i ++){\r\n    vertices[i].x = (vertices[i].x + (-minX)) * (W/(maxX+(-minX)));\r\n    vertices[i].y = (vertices[i].y + (-minY)) * (L/(maxY + (-minY)));\r\n    vertices[i].z = (vertices[i].z + (-minZ)) * (L/(maxZ + (-minZ)));\r\n  }\r\n\r\n  return [vertices, animations];\r\n  //Algorithm\r\n}\r\n\r\nfunction frepulse(x,y){\r\n  var dist = distance(x,y);\r\n  const unitvector = unitVector(y,x);\r\n  return [unitvector[0]*kr*(((x.degree+1)*(y.degree+1))/dist),\r\n            unitvector[1]*kr*(((x.degree+1)*(y.degree+1))/dist),\r\n            unitvector[2]*kr*(((x.degree+1)*(y.degree+1))/dist)];\r\n\r\n}\r\n\r\nfunction fattract(x,y){\r\n  var dist = distance(x,y);\r\n  const unitvector = unitVector(x,y);\r\n  return [unitvector[0] *dist, unitvector[1]*dist,\r\n                                        unitvector[2]*dist];\r\n}\r\n\r\nfunction fattractDissuade(x,y){\r\n  var dist = distance(x,y);\r\n  const unitvector = unitVector(x,y);\r\n  return [unitvector[0]*dist/(x.degree+1), unitvector[1]*dist/(x.degree+1),\r\n              unitvector[2]*dist/(x.degree+1)]\r\n}\r\n\r\n\r\n\r\nfunction fgravity(v, center){\r\n  var dist_center = distance(v,center);\r\n  var unitvector = unitVector(v,center);\r\n  return [unitvector[0]*kg*(v.degree+1)*dist_center, unitvector[1]*kg*(v.degree+1)*dist_center,\r\n                unitvector[2]*kg*(v.degree+1)*dist_center];\r\n}\r\n\r\nfunction distance(v1,v2){\r\n  var dist = Math.pow(v1.x-v2.x,2) + Math.pow((v1.y-v2.y),2) + Math.pow(v1.z-v2.z,2)\r\n  if(dist === 0) dist = 0.00000000000000000001\r\n  return  Math.sqrt(dist);\r\n}\r\n\r\n/**\r\n* UnitVector from X to Y\r\n*/\r\nfunction unitVector(v1,v2){\r\n  const new_x = v2.x - v1.x;\r\n  const new_y = v2.y - v1.y;\r\n  const new_z = v2.z - v1.z;\r\n  var dist = distance(v1,v2);\r\n  return [new_x/dist, new_y/dist, new_z/dist];\r\n}\r\n","import React from \"react\";\r\nimport Vertex from \"./datatypes/Vertex\";\r\nimport Edge from \"./datatypes/Edge\";\r\nimport * as THREE from \"three\";\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\r\nimport {createRandomNetwork3D} from \"./networkgeneration/createRandomNetwork3D\";\r\nimport {fruchtermanReingold3D} from \"./NetworkAlgorithms/FruchtermanReingold3D\";\r\nimport {springEmbedding3D} from \"./NetworkAlgorithms/springEmbedding3D\";\r\nimport {forceAtlasLinLog3D} from \"./NetworkAlgorithms/forceAtlasLinLog-3D\";\r\nimport {forceAtlas23D} from \"./NetworkAlgorithms/forceAtlas2-3D\";\r\nimport {kruskal} from \"./MSTAlgorithms/kruskal\";\r\nimport {prim} from \"./MSTAlgorithms/prims\";\r\nimport {opt2} from \"./TSP/opt2\";\r\nimport {opt3} from \"./TSP/opt3\";\r\nimport {GreedyColoring} from \"./Coloring/GreedyColoring\";\r\n\r\nimport \"./Network3D.css\";\r\n\r\nvar MAX_TIMEOUT = 30; //seconds\r\n\r\nclass NetworkVisualizer3D extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      height: 0,\r\n      width: 0,\r\n      depth: 0,\r\n      scene : null,\r\n      camera : null,\r\n      renderer: null,\r\n      vertices: [],\r\n      edges: [],\r\n      spheres : [],\r\n      lines: [],\r\n      algoType: \"spring\",\r\n      randomType: \"random\",\r\n      iterations: 100,\r\n      maxtimeouts: 0,\r\n      dragging: false,\r\n      previousMouseX : 0,\r\n      previousMouseY: 0,\r\n      algoType: \"spring\",\r\n      randomType: \"random\",\r\n      TSP: false,\r\n    }\r\n    this.app = this.props.app;\r\n    this.canvas = React.createRef();\r\n  }\r\n\r\n  componentDidMount(){\r\n    const w = window.innerHeight*0.55;\r\n    const h = window.innerHeight*0.55;\r\n    const d = window.innerHeight*0.55; //depth === 'z'- axis\r\n    this.canvas.current.height = h;\r\n    this.canvas.current.width = w;\r\n\r\n    var renderer = new THREE.WebGLRenderer({canvas: this.canvas.current, alpha:true});\r\n    renderer.setSize(w, h);\r\n    var scene = new THREE.Scene();\r\n    var camera = new THREE.PerspectiveCamera(75, w/h, 0.1, 1000);\r\n    var pointLight = new THREE.PointLight( 0xffffff , 1);\r\n    pointLight.position.set(1,1,2);\r\n    camera.add(pointLight)\r\n    camera.position.z = 1.7*d;\r\n    camera.position.x = w/2;\r\n    camera.position.y = h/2;\r\n    scene.add(camera);\r\n    renderer.render(scene, camera);\r\n\r\n    const [vertices,edges] = createRandomNetwork3D(w, h,d, this.app.state.numV,\r\n      this.app.state.numE, this.app.state.connected, this.state.randomType);\r\n\r\n    const spheres = [];\r\n    //displaying initial_vertices\r\n    for(let i = 0; i< vertices.length; i++){\r\n      const color = vertices[i].color;\r\n\r\n      //make a sphere\r\n      var geometry = new THREE.SphereGeometry(5,8,8);\r\n      var material = new THREE.MeshLambertMaterial({color: 0x00ffff});\r\n      var sphere = new THREE.Mesh(geometry, material);\r\n      const v = vertices[i]\r\n      sphere.position.set(v.x, v.y, v.z);\r\n      spheres.push(sphere);\r\n      scene.add(sphere);\r\n    }\r\n\r\n    const lines = [];\r\n    //displaying intial edges\r\n    for(let j = 0; j < edges.length; j++){\r\n        var material = new THREE.LineBasicMaterial({color : 0xa9a9a9});\r\n        material.opacity = 0.1;\r\n        var points = [];\r\n        const e = edges[j];\r\n        const v = vertices;\r\n        points.push(spheres[e.start].position);\r\n        points.push(spheres[e.end].position);\r\n        var geometry = new THREE.BufferGeometry().setFromPoints(points);\r\n\r\n\r\n        var line = new THREE.Line(geometry, material);\r\n        scene.add(line);\r\n        lines.push(line);\r\n    }\r\n\r\n    renderer.render(scene, camera);\r\n\r\n\r\n    this.setState({\r\n      width: w,\r\n      height: h,\r\n      depth: d,\r\n      scene: scene,\r\n      camera: camera,\r\n      renderer: renderer,\r\n      vertices: vertices,\r\n      edges: edges,\r\n      spheres: spheres,\r\n      lines: lines,\r\n    });\r\n  }\r\n\r\n  componentWillUnmount(){\r\n      var id = this.state.maxtimeouts;\r\n      while(id){\r\n        clearInterval(id);\r\n        id --;\r\n      }\r\n  }\r\n\r\n  componentDidUpdate(){\r\n    for(let i = 0; i< this.state.vertices.length; i++){\r\n      const v = this.state.vertices[i];\r\n      this.state.spheres[i].position.set(v.x, v.y, v.z);\r\n      this.state.spheres[i].material.color = new THREE.Color(this.state.vertices[i].color)\r\n    }\r\n\r\n\r\n    for(let j = 0; j< this.state.edges.length; j++){\r\n      const e = this.state.edges[j];\r\n      const v = this.state.vertices;\r\n\r\n      var pos = this.state.lines[j].geometry.attributes.position.array;\r\n      pos[0] = v[e.start].x;\r\n      pos[1] = v[e.start].y;\r\n      pos[2] = v[e.start].z;\r\n      pos[3] = v[e.end].x;\r\n      pos[4] = v[e.end].y;\r\n      pos[5] = v[e.end].z;\r\n      this.state.lines[j].geometry.attributes.position.needsUpdate = true;\r\n      this.state.lines[j].material.color = new THREE.Color(this.state.edges[j].color);\r\n    }\r\n\r\n    this.state.renderer.render(this.state.scene, this.state.camera);\r\n  }\r\n\r\n  generateForceDirectedLayout(){\r\n    const values = springEmbedding3D(this.state.vertices, this.state.edges,\r\n        this.state.width, this.state.height, this.state.iterations, this.app.state.settings.spring);\r\n    const final_vertices = values[0];\r\n    const animations = values[1];\r\n    // console.log(animations);\r\n    this.animateNetwork(animations, final_vertices);\r\n  }\r\n\r\n  generateReingold(){\r\n    const values = fruchtermanReingold3D(this.state.vertices, this.state.edges, this.state.width,\r\n        this.state.height, this.state.iterations, this.app.state.settings.fruchterman);\r\n\r\n    const final_vertices = values[0];\r\n    const animations = values[1];\r\n    this.animateNetwork(animations, final_vertices);\r\n  }\r\n\r\n  generateKamadaKawai(){\r\n\r\n  }\r\n\r\n  generateForceAtlas2(){\r\n    const [final_vertices, animations] = forceAtlas23D(this.state.vertices, this.state.edges,\r\n                this.state.width, this.state.height, this.state.iterations, this.app.state.settings.forceatlas2)\r\n    this.animateNetwork(animations, final_vertices);\r\n  }\r\n\r\n  generateForceAtlasLinLog(){\r\n    const values = forceAtlasLinLog3D(this.state.vertices, this.state.edges,\r\n                this.state.width, this.state.height, this.state.iterations, this.app.state.settings.forceatlaslinlog);\r\n    const animations = values[1];\r\n    // console.log(animations);\r\n    const final_vertices = values[0];\r\n    this.animateNetwork(animations, final_vertices);\r\n  }\r\n\r\n  generateHall(){\r\n\r\n  }\r\n\r\n  generateSpectralDrawing(){\r\n\r\n  }\r\n\r\n  generateRadialFlowDirected(){\r\n\r\n  }\r\n\r\n  generateKruskal(){\r\n    const values = kruskal(this.state.vertices, this.state.edges, 3);\r\n    const color_animations = values[0];\r\n    const sorted_edges = values[1];\r\n    // console.log(color_animations);\r\n    // waitSetSortedEdges\r\n    this.animateColoring(color_animations);\r\n  }\r\n\r\n  generatePrim(){\r\n    const animations = prim(this.state.vertices, this.state.edges, 2);\r\n    this.animateColoring(animations);\r\n  }\r\n\r\n  generate2Opt(){\r\n    this.animateTSP(opt2);\r\n  }\r\n\r\n  generate3Opt(){\r\n    this.animateTSP(opt3);\r\n  }\r\n\r\n  generateGreedyVertex(){\r\n    const [vertices, animations] = GreedyColoring(this.state.vertices, this.state.edges, this.app.state.dimension, [255,0,0], [0,0,255]);\r\n    this.animateColoring(animations);\r\n  }\r\n\r\n  runAlgorithm(){\r\n    if(this.state.algoType === \"spring\") this.generateForceDirectedLayout();\r\n    if(this.state.algoType === \"fruchtermanReingold\") this.generateReingold();\r\n    if(this.state.algoType === \"kamadaKawai\") this.generateKamadaKawai();\r\n    if(this.state.algoType === \"forceAtlas2\") this.generateForceAtlas2();\r\n    if(this.state.algoType === \"forceAtlasLinLog\") this.generateForceAtlasLinLog();\r\n    if(this.state.algoType === \"hall\") this.generateHall();\r\n    if(this.state.algoType === \"spectralDrawing\") this.generateSpectralDrawing();\r\n    if(this.state.algoType === \"radialFlowDirected\") this.generateRadialFlowDirected();\r\n    if(this.state.algoType === \"kruskal\") this.generateKruskal();\r\n    if(this.state.algoType === \"prim\") this.generatePrim();\r\n    if(this.state.algoType === \"2opt\") this.generate2Opt();\r\n    if(this.state.algoType === \"3opt\") this.generate3Opt();\r\n    if(this.state.algoType === \"greedyvertex\") this.generateGreedyVertex();\r\n\r\n  }\r\n\r\n  animateNetwork(animations, final_vertices){\r\n    let x = 0;\r\n    this.app.setState({running: true});\r\n    for(let k = 0; k < animations.length; k++){\r\n      x = setTimeout(() => {\r\n        const vertices = this.state.vertices;\r\n        for(let i = 0; i < vertices.length; i++){\r\n          vertices[i].setVector(animations[k][i]);\r\n        }\r\n        this.setState({vertices: vertices});\r\n        if(k === animations.length -1){\r\n          this.setState({vertices: final_vertices});\r\n          this.app.setState({running: false});\r\n        }\r\n      }, k*this.app.state.animationSpeed)\r\n    }\r\n    this.setState({maxtimeouts: x})\r\n  }\r\n\r\n  animateColoring(animations){\r\n    let x = 0;\r\n    this.app.setState({running:true});\r\n\r\n    for(let k =0; k < animations.length; k++){\r\n      x = setTimeout(() => {\r\n        const vertices = this.state.vertices;\r\n        const edges= this.state.edges;\r\n\r\n        if(animations[k].vIndex !== undefined){\r\n          vertices[animations[k].vIndex].color = (animations[k].color);\r\n          vertices[animations[k].vIndex].size = animations[k].size;\r\n        }\r\n        if(animations[k].eIndex !== undefined){\r\n          edges[animations[k].eIndex].setColor(animations[k].color);\r\n          edges[animations[k].eIndex].setAlpha(animations[k].alpha)\r\n        }\r\n\r\n        this.setState({vertices: vertices, edges:edges});\r\n        // console.log(\"animating\")\r\n        if(k === animations.length-1){\r\n          this.app.setState({running:false});\r\n          // console.log(final_vertices);\r\n        }\r\n      }, k * this.app.state.animationSpeed)\r\n    }\r\n    this.setState({maxtimeouts: x});\r\n  }\r\n\r\n  animateTSP(func){\r\n    let x = 0;\r\n    var STOP = 10;\r\n    var count = 0;\r\n    this.app.setState({running:true});\r\n    console.log(this.app.state.running)\r\n\r\n    for(let k =0; k < (MAX_TIMEOUT*1000)/this.app.state.animationSpeed; k++){\r\n      x = setTimeout(() => {\r\n        const [edges, better_solution]= func(this.state.vertices, this.state.edges, this.app.state.dimension);\r\n        const that = this;\r\n        animateEdges(that, edges);\r\n        //clear animation code;\r\n        // if(better_solution === true) count = 0;\r\n        // count ++;\r\n        // if(count >= STOP) break;\r\n        // console.log(\"animating\")\r\n        if(k === ((MAX_TIMEOUT*1000)/this.app.state.animationSpeed) -1){\r\n          this.app.setState({running:false});\r\n          // console.log(final_vertices);\r\n        }\r\n      }, k * this.app.state.animationSpeed)\r\n    }\r\n    this.setState({maxtimeouts: x});\r\n  }\r\n\r\n  resetNetwork(){\r\n    var renderer = new THREE.WebGLRenderer({canvas: this.canvas.current, alpha:true});\r\n    renderer.setSize(this.state.width, this.state.height);\r\n    var scene = new THREE.Scene();\r\n    var camera = new THREE.PerspectiveCamera(75, this.state.width/this.state.height, 0.1, 1000);\r\n    var pointLight = new THREE.PointLight( 0xffffff , 1);\r\n    pointLight.position.set(1,1,2);\r\n    camera.add(pointLight)\r\n    camera.position.z = 1.7*this.state.depth;\r\n    camera.position.x = this.state.width/2;\r\n    camera.position.y = this.state.height/2;\r\n    scene.add(camera);\r\n    renderer.render(scene, camera);\r\n\r\n    const [vertices,edges] = createRandomNetwork3D(this.state.width,this.state.height,\r\n      this.state.depth, this.app.state.numV, this.app.state.numE, this.app.state.connected,\r\n            this.state.randomType);\r\n    const spheres = [];\r\n    //displaying initial_vertices\r\n    for(let i = 0; i< vertices.length; i++){\r\n      const color = vertices[i].color;\r\n\r\n      //make a sphere\r\n      var geometry = new THREE.SphereGeometry(5,8,8);\r\n      var material = new THREE.MeshLambertMaterial({color: 0x00ffff});\r\n      var sphere = new THREE.Mesh(geometry, material);\r\n      const v = vertices[i]\r\n      sphere.position.set(v.x, v.y, v.z);\r\n      spheres.push(sphere);\r\n      scene.add(sphere);\r\n    }\r\n\r\n    const lines = [];\r\n    //displaying intial edges\r\n    for(let j = 0; j < edges.length; j++){\r\n        var material = new THREE.LineBasicMaterial({color : 0xa9a9a9});\r\n        material.opacity = 0.1;\r\n        var points = [];\r\n        const e = edges[j];\r\n        const v = vertices;\r\n        points.push(spheres[e.start].position);\r\n        points.push(spheres[e.end].position);\r\n        var geometry = new THREE.BufferGeometry().setFromPoints(points);\r\n\r\n\r\n        var line = new THREE.Line(geometry, material);\r\n        scene.add(line);\r\n        lines.push(line);\r\n    }\r\n    renderer.render(scene,camera);\r\n\r\n    this.setState({\r\n      vertices: vertices,\r\n      edges: edges,\r\n      scene: scene,\r\n      camera: camera,\r\n      renderer: renderer,\r\n      spheres: spheres,\r\n      lines: lines,\r\n    })\r\n\r\n    this.app.setState({numV: vertices.length, numE: edges.length});\r\n  }\r\n\r\n  zoomCamera(v){\r\n    const delta = Math.sign(v);\r\n    this.state.camera.position.z += 10*delta;\r\n    this.state.renderer.render(this.state.scene, this.state.camera);\r\n  }\r\n\r\n  resetCamera(){\r\n    this.state.camera.position.z = this.state.depth * 1.7;\r\n    this.state.camera.position.x = this.state.width/2;\r\n    this.state.camera.position.y = this.state.height/2;\r\n    this.state.renderer.render(this.state.scene, this.state.camera);\r\n  }\r\n\r\n  startDrag(e){\r\n    this.state.previousMouseX = e.clientX;\r\n    this.state.previousMouseY = e.clientY;\r\n    this.state.dragging = true;\r\n  }\r\n\r\n  endDrag(){\r\n    this.state.dragging = false;\r\n  }\r\n\r\n  rotateCamera(e){\r\n    if(this.state.dragging){\r\n      const deltaX = e.clientX - this.state.previousMouseX;\r\n      const deltaY = e.clientY - this.state.previousMouseY;\r\n      this.state.previousMouseX = e.clientX;\r\n      this.state.previousMouseY = e.clientY;\r\n      this.state.camera.position.y += deltaY\r\n      this.state.camera.position.x += -deltaX\r\n      this.state.renderer.render(this.state.scene, this.state.camera);\r\n    }\r\n  }\r\n\r\n  setAlgoType(v){\r\n    // this.attribute.current.setLayout(v)\r\n    this.setState({algoType: v});\r\n    if(v === \"2opt\" || v === \"3opt\" ||\r\n        v === \"2optannealing\" || v === \"3optannealing\"){\r\n          this.setState({TSP:true});\r\n          if(this.state.randomType !== \"cycle\") this.setRandomizedType(\"cycle\");\r\n        }\r\n    else{ this.setState({TSP: false})}\r\n  }\r\n\r\n  setRandomizedType(v){\r\n    const that = this;\r\n    waitSetRandomizedType(that, v);\r\n  }\r\n\r\n  cancelAnimation(){\r\n    var id = this.state.maxtimeouts;\r\n    while(id){\r\n      clearInterval(id);\r\n      id --;\r\n    }\r\n    this.app.setState({running: false});\r\n  }\r\n\r\n  resetColoring(){\r\n    const vertices = [];\r\n    const edges = [];\r\n    for(let i = 0; i < this.state.vertices.length; i ++){\r\n      vertices.push(new Vertex(this.state.vertices[i].x, this.state.vertices[i].y, this.state.vertices[i].z));\r\n    }\r\n    for(let j = 0; j < this.state.edges.length; j++){\r\n      edges.push(new Edge(this.state.edges[j].start, this.state.edges[j].end));\r\n      edges[j].setColor(\"#rgb(211,211,211)\");\r\n    }\r\n    this.setState({vertices: vertices, edges: edges});\r\n  }\r\n\r\n  render(){\r\n    return <div>\r\n              <canvas\r\n              className = \"canvas3d\"\r\n              ref = {this.canvas}\r\n              onWheel = {(e) => this.zoomCamera(e.deltaY)}\r\n              onMouseDown = {(e) => this.startDrag(e)}\r\n              onMouseUp = {() => this.endDrag()}\r\n              onMouseMove = {(e) => this.rotateCamera(e)}>\r\n              </canvas>\r\n              <div className = \"selectContainer\">\r\n                <div className = \"selectalgorow\">\r\n                <select className = \"selectalgo\"\r\n                onChange = {(event) => this.setAlgoType(event.target.value)}\r\n                disabled = {this.app.state.running}>\r\n                  <optgroup label = \"Force Directed Algorithms\">\r\n                  <option value = \"spring\"> Basic Spring Embedding </option>\r\n                  <option value = \"fruchtermanReingold\"> Fruchterman-Reingold </option>\r\n                  <option value = \"kamadaKawai\" disabled = {true} hidden = {true}> Kamada-Kawai </option>\r\n                  <option value = \"forceAtlas2\"> Force Atlas 2 </option>\r\n                  <option value = \"forceAtlasLinLog\"> Force Atlas 2 (LinLog) </option>\r\n                  </optgroup>\r\n                  <optgroup label = \"Spectral Layout Algorithms\">\r\n                  <option value = \"hall\" disabled = {true}> Hall's algorithm </option>\r\n                  <option value = \"spectralDrawing\" disabled = {true}> Generalized Eigenvector (Koren)</option>\r\n                  </optgroup>\r\n                  <optgroup label = \"Custom Algorithms\" hidden = {true}>\r\n                    <option value = \"radialFlowDirected\" disabled = {true}>  Radial Flow Directed </option>\r\n                  </optgroup>\r\n                  <optgroup label = \"Minimum Spanning Trees\">\r\n                    <option value =\"kruskal\"> Kruskral's Algorithm</option>\r\n                    <option value = \"prim\"> Prim's Algorithm </option>\r\n                  </optgroup>\r\n                  <optgroup label = \"TSP\">\r\n                    <option value = \"2opt\"> 2-Opt </option>\r\n                    <option value = \"3opt\"> 3-Opt </option>\r\n                    <option value = \"2optannealing\" disabled = {true}> 2-Opt Simulated Annealing </option>\r\n                    <option value = \"3optannealing\" disabled = {true} hidden = {true}> 3-Opt Simulated Annealing </option>\r\n                  </optgroup>\r\n                  <optgroup label = \"Edge Coloring Algorithms\">\r\n                    <option value = \"\" disabled = {true}> Misra-Gries Algorithm (Fan Rotation)</option>\r\n                  </optgroup>\r\n                  <optgroup label = \"Vertex Coloring Algorithms\">\r\n                    <option value = \"greedyvertex\"> Greedy Coloring </option>\r\n                  </optgroup>\r\n                </select>\r\n                <button className = \"b\"\r\n                disabled = {this.app.state.running === true }\r\n                onClick = {() => this.runAlgorithm()}> Run Algorithm\r\n                </button>\r\n                </div>\r\n                <div className = \"selectalgorow\" value = {this.state.randomType}>\r\n                <select className = \"selectalgo\"\r\n                onChange = {(event) => this.setRandomizedType(event.target.value)}\r\n                value = {this.state.randomType}>\r\n                  <option value = \"random\" disabled = {this.state.TSP === true}> Random </option>\r\n                  <option value = \"randomcircle\" disabled = {this.state.TSP === true}> Random Sphere </option>\r\n                  <option value = \"cycle\"> Random Hamiltonian Cycle </option>\r\n                  <option value = \"randomclustering\" disabled = {true}> Random Clustering </option>\r\n                </select>\r\n                <button className = \"b\"\r\n                disabled = {this.app.state.running === true }\r\n                onClick = {() => this.resetNetwork()}> Reset Network\r\n                </button>\r\n                </div>\r\n                <div className = \"selectalgorow\">\r\n                <button className = \"b\"\r\n                onClick = {() => this.resetCamera()}\r\n                > Reset Camera </button>\r\n                <button className = \"b\"\r\n                onClick = {() => this.cancelAnimation()}>\r\n                Cancel Animation </button>\r\n                <button className = \"b\"\r\n                onClick = {() => this.resetColoring()}\r\n                disabled = {this.app.state.running}>\r\n                Reset Coloring</button>\r\n                </div>\r\n              </div>\r\n          </div>\r\n  }\r\n\r\n}\r\n\r\nexport default NetworkVisualizer3D;\r\n\r\nasync function waitSetRandomizedType(that,v){\r\n  await that.setState({randomType: v});\r\n  that.resetNetwork();\r\n}\r\n\r\nasync function animateEdges(that, edges){\r\n  await that.setState({edges: edges});\r\n}\r\n","import React from 'react';\nimport './App.css';\nimport NetworkVisualizer from \"./Network\";\nimport NetworkNavBar from \"./NetworkNavBar\";\nimport NetworkVisualizer3D from \"./Network3D\";\n\n\nclass App extends React.Component{\n  constructor(props){\n    super(props)\n    this.state = {\n      running:false,\n      animationSpeed: 50,\n      numV: 120,\n      numE: 300,\n      connected: \"True\",\n      maxE: 600,\n      minE: 20,\n      settings: {\n        spring: {ka: 2, kr: 1, eps: 0.5,\n                delta: 0.1, areascaling: 0,\n                distanceType: 1},\n        fruchterman: {cTemp: 1,\n                tempHeuristic: \"Logarithmic\", eps: 0.5},\n        forceatlas2: {fr: 10, gravity: false,\n                      gravityType: \"Normal\", kg: 10,\n                      tau: 0.1, ksmax: 10,\n                      overlappingNodes: true},\n        forceatlaslinlog: {fr: 10, gravity: false,\n                      gravityType: \"Normal\", kg: 10,\n                      tau: 0.1, ksmax: 10,\n                      overlappingNodes: true}},\n      dimension: 2,\n    }\n    this.network = React.createRef();\n    this.network3d = React.createRef();\n    this.navbar = React.createRef();\n  }\n\n\n  render() {\n    let network;\n    if(this.state.dimension === 2){\n      network = <NetworkVisualizer ref = {this.network} app = {this}/>\n    }\n    else{\n      network = <NetworkVisualizer3D ref = {this.network3d} app = {this}/>\n    }\n\n    return (\n      <div className=\"App\">\n        <div className = \"AppElements\">\n          <NetworkNavBar ref = {this.navbar} app = {this}/>\n          {network}\n        </div>\n      </div>\n    );\n  }\n}\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}